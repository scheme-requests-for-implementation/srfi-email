<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Names and primitives in SRFI 56 -->
<!--X-From-R13: Oyrk Euvaa <sbbsNflagupbqr.pbz> -->
<!--X-Date: Tue, 28 Sep 2004 17:11:39 +0200 (DFT) -->
<!--X-Message-Id: 86wtyetom3.wl@lain.inunome.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20040917213758.M77231@strader.xs4all.nl -->
<!--X-Reference: 86acvo1f2j.wl@lain.inunome.com -->
<!--X-Reference: 970B39CE&#45;1142&#45;11D9&#45;A9EB&#45;0003938ABA20@sarg.ryerson.ca -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Names and primitives in SRFI 56</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00061.html">Date Prev</a>][<a href="msg00063.html">Date Next</a>][<a href="msg00059.html">Thread Prev</a>][<a href="msg00063.html">Thread Next</a>][<a href="maillist.html#00062">Date Index</a>][<a href="threads.html#00062">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Names and primitives in SRFI 56</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-56">SRFI 56</a> from before July 7th, 2015.  The new archives for SRFI 56 are <a href="http://srfi-email.schemers.org/srfi-56/">here</a>.  The new archives contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Dave Mason &lt;<a href="mailto:dmason@DOMAIN.HIDDEN">dmason@xxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: Names and primitives in SRFI 56</li>
<li><em>From</em>: Alex Shinn &lt;<a href="mailto:foof@DOMAIN.HIDDEN">foof@xxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Tue, 28 Sep 2004 10:11:32 -0500</li>
<li><em>Cc</em>: <a href="mailto:srfi-56@DOMAIN.HIDDEN">srfi-56@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-56@DOMAIN.HIDDEN">srfi-56@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:970B39CE-1142-11D9-A9EB-0003938ABA20@DOMAIN.HIDDEN">970B39CE-1142-11D9-A9EB-0003938ABA20@xxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:20040917213758.M77231@DOMAIN.HIDDEN">20040917213758.M77231@xxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:86acvo1f2j.wl@DOMAIN.HIDDEN">86acvo1f2j.wl@xxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:970B39CE-1142-11D9-A9EB-0003938ABA20@DOMAIN.HIDDEN">970B39CE-1142-11D9-A9EB-0003938ABA20@xxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Wanderlust/2.10.1 (Watching The Wheels) SEMI/1.14.6 (Maruoka) FLIM/1.14.6 (Marutamachi) APEL/10.6 Emacs/21.3 (i386-pc-linux-gnu) MULE/5.0 (SAKAKI)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>At Tue, 28 Sep 2004 07:36:08 -0400, Dave Mason wrote:
&gt; 
&gt; On 17 Sep 2004, at 22:33, Alex Shinn wrote:
&gt; 
&gt; &gt; an alternative would be to have three sets of procedures with no
&gt; &gt; optional argument:
&gt; &gt;
&gt; &gt;   read-&lt;int&gt;  ; native
&gt; &gt;   read-be-&lt;int&gt; or read-network-&lt;int&gt;
&gt; &gt;   read-le-&lt;int&gt;
&gt; 
&gt; a) Presumably those would be slightly faster implementations (with 
&gt; read-&lt;int&gt; being one or other of read-be-&lt;int&gt; or read-le-&lt;int&gt;).

I originally figured a fast implementation is likely to inline the
primitives, and with a static 'big-endian or 'little-endian there
would be no difference.  Also with higher-level procedures it's more
convenient to take and pass on an endian argument than to have two (or
three) versions of every binary procedure.  I would only seriously
consider the separate procedures if compiler writers insisted it were
a worthwhile gain.

&gt; b) Given some of the other discussion on the list (see bear's comments 
&gt; on the ubiquity of the Internet), I wonder if it is optimal to have 3 
&gt; ways to do it.  The reasoning is to *strongly* encourage people to 
&gt; write portable, network aware, code.

And force a performance hit on all big-endian machines?  Please read
[HOLY] from the bibliography :)

&gt; The first approach would be to provide *only* read-be-&lt;int&gt; and 
&gt; read-le-&lt;int&gt;, possibly named read-net-&lt;int&gt; and read-swapped-&lt;int&gt; 

It is common to have a binary format which includes the endian type in
its header or magic, and you want to then think in terms of the endian
and pass it on to utilities, so explicitly naming big-endian and
little-endian is a useful mnemonic.

&gt; The second approach would be to provide read-&lt;int&gt; and read-net-&lt;int&gt;, 
&gt; where the read-&lt;int&gt; does the local thing, and read-net-&lt;int&gt; does the 
&gt; portable (B.E.) thing.

This makes handling the above file types impossible, and so could not
be a consideration at all.

-- 
Alex

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00038" href="msg00038.html">Names and primitives in SRFI 56</a></strong>
<ul><li><em>From:</em> Hans Oesterholt-Dijkema</li></ul></li>
<li><strong><a name="00043" href="msg00043.html">Re: Names and primitives in SRFI 56</a></strong>
<ul><li><em>From:</em> Alex Shinn</li></ul></li>
<li><strong><a name="00059" href="msg00059.html">Re: Names and primitives in SRFI 56</a></strong>
<ul><li><em>From:</em> Dave Mason</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00061.html">Re: vectors of numbers</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00063.html">Re: Names and primitives in SRFI 56</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00059.html">Re: Names and primitives in SRFI 56</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00063.html">Re: Names and primitives in SRFI 56</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00062"><strong>Date</strong></a></li>
<li><a href="threads.html#00062"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
