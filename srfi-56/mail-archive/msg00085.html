<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: finalize or withdraw? -->
<!--X-From-R13: Bre Pbguare <creNobguare.pbz> -->
<!--X-Date: Tue, 23 Aug 2005 09:59:11 +0200 (DFT) -->
<!--X-Message-Id: 430AD746.8050308@bothner.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 5fb7e08705081821246fa303c6@mail.gmail.com -->
<!--X-Reference: y9lhddl2j4a.fsf@sams.informatik.uni&#45;tuebingen.de -->
<!--X-Reference: 5fb7e087050821211763f7f10f@mail.gmail.com -->
<!--X-Reference: y9lslx2ot1g.fsf@sams.informatik.uni&#45;tuebingen.de -->
<!--X-Reference: 430A13B4.909@bothner.com -->
<!--X-Reference: y9l1x4lp1bg.fsf@sams.informatik.uni&#45;tuebingen.de -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: finalize or withdraw?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00084.html">Date Prev</a>][<a href="msg00086.html">Date Next</a>][<a href="msg00083.html">Thread Prev</a>][<a href="msg00087.html">Thread Next</a>][<a href="maillist.html#00085">Date Index</a>][<a href="threads.html#00085">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: finalize or withdraw?</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-56">SRFI 56</a> from before July 7th, 2015.  The new archives for SRFI 56 are <a href="http://srfi-email.schemers.org/srfi-56/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Michael Sperber &lt;<a href="mailto:sperber@DOMAIN.HIDDEN">sperber@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: finalize or withdraw?</li>
<li><em>From</em>: Per Bothner &lt;<a href="mailto:per@DOMAIN.HIDDEN">per@xxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Tue, 23 Aug 2005 00:59:02 -0700</li>
<li><em>Cc</em>: Alex Shinn &lt;<a href="mailto:alexshinn@DOMAIN.HIDDEN">alexshinn@xxxxxxxxx</a>&gt;, <a href="mailto:srfi-56@DOMAIN.HIDDEN">srfi-56@xxxxxxxxxxxxxxxxx</a>,	<a href="mailto:srfi-68@DOMAIN.HIDDEN">srfi-68@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-56@DOMAIN.HIDDEN">srfi-56@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:y9l1x4lp1bg.fsf@DOMAIN.HIDDEN">y9l1x4lp1bg.fsf@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:5fb7e08705081821246fa303c6@DOMAIN.HIDDEN">5fb7e08705081821246fa303c6@xxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:y9lhddl2j4a.fsf@DOMAIN.HIDDEN">y9lhddl2j4a.fsf@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:5fb7e087050821211763f7f10f@DOMAIN.HIDDEN">5fb7e087050821211763f7f10f@xxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:y9lslx2ot1g.fsf@DOMAIN.HIDDEN">y9lslx2ot1g.fsf@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:430A13B4.909@DOMAIN.HIDDEN">430A13B4.909@xxxxxxxxxxx</a>&gt; &lt;<a href="mailto:y9l1x4lp1bg.fsf@DOMAIN.HIDDEN">y9l1x4lp1bg.fsf@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Mozilla Thunderbird 1.0.6-1.1.fc4 (X11/20050720)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Michael Sperber wrote:
&gt; Per Bothner &lt;per@xxxxxxxxxxx&gt; writes:
&gt;
&gt;
&gt;&gt;The benefit is for the implementors: If you specify ports that can
&gt;&gt;arbitrarily mix text and binary then implementors can no longer
&gt;&gt;use common abstractions and existing libraries.
&gt;
&gt; Well, if you don't allow this, you also prevent common abstractions.

The abstraction [or may &quot;functionality&quot;?] of &quot;writing a character or
string to a binary file&quot; is meaningless.  The functionality of &quot;writing
a character/string in a specific encoding&quot; does make sense.  I agree
the functionality of writing a binary file that can contain embedded
UTF-8 strings is meaningful and useful.

However, this functionality is different from a character-stream
API.

&gt; As to the use of &quot;existing librariers,&quot; you can use the reference
&gt; implementation---that's why I wrote it.
&gt; ...
&gt; I'm not sure what you mean by &quot;directly,&quot; but SRFI 68 specifies
&gt; transcoders for Latin 1, UTF-16, and UTF-32.

Are you serious?  These are all trivial, and few people
(no-one?) uses UTF-16 or UTF-32 for file storage/transmission.

How do you plan to support all the other Latin-X character sets,
JIS, GB 2312-80, and ISO 2022?

&gt; I'm unclear on what your point is---if you want to know how easy or
&gt; hard it is to write custom transcoders, look in the reference
&gt; implementation on how the UTF transcoders are done

I don't want to write transcoders.  Other people have already written
then, and it's a lot of work, and a lot of large tables.  I want to
use the existing Java trsnacoders or the existing C library
transcoders.

&gt;&gt;The default encoding of a character port *must* be the
&gt;&gt;&quot;native&quot; encoding of the user's locale.
&gt;
&gt; No, it must not be, especially as the idea of a &quot;native encoding&quot;
&gt; associated with the locale is shadowy at best.  For example, your OS
&gt; might have a notion of locale, but simply sport separate I/O
&gt; procedures for different text encodings.  That's the case on Windows,
&gt; for example.

I'm missing your point, or vice versa.  My point is: if I as a
computer create a text file without doing anything special,
it will have a particular encoding that is presumably suitable
for my language and environment.  This default encoding may
have been set up by my system administrator or the company
that sold me my computer.

If I then as a beginning Scheme programmer write a program
to read this file, I should not have to use an magic options
or commands to do so - it should just work, even if my
default encoding is different from with UTF-8.

&gt;&gt;I don't see how anything else can even be seriously considered: a
&gt;&gt;beginning Scheme programmer should be able to write a simple program
&gt;&gt;that reads or writes a file without having to set up translators, or
&gt;&gt;specify an encoding.  SRFI 68 appears to contradict this
&gt;&gt;requirement.
&gt;
&gt;
&gt; I don't think so---at least that wasn't my intention.  Where do you
&gt; think does SRFI 68 contradict you?

I can't comment specifically, since SRFI 68 seems to be unavailable:
<a  rel="nofollow" href="http://srfi.schemers.org/srfi-68/srfi-68.html">http://srfi.schemers.org/srfi-68/srfi-68.html</a> yields a file not found.
But perhaps you could comment on do you expect this to work?  Assume
I'm Japanese and using some version of JIS.  (Or a German using
Latin-1, for that matter.)  How should my Scheme implementation handle
this?
--
	--Per Bothner
per@xxxxxxxxxxx   <a  rel="nofollow" href="http://per.bothner.com/">http://per.bothner.com/</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00087" href="msg00087.html">Re: finalize or withdraw?</a></strong>
<ul><li><em>From:</em> Michael Sperber</li></ul></li>
<li><strong><a name="00088" href="msg00088.html">Re: finalize or withdraw?</a></strong>
<ul><li><em>From:</em> Alex Shinn</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00072" href="msg00072.html">finalize or withdraw?</a></strong>
<ul><li><em>From:</em> Alex Shinn</li></ul></li>
<li><strong><a name="00078" href="msg00078.html">Re: finalize or withdraw?</a></strong>
<ul><li><em>From:</em> Michael Sperber</li></ul></li>
<li><strong><a name="00079" href="msg00079.html">Re: finalize or withdraw?</a></strong>
<ul><li><em>From:</em> Alex Shinn</li></ul></li>
<li><strong><a name="00080" href="msg00080.html">Re: finalize or withdraw?</a></strong>
<ul><li><em>From:</em> Michael Sperber</li></ul></li>
<li><strong><a name="00081" href="msg00081.html">Re: finalize or withdraw?</a></strong>
<ul><li><em>From:</em> Per Bothner</li></ul></li>
<li><strong><a name="00083" href="msg00083.html">Re: finalize or withdraw?</a></strong>
<ul><li><em>From:</em> Michael Sperber</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00084.html">Re: finalize or withdraw?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00086.html">Re: finalize or withdraw?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00083.html">Re: finalize or withdraw?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00087.html">Re: finalize or withdraw?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00085"><strong>Date</strong></a></li>
<li><a href="threads.html#00085"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
