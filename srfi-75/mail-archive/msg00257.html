<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Surrogates and character representation -->
<!--X-From-R13: Euveb Ynjnv <fuvebNynin.arg> -->
<!--X-Date: Thu, 28 Jul 2005 12:06:53 +0200 (DFT) -->
<!--X-Message-Id: 20050728.000652.1016278026.shiro@lava.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 42E8546F.9000407@bothner.com -->
<!--X-Reference: 17128.22540.135687.288180@tiphares.basistech.net -->
<!--X-Reference: Pine.LNX.4.58.0507280119280.28883@bolt.sonic.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Surrogates and character representation</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00256.html">Date Prev</a>][<a href="msg00258.html">Date Next</a>][<a href="msg00256.html">Thread Prev</a>][<a href="msg00259.html">Thread Next</a>][<a href="maillist.html#00257">Date Index</a>][<a href="threads.html#00257">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Surrogates and character representation</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-75">SRFI 75</a> from before July 7th, 2015.  The new archives for SRFI 75 are <a href="http://srfi-email.schemers.org/srfi-75/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:bear@DOMAIN.HIDDEN">bear@xxxxxxxxx</a></li>
<li><em>Subject</em>: Re: Surrogates and character representation</li>
<li><em>From</em>: Shiro Kawai &lt;<a href="mailto:shiro@DOMAIN.HIDDEN">shiro@xxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Thu, 28 Jul 2005 00:06:52 -1000 (HST)</li>
<li><em>Cc</em>: <a href="mailto:tree@DOMAIN.HIDDEN">tree@xxxxxxxxxxxxx</a>, <a href="mailto:per@DOMAIN.HIDDEN">per@xxxxxxxxxxx</a>, <a href="mailto:srfi-75@DOMAIN.HIDDEN">srfi-75@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-75@DOMAIN.HIDDEN">srfi-75@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:Pine.LNX.4.58.0507280119280.28883@DOMAIN.HIDDEN">Pine.LNX.4.58.0507280119280.28883@xxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:42E8546F.9000407@DOMAIN.HIDDEN">42E8546F.9000407@xxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:17128.22540.135687.288180@DOMAIN.HIDDEN">17128.22540.135687.288180@xxxxxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:Pine.LNX.4.58.0507280119280.28883@DOMAIN.HIDDEN">Pine.LNX.4.58.0507280119280.28883@xxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>From: bear &lt;bear@xxxxxxxxx&gt;
Subject: Re: Surrogates and character representation
Date: Thu, 28 Jul 2005 01:24:15 -0700 (PDT)

&gt; On Wed, 27 Jul 2005, Tom Emerson wrote:
&gt; 
&gt; &gt;Per Bothner writes:
&gt; &gt;&gt; If you have the luxury of reading your entire file into memory (and in
&gt; &gt;&gt; the process expanding its size by a good bit) you can of course do all
&gt; &gt;&gt; kinds of processing and index-building.
&gt; &gt;
&gt; &gt;I have text files containing 100MB worth of UTF-8 encoded text with
&gt; &gt;character offsets in supplemental files. This happens regularly in
&gt; &gt;corpus linguistics.
&gt; 
&gt; Uh, seconded.  Same reason (corpus linguistics).  There is no
&gt; practical way to keep track of &quot;marks&quot; for hundreds of thousands
&gt; (or millions) of interlinear annotations, and be able to serialize
&gt; the string and read it back with marks intact. Numeric offsets do
&gt; a better, more natural job.

Ok, I'm convinced that character index has advantage here.

I see that it's a matter of the place where you pay the cost.
Assuming the text files are in utf-8, if your internal
string is ucs32 array, you pay the cost while reading the text;
if your represent string by rope internally, you distribute the
cost for reading time and accessing time; if your internal string
is utf-8, you can just mmap the text file, but you pay the cost
at loading index data, when you perform some sort of index conversion.

When you apply lots of different index set onto a single text file,
the first choice (paying the cost at text reading time) wins.

--shiro

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00259" href="msg00259.html">Re: Surrogates and character representation</a></strong>
<ul><li><em>From:</em> Per Bothner</li></ul></li>
<li><strong><a name="00261" href="msg00261.html">Re: Surrogates and character representation</a></strong>
<ul><li><em>From:</em> Alan Watson</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00251" href="msg00251.html">Re: Surrogates and character representation</a></strong>
<ul><li><em>From:</em> Per Bothner</li></ul></li>
<li><strong><a name="00252" href="msg00252.html">Re: Surrogates and character representation</a></strong>
<ul><li><em>From:</em> Tom Emerson</li></ul></li>
<li><strong><a name="00256" href="msg00256.html">Re: Surrogates and character representation</a></strong>
<ul><li><em>From:</em> bear</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00256.html">Re: Surrogates and character representation</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00258.html">Re: Surrogates and character representation</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00256.html">Re: Surrogates and character representation</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00259.html">Re: Surrogates and character representation</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00257"><strong>Date</strong></a></li>
<li><a href="threads.html#00257"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
