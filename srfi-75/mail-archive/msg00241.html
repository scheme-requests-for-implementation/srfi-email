<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Surrogates and character representation -->
<!--X-From-R13: Fubznf Zbeq <ybeqNrzs.arg> -->
<!--X-Date: Wed, 27 Jul 2005 20:31:50 +0200 (DFT) -->
<!--X-Message-Id: 1122489128.4577.15.camel@dev1.seyza.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Surrogates and character representation</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00240.html">Date Prev</a>][<a href="msg00242.html">Date Next</a>][<a href="msg00246.html">Thread Prev</a>][<a href="msg00242.html">Thread Next</a>][<a href="maillist.html#00241">Date Index</a>][<a href="threads.html#00241">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Surrogates and character representation</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-75">SRFI 75</a> from before July 7th, 2015.  The new archives for SRFI 75 are <a href="http://srfi-email.schemers.org/srfi-75/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-75@DOMAIN.HIDDEN">srfi-75@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: Surrogates and character representation</li>
<li><em>From</em>: Thomas Lord &lt;<a href="mailto:lord@DOMAIN.HIDDEN">lord@xxxxxxx</a>&gt;</li>
<li><em>Date</em>: Wed, 27 Jul 2005 11:32:07 -0700</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-75@DOMAIN.HIDDEN">srfi-75@xxxxxxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
I'm surprised that nobody in the threads about
constant-time access to Unicode strings has 
mentioned adaptive encoding forms.

My plan (and stalled code) works that way.  If a
string contains only codepoints in 0..255, store it as bytes.
0..ffff, use 16-bits, otherwise, use 32.

All access to a given codepoint position is O(1) that way.
Some mutations and are worst-case linear in
the length of the string but can be expected case O(1).

Some strings need to be converted before being passed to
functions provided by the native environment.  On 
the other hand, linguistic text is likely to be space
efficient.

This technique internally uses non-standard and 
restricted encoding forms.  Surrogates are never
used in this representation as a stand-in for a 
wider character and so there is no difficulty
handling unpaired surrogates.  (Even concatenating
one string ending in a high surrogate with one
beginning with a low surrogate produces the desirable
result: a string with two adjacent unpaired surrogates.)

-t


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00242" href="msg00242.html">Re: Surrogates and character representation</a></strong>
<ul><li><em>From:</em> John.Cowan</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00240.html">Re: Surrogates and character representation</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00242.html">Re: Surrogates and character representation</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00246.html">Re: Surrogates and character representation</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00242.html">Re: Surrogates and character representation</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00241"><strong>Date</strong></a></li>
<li><a href="threads.html#00241"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
