<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: feedback -->
<!--X-From-R13: Bnhy Epuyvr <fpuyvrNpbzpnfg.arg> -->
<!--X-Date: Tue, 30 Mar 2004 17:24:20 +0200 (DFT) -->
<!--X-Message-Id: BC8EFB4B.AF13%schlie@comcast.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: BC8EF56B.AF0E%schlie@comcast.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: feedback</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00028.html">Date Prev</a>][<a href="msg00030.html">Date Next</a>][<a href="msg00028.html">Thread Prev</a>][<a href="msg00030.html">Thread Next</a>][<a href="maillist.html#00029">Date Index</a>][<a href="threads.html#00029">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: feedback</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-54">SRFI 54</a> from before July 7th, 2015.  The new archives for SRFI 54 are <a href="http://srfi-email.schemers.org/srfi-54/">here</a>.  The new archives contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: &lt;<a href="mailto:srfi-54@DOMAIN.HIDDEN">srfi-54@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: feedback</li>
<li><em>From</em>: Paul Schlie &lt;<a href="mailto:schlie@DOMAIN.HIDDEN">schlie@xxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Tue, 30 Mar 2004 10:24:11 -0500</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-54@DOMAIN.HIDDEN">srfi-54@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:BC8EF56B.AF0E%25schlie@DOMAIN.HIDDEN">BC8EF56B.AF0E%schlie@xxxxxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Microsoft-Entourage/10.1.4.030702.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>And while I'm at it, how about accepting arbitrary hierarchical lists of
format specifiers such they may be composed without requiring their splicing
into the format specifier list:

(let ((sign-fmt '(-t s: +)))
  (let ((field-fmt '(w: 10 f: 3)))
    (fmt-num 12 sign-fmt field-fmt)))

=&gt; &quot; #e+12.000&quot;

&gt; From: Paul Schlie &lt;schlie@xxxxxxxxxxx&gt;
&gt; Date: Tue, 30 Mar 2004 09:59:07 -0500
&gt; To: &lt;srfi-54@xxxxxxxxxxxxxxxxx&gt;
&gt; Subject: Re: feedback
&gt; Resent-From: srfi-54@xxxxxxxxxxxxxxxxx
&gt; Resent-Date: Tue, 30 Mar 2004 16:59:18 +0200 (DFT)
&gt; 
&gt; And further sorry, obviously the format keys should themselves have been
&gt; quoted as well to keep things simple, potentially implying that a
&gt; parameter-less specifiers should simply have the form of: 'X ...
&gt; 
&gt; (fmt-str a (fmt-num 12 't 's: '+ 'f: 3) &quot; &quot; #\a &quot; str &quot; '(3 #\s &quot;string&quot;))
&gt; 
&gt; =&gt; &quot;(10 3 +) #e+12.000 a str (3 #\\s \&quot;string\&quot;)&quot;
&gt; 
&gt; [ apparently, not thinking straight this morning,
&gt; hope I haven't screwed anything else up?       ]
&gt; 
&gt; -paul-
&gt; 
&gt;&gt; From: Paul Schlie &lt;schlie@xxxxxxxxxxx&gt;
&gt;&gt; Date: Tue, 30 Mar 2004 09:38:06 -0500
&gt;&gt; To: Paul Schlie &lt;schlie@xxxxxxxxxxx&gt;, &lt;srfi-54@xxxxxxxxxxxxxxxxx&gt;
&gt;&gt; Subject: Re: feedback
&gt;&gt; 
&gt;&gt; Sorry, last formatted list object should not have been quoted:
&gt;&gt; 
&gt;&gt; =&gt; &quot;(10 3 +) #e+12.000 a str (3 #\\s \&quot;string\&quot;)&quot;
&gt;&gt; 
&gt;&gt; 
&gt;&gt;&gt; From: Paul Schlie &lt;schlie@xxxxxxxxxxx&gt;
&gt;&gt;&gt; Date: Tue, 30 Mar 2004 09:32:21 -0500
&gt;&gt;&gt; To: &lt;srfi-54@xxxxxxxxxxxxxxxxx&gt;
&gt;&gt;&gt; Subject: Re: feedback
&gt;&gt;&gt; Resent-From: srfi-54@xxxxxxxxxxxxxxxxx
&gt;&gt;&gt; Resent-Date: Tue, 30 Mar 2004 16:32:35 +0200 (DFT)
&gt;&gt;&gt; 
&gt;&gt;&gt; Please consider:
&gt;&gt;&gt; 
&gt;&gt;&gt; - personally believe fmt-xxx should produce a string (or lazy stream) where
&gt;&gt;&gt; a quoted scheme object, when displayed and then read back, would would be
&gt;&gt;&gt; equivalent, if not quoted, it's simply evaluated and then correspondingly
&gt;&gt;&gt; treated. which I suspect would be more generally useful and intuitive:
&gt;&gt;&gt; 
&gt;&gt;&gt; - Per your example below:
&gt;&gt;&gt; 
&gt;&gt;&gt; (fmt-str a (fmt-num 12 -t s: '+ f: 3) &quot; &quot; #\a &quot; str &quot; '(3 #\s &quot;string&quot;))
&gt;&gt;&gt; 
&gt;&gt;&gt;  =&gt; &quot;(10 3 +) #e+12.000 a str '(3 #\\s \&quot;string\&quot;)&quot;
&gt;&gt;&gt; 
&gt;&gt;&gt; note: where fmt parameters have the form of:
&gt;&gt;&gt;       -X if parameter-less, i.e. -t for display type prefix
&gt;&gt;&gt;       X: if parameterized, i.e. s: &lt;sign&gt; or f: &lt;fraction-digits&gt;
&gt;&gt;&gt; 
&gt;&gt;&gt; - the value of fmt-xxx potentially yielding/consuming ports (or streams),
&gt;&gt;&gt; is that it enables lazily evaluated arbitrary length hierarchically
&gt;&gt;&gt; specified format specifications; which would likely be otherwise
&gt;&gt;&gt; potentially physically impractical to achieve.
&gt;&gt;&gt; 
&gt;&gt;&gt; (which format does not enable)
&gt;&gt;&gt; 
&gt;&gt;&gt; Thanks, -paul-
&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; From: soo &lt;tilde@xxxxxxxxxxx&gt;
&gt;&gt;&gt;&gt; ...
&gt;&gt;&gt;&gt;  In SRFI-48 mailing list, Marc Feeley said:
&gt;&gt;&gt;&gt;  ...
&gt;&gt;&gt;&gt;  To make printing easier, a general purpose function called &quot;print&quot;
&gt;&gt;&gt;&gt;  could be added with this definition:
&gt;&gt;&gt;&gt;  (define (print . lst) (for-each display lst))
&gt;&gt;&gt;&gt;  allowing
&gt;&gt;&gt;&gt;  (print &quot;list: &quot; (field '(one &quot;two&quot; 3)))
&gt;&gt;&gt;&gt;  ...
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; Likewise, we can make a procedure:
&gt;&gt;&gt;&gt; (define (cat . objects)
&gt;&gt;&gt;&gt; (get-output-string
&gt;&gt;&gt;&gt;  (let ((string-port (open-output-string)))
&gt;&gt;&gt;&gt;    (for-each (lambda (object)
&gt;&gt;&gt;&gt; (display object string-port))
&gt;&gt;&gt;&gt;       objects)
&gt;&gt;&gt;&gt;    string-port)))
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; Examples:
&gt;&gt;&gt;&gt; (cat 12 &quot; &quot; #\a &quot; str &quot; '(3 #\s &quot;string&quot;))
&gt;&gt;&gt;&gt; (fmt 12 &quot; &quot; (fmt #\a) &quot; str &quot; (fmt '(3 #\s &quot;string&quot;)))
&gt;&gt;&gt;&gt; =&gt; &quot;12 a str (3 s string)&quot;
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; (define a '(10 3 +))
&gt;&gt;&gt;&gt; (cat a (fmt 12 10 3 '+) &quot; &quot; #\a &quot; str &quot; (fmt '(3 #\s &quot;string&quot;) write))
&gt;&gt;&gt;&gt; (cat a (apply fmt 12 a) &quot; &quot; #\a &quot; str &quot; (fmt '(3 #\s &quot;string&quot;) write))
&gt;&gt;&gt;&gt; (fmt a (fmt 12 10 3 '+) &quot; &quot; (fmt #\a) &quot; str &quot; (fmt '(3 #\s &quot;string&quot;)
&gt;&gt;&gt;&gt; write))
&gt;&gt;&gt;&gt; =&gt; &quot;(10 3 +) #e+12.000 a str (3 #\\s \&quot;string\&quot;)&quot;
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; | - as observed in the earlier srfi-48 discussions, it may even be better
&gt;&gt;&gt;&gt; | (both more general, and efficient) to define that resulting format
&gt;&gt;&gt;&gt; functions
&gt;&gt;&gt;&gt; | yield string-ports, rather than strings; which could then even be made
&gt;&gt;&gt;&gt; more
&gt;&gt;&gt;&gt; | general if formatting functions themselves were able to accept
&gt;&gt;&gt;&gt; string-ports,
&gt;&gt;&gt;&gt; | such that more complex hierarchically defined formats may be defined as
&gt;&gt;&gt;&gt; | desired.
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; FMT manipulates not string ports but strings.
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; If we have a procedure like `open-output-string?', we can make FMT to
&gt;&gt;&gt;&gt; append
&gt;&gt;&gt;&gt; the strings in the string ports to the resulting string like &lt;string&gt;
&gt;&gt;&gt;&gt; parameter.
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; Additionally, even though FMT is not fully extensible, If &lt;output-port&gt;
&gt;&gt;&gt;&gt; parameter is added to FMT, it can print the resulting string like FORMAT,
&gt;&gt;&gt;&gt; and
&gt;&gt;&gt;&gt; If &lt;input-port&gt; parameter is added, `file-&gt;string' function can be added,
&gt;&gt;&gt;&gt; and
&gt;&gt;&gt;&gt; If &lt;separator&gt; parameter is added like '(#\, 3), comma separator function
&gt;&gt;&gt;&gt; can
&gt;&gt;&gt;&gt; be added.
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; | - lastly, although personally I too would like format specifications to
&gt;&gt;&gt;&gt; be
&gt;&gt;&gt;&gt; | as succinct as possible, I suspect that all format specifications
&gt;&gt;&gt;&gt; containing
&gt;&gt;&gt;&gt; | more than a single specifier should be tagged with at least a single
&gt;&gt;&gt;&gt; letter
&gt;&gt;&gt;&gt; | semi-descriptive symbol to both give a hint as to what the specified
&gt;&gt;&gt;&gt; | controls, and to enable them to be only defined as required in arbitrary
&gt;&gt;&gt;&gt; | ordered lists as convenient to the author, and/or to enable their more
&gt;&gt;&gt;&gt; | flexible construction.
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; I'll consider it, if conflicts occur among the format specifications.
&gt;&gt;&gt;&gt; Anyway, I think it leaves some room for consideration.
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; | With a little luck, the above is hopefully also be consistent with your
&gt;&gt;&gt;&gt; | goals for this srfi as well?
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; | -paul-
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; Thanks.
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; INITERM
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt; 
&gt; 

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00030" href="msg00030.html">Re: feedback</a></strong>
<ul><li><em>From:</em> Paul Schlie</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00028" href="msg00028.html">Re: feedback</a></strong>
<ul><li><em>From:</em> Paul Schlie</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00028.html">Re: feedback</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00030.html">Re: feedback</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00028.html">Re: feedback</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00030.html">Re: feedback</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00029"><strong>Date</strong></a></li>
<li><a href="threads.html#00029"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
