<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: five problems with this draft SRFI -->
<!--X-From-R13: Rrevpx Sqqvatgba <qrevpx.rqqvatgbaNtznvy.pbz> -->
<!--X-Date: Wed, 30 Sep 2009 03:22:32 +0000 (UTC) -->
<!--X-Message-Id: 1254280946.7802.298.camel@eep -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20791565.807631254275322110.JavaMail.root@zimbra -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: five problems with this draft SRFI</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00037.html">Date Prev</a>][<a href="msg00039.html">Date Next</a>][<a href="msg00037.html">Thread Prev</a>][<a href="msg00039.html">Thread Next</a>][<a href="maillist.html#00038">Date Index</a>][<a href="threads.html#00038">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: five problems with this draft SRFI</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-103">SRFI 103</a> from before July 7th, 2015.  The new archives for SRFI 103 are <a href="http://srfi-email.schemers.org/srfi-103/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: William D Clinger &lt;<a href="mailto:will@DOMAIN.HIDDEN">will@xxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: five problems with this draft SRFI</li>
<li><em>From</em>: Derick Eddington &lt;<a href="mailto:derick.eddington@DOMAIN.HIDDEN">derick.eddington@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Tue, 29 Sep 2009 20:22:26 -0700</li>
<li><em>Cc</em>: <a href="mailto:srfi-103@DOMAIN.HIDDEN">srfi-103@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-103@DOMAIN.HIDDEN">srfi-103@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma;        h=domainkey-signature:received:received:subject:from:to:cc         :in-reply-to:references:content-type:date:message-id:mime-version         :x-mailer:content-transfer-encoding;        bh=jXsqqQp5qBxJ1SgzR3LpL5/aQdn6iHOExmhPh8MWC84=;        b=DAZJ7+ZhjLBpmphUjVjLEiDSIHruIah5hWyrezm5nJfVo2epdsK+/wweo/phTVK5qg         WpHZoHXFUSg1VbhY6eukrOROh7DXea3gGDkS/R8rMvN5XmZmCtfGTwIMfpDfWMZoKCFS         9OL3bZz0W8HQEBHWaXkLisQPRtUydEQNW5FKo=</li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma;        h=subject:from:to:cc:in-reply-to:references:content-type:date         :message-id:mime-version:x-mailer:content-transfer-encoding;        b=Q60gRr6+r70QhVSBsZhLV1EK553X+YjFh1RjhCtyl9nBTaJt1hj8W5/EdSG2d2XX3d         Gkcq/+zVhPQsCufRgPKiBvBfk801QWGmTQRthYh8JeJANBZWcVzVc73B4BXzJ/aISmNQ         NRyszXdN7I3bDp9S87U/UAhSd/xgk1HZgCIzc=</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:20791565.807631254275322110.JavaMail.root@DOMAIN.HIDDEN"><a href="msg00037.html">20791565.807631254275322110.JavaMail.root@zimbra</a></a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:20791565.807631254275322110.JavaMail.root@DOMAIN.HIDDEN"><a href="msg00037.html">20791565.807631254275322110.JavaMail.root@zimbra</a></a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Tue, 2009-09-29 at 21:48 -0400, William D Clinger wrote:
&gt; By the way, my remark about the one-to-infinite nature
&gt; of the mapping from library names to file names assumed
&gt; that implementations were supposed to search all of the
&gt; potentially infinite file names whose version numbers
&gt; might match.  From your remark that the mapping is only
&gt; one-to-many but not one-to-infinite, I infer that systems
&gt; don't have to search for file names that include version
&gt; numbers, but I'm not certain of that conclusion.  Please
&gt; advise.

Haven't you meant library references and not library names?  In the
current draft SRFI, a library name with a version maps to a file name
with the same version.  This is one-to-many because of multiple search
paths, the implementation-specific file name extension, and the implicit
file name.  If it weren't for these, it would be one-to-one.

Library references, because of their version references, in the current
draft SRFI, can have a one-to-infinite mapping to file names.  Yes, this
requires searching through all the theoretically possibly infinite file
names which might match.  This searching is done by listing the entries
in the directories where matching files could be, and filtering-out the
non-matches, and possibly sorting the matches according to the ordering
of the current draft.

Isn't it okay to assume directories can be listed?

Because there is not going to be, and cannot be in limited file system
storage, an infinite number of files matching a library reference, and
because the number of matching files is in practice not going to be
large, and because the number of non-matching files which must be
filtered-out is in practice not going to be large, isn't it okay to take
advantage of the ability to list directories and find matches?

In my tests with the reference implementation of SRFI 104, the cost of
this directory listing, filtering, and sorting has seemed acceptable.
This is an important issue, and if the cost really isn't acceptable,
then I guess I have to abandon the current design.  But I find it hard
to believe that, in the year 2009, I still can't take advantage of
listing directories, and I'm not giving it up easily.

Additionally, multiple libraries per file has the cost of searching
through the contents of theoretically-infinitely-long files in order to
find matches.  It's unlikely in practice that bad-case scenarios will
happen, but it's theoretically possible.  If that's acceptable, why
isn't searching through directory listings acceptable (assuming you
think it's not)?

-- 
: Derick
----------------------------------------------------------------

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00039" href="msg00039.html">Re: five problems with this draft SRFI</a></strong>
<ul><li><em>From:</em> Derick Eddington</li></ul></li>
<li><strong><a name="00040" href="msg00040.html">Re: five problems with this draft SRFI</a></strong>
<ul><li><em>From:</em> Derick Eddington</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00037" href="msg00037.html">Re: five problems with this draft SRFI</a></strong>
<ul><li><em>From:</em> William D Clinger</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00037.html">Re: five problems with this draft SRFI</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00039.html">Re: five problems with this draft SRFI</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00037.html">Re: five problems with this draft SRFI</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00039.html">Re: five problems with this draft SRFI</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00038"><strong>Date</strong></a></li>
<li><a href="threads.html#00038"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
