<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Keeping the version in filenames -->
<!--X-From-R13: Rrevpx Sqqvatgba <qrevpx.rqqvatgbaNtznvy.pbz> -->
<!--X-Date: Fri,  2 Oct 2009 16:22:54 +0000 (UTC) -->
<!--X-Message-Id: 1254500568.18846.367.camel@eep -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 87ocorgl65.fsf@industria.csbnet.se -->
<!--X-Reference: 42CD1E03&#45;2B01&#45;4699&#45;AE75&#45;B5A079F046C3@gmail.com -->
<!--X-Reference: 87y6nuj6ls.fsf@industria.csbnet.se -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Keeping the version in filenames</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00046.html">Date Prev</a>][<a href="msg00048.html">Date Next</a>][<a href="msg00045.html">Thread Prev</a>][<a href="msg00050.html">Thread Next</a>][<a href="maillist.html#00047">Date Index</a>][<a href="threads.html#00047">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Keeping the version in filenames</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-103">SRFI 103</a> from before July 7th, 2015.  The new archives for SRFI 103 are <a href="http://srfi-email.schemers.org/srfi-103/">here</a>.  The new archives contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: G&#xF6;ran Weinholt &lt;<a href="mailto:goran@DOMAIN.HIDDEN">goran@xxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: Keeping the version in filenames</li>
<li><em>From</em>: Derick Eddington &lt;<a href="mailto:derick.eddington@DOMAIN.HIDDEN">derick.eddington@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Fri, 02 Oct 2009 09:22:48 -0700</li>
<li><em>Cc</em>: Abdulaziz Ghuloum &lt;<a href="mailto:aghuloum@DOMAIN.HIDDEN">aghuloum@xxxxxxxxx</a>&gt;, <a href="mailto:srfi-103@DOMAIN.HIDDEN">srfi-103@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-103@DOMAIN.HIDDEN">srfi-103@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma;        h=domainkey-signature:received:received:subject:from:to:cc         :in-reply-to:references:content-type:date:message-id:mime-version         :x-mailer:content-transfer-encoding;        bh=2VItnBMrY+vPCcHR1+6I2VrjBU2ZoW9nYhxcyAANjHI=;        b=ApyRoFJ8jBnhT/cK9asGim95dudWphhT/hSdyx7ME2Bktraj3zph+j9Y1HaJqnL8bx         l+aTSsZfVz3G+IsQlCVa3+3HdOHieFhr7FmnxKDq6WyPDIJ+wzqwE7iIkS3yuuzCuRG6         gzJ7EUDdcJ/bGfeZAGI8HD7W7S/J3/oYHSrqE=</li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma;        h=subject:from:to:cc:in-reply-to:references:content-type:date         :message-id:mime-version:x-mailer:content-transfer-encoding;        b=Pth63WwJQWxYvnA+QYa8mCEZVgB2trpVlkPshOf1k+qOtqkUQIM8FRQx0zTTdbAVj+         fwmrdS+7UDuSo/5FWWJpCY12rUpcns7VZrgIfiNRBZONVF7vrNo4Ba4EmuwFLFLvlssy         VK/36hRlpOiyvOe1+NfhBr0whxjnFsvYw3buM=</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:87y6nuj6ls.fsf@DOMAIN.HIDDEN">87y6nuj6ls.fsf@xxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:87ocorgl65.fsf@DOMAIN.HIDDEN">87ocorgl65.fsf@xxxxxxxxxxxxxxxxxxx</a>&gt;	 &lt;<a href="mailto:42CD1E03-2B01-4699-AE75-B5A079F046C3@DOMAIN.HIDDEN">42CD1E03-2B01-4699-AE75-B5A079F046C3@xxxxxxxxx</a>&gt;	 &lt;<a href="mailto:87y6nuj6ls.fsf@DOMAIN.HIDDEN">87y6nuj6ls.fsf@xxxxxxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Fri, 2009-10-02 at 14:57 +0200, G&#xC3;ran Weinholt wrote:
&gt; Abdulaziz Ghuloum &lt;aghuloum@xxxxxxxxx&gt; writes:
&gt; 
&gt; &gt; On Oct 1, 2009, at 6:59 PM, G&#xC3;ran Weinholt wrote:
&gt; &gt;
&gt; &gt;&gt; So is the idea that I would be keeping versioned filenames in my
&gt; &gt;&gt; bazaar
&gt; &gt;&gt; repository, or would they be renamed to include a version by a package
&gt; &gt;&gt; manager?
&gt; &gt;
&gt; &gt; We should not assume the existence of a package manager.  Also, you
&gt; &gt; won't be using a package manager when working with your own libraries,
&gt; &gt; right?  Usually, you work on your libraries locally and then, in a
&gt; &gt; separate step, package it together for distribution.  You won't want
&gt; &gt; to add the package manager to your workflow.
&gt; 
&gt; That's a good point. So what problem is solved by keeping the version
&gt; inside the filename? I read something about a distinct mapping of
&gt; filenames to library names, but then I'm not sure what problem that in
&gt; turn solves. If you want the version number then it's in the file, which
&gt; is usually not far away.

That mapping ability can be useful for people and programs reviewing and
managing library files because you only need to look at the file names
to know what libraries, including their versions, are present and where,
and don't need to look in the files or have an additional &quot;manifest&quot;
file.  I think that is worthwhile, but by itself probably not enough
justification for having versions in file names.

I make the argument that having to open a file and find the version is
comparably annoying to having to rename files.  The ability to rename a
file is usually not far away either.  I think not being annoyed by
renaming is worthwhile, but by itself probably not enough justification
for not having versions in file names.

When considering only these things, this is what decides the winner for
me: only the developer(s) have to deal with renaming files because of
version changes, but everyone, which hopefully includes many more people
than the developer(s), have to use the file names to know what libraries
are present and where, and they need to also know the versions.  So, a
smaller number of people having to deal with an annoyance wins over a
larger number of people having to deal with a same-magnitude annoyance.

&gt; Having the version in the filename also duplicates information, which in
&gt; my experience always gives you the problem of keeping the duplicated
&gt; information synchronized. 

I agree that's annoying.

&gt; There is something of a feature-creep in this SRFI as it currently
&gt; stands. As I see it, the idea is to standardize the widely implemented
&gt; library file locator algorithm and work out all the edge cases. Keeping
&gt; the version number in the filename is not widely implemented, and
&gt; creates new problems by itself. Remove that feature and I think we will
&gt; have a less controversial SRFI that is also compatible with existing
&gt; Schemes and libraries.

PLT Scheme requires the versions to be in file names.  To use my
existing versioned libraries on it, I've already been dealing with
versions in file names.  If PLT is not willing to support this SRFI (I
don't know what they think), then to use our versioned libraries on PLT,
we'll still be dealing with versions in file names, and additionally
dealing with symlinks/copies to/of the files conforming to this SRFI
without versions in their name.

The point about supporting having multiple versions in the same
directory is what I see as the primary reason for having versions in
file names.  The other points, about mapping file names to library names
and file names exactly corresponding to library names, are not as
motivating.

&gt; I'm all in favor of library versions and version references. I use them
&gt; myself, as a courtesy to those who want to use my libraries, and because
&gt; I want to be able to change the meaning of exported bindings without
&gt; causing people too much trouble.

Yeah.

&gt; Is the idea that filenames should contain versions so that multiple
&gt; versions of a library can co-exist in the same directory? 

Yes.

&gt; If a library
&gt; developer wants to do that, he can simply append a major version to the
&gt; end of a library identifier, something like this:
&gt; 
&gt;  (foo jpeg (0))   foo/jpeg.sls   initial version (0 is the minor)
&gt;  (foo jpeg (1))   foo/jpeg.sls   second version, supports more formats
&gt;  (foo jpeg1 (0))  foo/jpeg1.sls  third version with a much better API
&gt; 
&gt; If he wants to he can even make it so (foo jpeg) is a compatibility
&gt; wrapper around (foo jpeg1). Such a wrapper would be very useful for
&gt; anyone changing a program to use the new library, because it would show
&gt; exactly what changes are necessary. And if the developer was careful,
&gt; there will not be any point in keeping (foo jpeg (0)) around when you've
&gt; got (foo jpeg (1)).
&gt; 
&gt; This is much less tedious than requiring that every part of a version
&gt; reference always must be included in the filename, and it leaves the
&gt; individual developer free to choose what he and his users need. 

Problems with this scheme are: semantic disintegration between major
numbers and minor numbers, version constraints cannot be used on major
numbers, and an additional redundant versioning convention to deal with.

What if someone wants multiple versions which have the same major number
but different minor number to co-exist in the same directory?  That's
not possible with your proposed scheme.

I think putting any part of the version in the last symbol (or any
symbol) is going against the purpose of compound library names.

&gt; I can't
&gt; imagine anyone being very happy when they discover that to use R6RS's
&gt; version feature they need to forever keep renaming their files.

I'm sure it's true that people won't be excited about that.  But how
happy are they going to be when they realize they have to manage
reconfiguring search paths in order to run different programs which
require different versions of a library?  Or how happy when they realize
they can have multiple versions with different major numbers co-exist,
but not with different minor numbers?  Or how happy when they realize
they can have version constraints on minor numbers but not on major
numbers?  Or how happy when they realize they have to open files and
search through the contents to know libraries' versions when all they
really needed was the file names to know what libraries there are?

-- 
: Derick
----------------------------------------------------------------

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00050" href="msg00050.html">Re: Keeping the version in filenames</a></strong>
<ul><li><em>From:</em> Abdulaziz Ghuloum</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00043" href="msg00043.html">Keeping the version in filenames</a></strong>
<ul><li><em>From:</em> G&#xC3;ran Weinholt</li></ul></li>
<li><strong><a name="00044" href="msg00044.html">Re: Keeping the version in filenames</a></strong>
<ul><li><em>From:</em> Abdulaziz Ghuloum</li></ul></li>
<li><strong><a name="00045" href="msg00045.html">Re: Keeping the version in filenames</a></strong>
<ul><li><em>From:</em> G&#xC3;ran Weinholt</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00046.html">Re: Keeping the version in filenames</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00048.html">Re: Keeping the version in filenames</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00045.html">Re: Keeping the version in filenames</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00050.html">Re: Keeping the version in filenames</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00047"><strong>Date</strong></a></li>
<li><a href="threads.html#00047"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
