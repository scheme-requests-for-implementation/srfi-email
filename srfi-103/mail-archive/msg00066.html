<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Plan for revising -->
<!--X-From-R13: Rrevpx Sqqvatgba <qrevpx.rqqvatgbaNtznvy.pbz> -->
<!--X-Date: Fri,  9 Oct 2009 21:31:24 +0000 (UTC) -->
<!--X-Message-Id: 1255123873.25527.70.camel@eep -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1254894692.11628.35.camel@eep -->
<!--X-Reference: 20091007.134327.255070016833611733.shiro@lava.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Plan for revising</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00065.html">Date Prev</a>][<a href="msg00067.html">Date Next</a>][<a href="msg00063.html">Thread Prev</a>][<a href="msg00069.html">Thread Next</a>][<a href="maillist.html#00066">Date Index</a>][<a href="threads.html#00066">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Plan for revising</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Shiro Kawai &lt;<a href="mailto:shiro@DOMAIN.HIDDEN">shiro@xxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: Plan for revising</li>
<li><em>From</em>: Derick Eddington &lt;<a href="mailto:derick.eddington@DOMAIN.HIDDEN">derick.eddington@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Fri, 09 Oct 2009 14:31:13 -0700</li>
<li><em>Cc</em>: <a href="mailto:srfi-103@DOMAIN.HIDDEN">srfi-103@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-103@DOMAIN.HIDDEN">srfi-103@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma;        h=domainkey-signature:received:received:subject:from:to:cc         :in-reply-to:references:content-type:date:message-id:mime-version         :x-mailer:content-transfer-encoding;        bh=8xvMGmf8PJt/ku+ZRpnKTNfzV8yJUufyShTihD5H9Ww=;        b=MQKBrt0AeUl3Pq3p6vNkR1Jz/xny7sWwX9cqIfg0H8ynjtLvGtjAw8UAzcB+b0+fNL         1/+soK6jV95uEoFSCsVXZhgw6O57hjHPJJkknZzYp28NrUnbldLZrx7zk1rIpsyFpEFP         3mq6SivEPBTmAcfy1paIBNVR4z2lsWXnXkCf8=</li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma;        h=subject:from:to:cc:in-reply-to:references:content-type:date         :message-id:mime-version:x-mailer:content-transfer-encoding;        b=Dd8W9apDQmo8v9fbq6uamIdmvWqBHKPlL9zpi8FOUfPr3q6kCS7pDmaq9PnLYOtg+8         pcK2zMhuUMIVGhNMfddi90jU9vJcH308jFs1YgfNpjQJs4ja4h4m2GcFa3l8txMPBze9         2ntx0ZvXNXpUa2KnlaJMpRaJ9XTnvVik8cB2U=</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:20091007.134327.255070016833611733.shiro@DOMAIN.HIDDEN">20091007.134327.255070016833611733.shiro@xxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:1254894692.11628.35.camel@DOMAIN.HIDDEN"><a href="msg00055.html">1254894692.11628.35.camel@eep</a></a>&gt;	 &lt;<a href="mailto:20091007.134327.255070016833611733.shiro@DOMAIN.HIDDEN">20091007.134327.255070016833611733.shiro@xxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Wed, 2009-10-07 at 13:43 -1000, Shiro Kawai wrote: 
&gt; I'd like to clearify one point.  Suppose I have /usr/share/scheme
&gt; and /home/shiro/scheme in SCHEME_LIBRARY_PATH, in that order,
&gt; and I have those files:
&gt; 
&gt;   /usr/share/scheme/acme/foo.sls
&gt;   /home/shiro/scheme/acme/foo.sls
&gt;   /home/shiro/scheme/acme/foo.myscheme.sls
&gt; 
&gt; If myscheme wants to import (acme foo), should it load the
&gt; &quot;first match&quot; which is /usr/share/scheme/acme/foo.sls, or 
&gt; should it keep looking for the &quot;best match&quot;, which is
&gt; /home/shiro/scheme/acme/foo.myscheme.sls?

I think the first match should be required to be chosen.

I think this issue is important because the ordering of the search paths
should support overriding/overlaying library files to be used instead of
those in latter search paths, and you'd need to be certain what files
will be chosen.  (I was aware the current draft made it uncertain, and I
didn't like that.)

&gt; The current wording of srfi-103 seems to leave it implementation
&gt; dependent.  Is it correct?   

That's correct.  The only reason for that was because of what I was
thinking the current draft should be if versions are in file names (more
below).  All the versioning-related stuff will be removed in the next
revision.  The next revision will say something like: &quot;Scheme
implementations must choose the first-ordered match.&quot;.  (I should have
mentioned this in my &quot;plan for revising&quot;.)

&gt; I wonder it may introduce a subtle
&gt; incompatibilities among different implementations which can be
&gt; a source of problems difficult to track down.   

Yeah, it would introduce such issue.  

I wonder if the ordering of an implicit file name match relative to a
non-implicit file name match, within the same search path, should remain
specified, instead of becoming unspecified in the next revision as Aziz
suggested, because it's short and simple to specify and because then all
cases are covered.  I understand this case happening is probably always
accidental, but if it's easy to cover it and have complete coverage of
all cases, then why not?

&gt; The current
&gt; srfi-103 says something about transitive imports; could you
&gt; explain it a bit more?

My thinking was that implementations which desire to do more involved
combined version constraints handling (such as, as the imports and their
transitive imports are processed, determining some &quot;best&quot; version, or
trying to fix conflicts by backtracking and trying different versions)
could use the current draft's ordering as part of their algorithm for
the more involved handling.  What match is chosen was not specified so
that implementations could choose anyone as determined by their more
involved handling.

-- 
: Derick
----------------------------------------------------------------

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00069" href="msg00069.html">Re: Plan for revising</a></strong>
<ul><li><em>From:</em> Shiro Kawai</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00055" href="msg00055.html">Plan for revising</a></strong>
<ul><li><em>From:</em> Derick Eddington</li></ul></li>
<li><strong><a name="00062" href="msg00062.html">Re: Plan for revising</a></strong>
<ul><li><em>From:</em> Shiro Kawai</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00065.html">Re: SRFI-59, SLIB, and SCHEME_LIBRARY_PATH</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00067.html">Re: SRFI-59, SLIB, and SCHEME_LIBRARY_PATH</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00063.html">Re: Plan for revising</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00069.html">Re: Plan for revising</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00066"><strong>Date</strong></a></li>
<li><a href="threads.html#00066"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
