<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: remaining issues -->
<!--X-From-R13: "D. Yrag Rloivt" <qloNpf.vaqvnan.rqh> -->
<!--X-Date: Mon, 22 Mar 2010 21:28:00 +0000 (UTC) -->
<!--X-Message-Id: 201003222129.o2MLTFqG003214@garbo.cs.indiana.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1267837572.12814.109.camel@eep -->
<!--X-Reference: 201003070545.o275jjtC014624@garbo.cs.indiana.edu -->
<!--X-Reference: 1268013838.23559.217.camel@eep -->
<!--X-Reference: 201003081842.o28IgsK7032406@garbo.cs.indiana.edu -->
<!--X-Reference: 1268121335.29314.390.camel@eep -->
<!--X-Reference: 201003140412.o2E4CmjY023679@garbo.cs.indiana.edu -->
<!--X-Reference: 1268594484.2903.107.camel@eep -->
<!--X-Reference: 201003151409.o2FE9FdW006545@garbo.cs.indiana.edu -->
<!--X-Reference: 1268696390.9494.182.camel@eep -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: remaining issues</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00133.html">Date Prev</a>][<a href="msg00135.html">Date Next</a>][<a href="msg00133.html">Thread Prev</a>][<a href="msg00135.html">Thread Next</a>][<a href="maillist.html#00134">Date Index</a>][<a href="threads.html#00134">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: remaining issues</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-103">SRFI 103</a> from before July 7th, 2015.  The new archives for SRFI 103 are <a href="http://srfi-email.schemers.org/srfi-103/">here</a>.  The new archives contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-103@DOMAIN.HIDDEN">srfi-103@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: remaining issues</li>
<li><em>From</em>: &quot;R. Kent Dybvig&quot; &lt;<a href="mailto:dyb@DOMAIN.HIDDEN">dyb@xxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Mon, 22 Mar 2010 17:29:15 -0400</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-103@DOMAIN.HIDDEN">srfi-103@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:1268696390.9494.182.camel@DOMAIN.HIDDEN"><a href="msg00133.html">1268696390.9494.182.camel@eep</a></a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:1267837572.12814.109.camel@DOMAIN.HIDDEN"><a href="msg00119.html">1267837572.12814.109.camel@eep</a></a>&gt; &lt;<a href="mailto:201003070545.o275jjtC014624@DOMAIN.HIDDEN">201003070545.o275jjtC014624@xxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:1268013838.23559.217.camel@DOMAIN.HIDDEN"><a href="msg00126.html">1268013838.23559.217.camel@eep</a></a>&gt; &lt;<a href="mailto:201003081842.o28IgsK7032406@DOMAIN.HIDDEN">201003081842.o28IgsK7032406@xxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:1268121335.29314.390.camel@DOMAIN.HIDDEN"><a href="msg00129.html">1268121335.29314.390.camel@eep</a></a>&gt; &lt;<a href="mailto:201003140412.o2E4CmjY023679@DOMAIN.HIDDEN">201003140412.o2E4CmjY023679@xxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:1268594484.2903.107.camel@DOMAIN.HIDDEN"><a href="msg00131.html">1268594484.2903.107.camel@eep</a></a>&gt; &lt;<a href="mailto:201003151409.o2FE9FdW006545@DOMAIN.HIDDEN">201003151409.o2FE9FdW006545@xxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:1268696390.9494.182.camel@DOMAIN.HIDDEN"><a href="msg00133.html">1268696390.9494.182.camel@eep</a></a>&gt;</li>
<li><em>User-agent</em>: Heirloom mailx 12.4 7/29/08</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>&gt; &gt; But there's already ambiguity inherent in the
&gt; &gt; SRFI 103 mechanism...
&gt;
&gt; I've been aware of that.  Programmatically-processed library-file names
&gt; need to be relative to their searched directory, which is a natural
&gt; approach.  SRFI 104's specification of 'library-file-name-info' mentions
&gt; this.  E.g., when programmatically working with collections of library
&gt; files, you change the current directory to searched directories and then
&gt; work with the recursively-listed file names.  I do that often.

I don't understand what you're getting at.  If you find the file via the
library name and the search path, there's no problem with either encoded
or unencoded pathnames, but you're talking about going the other way.  If
you find the file via some other mechanism, e.g., listing the directories
specified in the search path, ambiguities can occur with both encoded and
unencoded pathnames.  The ambiguity arises if one directory in the search
path is a subpath of another or if two of the directories link to the same
place.

&gt; I don't want the SRFI to inhibit it.  I meant I'm not sure it's the
&gt; SRFI's place to specify or require the special handling.

There's nothing special about unencoded pathnames or about requiring
implementations to look first for a file named by the unencoded pathname. 
On the other hand, encoded pathnames _are_ special.  If you don't want to
require special handling, don't require encoding.

As you suggest, you could just allow implementations to look first for a
file named by the unencoded pathname without requiring them to do so. 
It's not as useful, but at least it doesn't prohibit implementations from
supporting access to arbitrary files.

&gt; &gt; With the current SRFI draft, r6rs-lib can and will be used for
&gt; &gt; multiple-library files as well.  
&gt;
&gt; The intent is that &quot;r6rs-lib&quot; will not.  

Yet, unless I missed it, SRFI 103 does not specify that implementations
must reject files that contain multiple libraries, only that a conforming
file contains one library and that a conforming implementation must
support such files.  That's a good thing, since it allows conforming
implementations the freedom to support files that don't conform, for
whatever reasons.  Even if you were to require implementations claiming to
support SRFI 103 to reject files containing multiple libraries or even
forms other than library forms (which I hope you do not do), there's no
way you can prevent them from being created and used in nonconforming
implementations.

&gt; How do you think multiple-R6RS-library files should be handled?

I would not try to standardize on that at this point.

&gt; Why should the SRFI's R6RS library file format get &quot;Scheme library
&gt; source&quot;, when other formats or dialects are also Scheme library
&gt; sources?  

Why should the R6RS library file format _not_ get sls, which is nice and
short?  And if it does, why can't other formats or dialects use the same
extension?  You don't really need for arbitrary files using the sls (or
any other) extension to conform, just for the ones you happen to find via
the search path and want to manipulate in certain ways.  Yes, by choosing
an unusually specific and long name like r6rs-lib, you can be fairly sure
no one will use the extension for some other purpose, but I think an
eight-character extension is too high a price to pay.  I think I'm not
alone, since most of the filename extensions people have chosen over the
years range from one to three characters in length.

On the other hand, if you do require (against my advice) to require SRFI
103 implementations to reject files containing something other than a
conforming library, I hope you keep the r6rs-lib extension and limit the
damage to files with an r6rs-lib extension so that others can use .sls
files in those implementations without such a restriction.

BTW, I don't think I saw in the discussion what you intend for the SRFI to
do about the case of the letters in a library name.  Windows filesystems
in are case-insensitive, as are MacOS X filesystems (at least optionally). 
So what happens if one has two libraries whose names differ only by case? 
I do so hope that you don't end up requiring encoding of either upper- or
lower-case letters, but that seems to be the only solution that would be
compatible with your perspective.

Kent

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00135" href="msg00135.html">Re: remaining issues</a></strong>
<ul><li><em>From:</em> Derick Eddington</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00119" href="msg00119.html">remaining issue: Windows-disallowed file names</a></strong>
<ul><li><em>From:</em> Derick Eddington</li></ul></li>
<li><strong><a name="00124" href="msg00124.html">Re: remaining issue: Windows-disallowed file names</a></strong>
<ul><li><em>From:</em> R. Kent Dybvig</li></ul></li>
<li><strong><a name="00126" href="msg00126.html">Re: remaining issue: Windows-disallowed file names</a></strong>
<ul><li><em>From:</em> Derick Eddington</li></ul></li>
<li><strong><a name="00128" href="msg00128.html">Re: remaining issue: Windows-disallowed file names</a></strong>
<ul><li><em>From:</em> R. Kent Dybvig</li></ul></li>
<li><strong><a name="00129" href="msg00129.html">Re: remaining issue: Windows-disallowed file names</a></strong>
<ul><li><em>From:</em> Derick Eddington</li></ul></li>
<li><strong><a name="00130" href="msg00130.html">Re: remaining issue: Windows-disallowed file names</a></strong>
<ul><li><em>From:</em> R. Kent Dybvig</li></ul></li>
<li><strong><a name="00131" href="msg00131.html">Re: remaining issues</a></strong>
<ul><li><em>From:</em> Derick Eddington</li></ul></li>
<li><strong><a name="00132" href="msg00132.html">Re: remaining issues</a></strong>
<ul><li><em>From:</em> R. Kent Dybvig</li></ul></li>
<li><strong><a name="00133" href="msg00133.html">Re: remaining issues</a></strong>
<ul><li><em>From:</em> Derick Eddington</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00133.html">Re: remaining issues</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00135.html">Re: remaining issues</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00133.html">Re: remaining issues</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00135.html">Re: remaining issues</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00134"><strong>Date</strong></a></li>
<li><a href="threads.html#00134"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
