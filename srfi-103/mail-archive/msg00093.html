<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: upcoming revision, need feedback -->
<!--X-From-R13: Rrevpx Sqqvatgba <qrevpx.rqqvatgbaNtznvy.pbz> -->
<!--X-Date: Sun, 10 Jan 2010 23:48:21 +0000 (UTC) -->
<!--X-Message-Id: 1263167293.15783.61.camel@eep -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1263094024.31734.295.camel@eep -->
<!--X-Reference: 4B49FD33.2050304@gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: upcoming revision, need feedback</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00092.html">Date Prev</a>][<a href="msg00094.html">Date Next</a>][<a href="msg00092.html">Thread Prev</a>][<a href="msg00096.html">Thread Next</a>][<a href="maillist.html#00093">Date Index</a>][<a href="threads.html#00093">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: upcoming revision, need feedback</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-103@DOMAIN.HIDDEN">srfi-103@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: upcoming revision, need feedback</li>
<li><em>From</em>: Derick Eddington &lt;<a href="mailto:derick.eddington@DOMAIN.HIDDEN">derick.eddington@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Sun, 10 Jan 2010 15:48:13 -0800</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-103@DOMAIN.HIDDEN">srfi-103@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma;        h=domainkey-signature:received:received:subject:from:to:in-reply-to         :references:content-type:date:message-id:mime-version:x-mailer         :content-transfer-encoding;        bh=0NEXhlC87oghkywu1/TlgRvUU84re0sLX/g4qc2nUB4=;        b=Aj6iAcemB8ir38rysmI2VbcetAz2qN7X0bz4gCtx5FCB5ngOqQUvO/i2cTXsgw+EB0         cX+0DGGlzU0/dAqVdfYX00DzyQsJ1gIunufLygRan+FkUWCwnv5J39oDcL0dYcVDgdCp         26kCCa8UNv8/xLnUion6lfSTDX6s/LTdIAYu0=</li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma;        h=subject:from:to:in-reply-to:references:content-type:date:message-id         :mime-version:x-mailer:content-transfer-encoding;        b=ladOBf5ML6aiH+q7oAIWPZO7Ct3uHawvU8OQch3LFqzhPpm7gMSVc5rtTPepOdYnXh         smKwH/LmJP6Cgel5XHDydrttqYojqD4XleGDkxwDkMSOh17wvjLHM5KxlSaoC5X2+ecB         ym1en/GIXPLosIXIzpmwFehZXsvJvXAw/8fiU=</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:4B49FD33.2050304@DOMAIN.HIDDEN">4B49FD33.2050304@xxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:1263094024.31734.295.camel@DOMAIN.HIDDEN"><a href="msg00091.html">1263094024.31734.295.camel@eep</a></a>&gt;  &lt;<a href="mailto:4B49FD33.2050304@DOMAIN.HIDDEN">4B49FD33.2050304@xxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Sun, 2010-01-10 at 18:15 +0200, Vitaly Magerya wrote:
&gt; Derick Eddington wrote:
&gt; &gt; ---------------------------
&gt; &gt; Changes I'm undecided about
&gt; &gt; ---------------------------
&gt; &gt; 
&gt; &gt; 1) [...] instead of (foo) use (foo main)
&gt; 
&gt; Please don't. If I develop (foo) in a separate directory, I do not want
&gt; it to suddenly become (foo main). This would be syntactic clutter I
&gt; would not forgive as an end user.

I'll count you in favor of keeping the implicit file name support.

&gt; &gt; 2) [...] (a%/b c:*d) would map to the file name &quot;a%25%%2F%b/c%3A%%2A%d.ext&quot;,
&gt; &gt; instead of &quot;a%25%2Fb/c%3A%2Ad.ext&quot; [...]
&gt; 
&gt; URI encoding gives a well known precedent, no need to break it.

I'll count you in favor of keeping the URI-style UTF-8 encoding design.

&gt; &gt; -------------------------------------
&gt; &gt; Changes I assume aren't controversial
&gt; &gt; -------------------------------------
&gt; &gt; [...]
&gt; &gt; 6) Define the pathname component separator character to be #\/ on Unixes and #\\
&gt; &gt; on Windows.  Define the environment variable element separator character to be
&gt; &gt; #\: on Unixes and #\; on Windows.  The current draft is already tied to Unixes
&gt; &gt; and Windows.
&gt; 
&gt; You need the element separator to extract the path list, so it should be
&gt; defined. Path separator on the other hand is something you don't care
&gt; about beyond constructing sub-paths -- a process invisible to the user,
&gt; so you don't need to define them beyond &quot;recognizable by the OS&quot;.

I think the pathname component separators do need to be defined.  They
need to be encoded so that library names including them do not result in
pathnames which will be misinterpreted because of them occurring
unencoded.  The specification of the set of encoded characters needs to
include the pathname component separators, so, they need to be defined
for the targeted platforms so they can be specified to be encoded.
Otherwise, if they're undefined, the encoded set would not be clearly,
precisely, completely specified.

&gt; &gt; 7) Add #\; to the set of encoded characters, because a directory could be both
&gt; &gt; in the SCHEME_LIB_PATH sequence and correspond to a library name component.
&gt; &gt; Such a directory with a name including #\; is unusual but must be supported,
&gt; &gt; otherwise an unencoded #\; would be misinterpreted in SCHEME_LIB_PATH.
&gt; 
&gt; I heard that when you strive to fail safety it's best to enumerate
&gt; allowed things, not the forbidden ones. 

I don't think that justifies what you suggest below.

&gt; How about &quot;Encode everything
&gt; except for [a-zA-Z0-9_.-]&quot;? It's safe, short, simple and works for 99%
&gt; of libraries without any encoding at all.

Other cultures' characters must be usable unencoded, especially since
the targeted file systems support using them, and we want other
cultures' use of Scheme to not be discriminated against growing to be
more than 1% of libraries.  There's no good reason to encode any
characters other than those the SRFI itself interprets specially and
those the targeted file systems disallow.  I'm fairly sure the current
set, with the inclusion of #\;, is correct, and I'm planning on asking
for help double-checking it before it's set in stone.

-- 
: Derick
----------------------------------------------------------------

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00096" href="msg00096.html">Re: upcoming revision, need feedback</a></strong>
<ul><li><em>From:</em> Vitaly Magerya</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00091" href="msg00091.html">upcoming revision, need feedback</a></strong>
<ul><li><em>From:</em> Derick Eddington</li></ul></li>
<li><strong><a name="00092" href="msg00092.html">Re: upcoming revision, need feedback</a></strong>
<ul><li><em>From:</em> Vitaly Magerya</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00092.html">Re: upcoming revision, need feedback</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00094.html">Continuing support for the sls extension</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00092.html">Re: upcoming revision, need feedback</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00096.html">Re: upcoming revision, need feedback</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00093"><strong>Date</strong></a></li>
<li><a href="threads.html#00093"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
