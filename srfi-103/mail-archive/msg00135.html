<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: remaining issues -->
<!--X-From-R13: Rrevpx Sqqvatgba <qrevpx.rqqvatgbaNtznvy.pbz> -->
<!--X-Date: Sat, 27 Mar 2010 02:30:16 +0000 (UTC) -->
<!--X-Message-Id: 1269657112.3655.104.camel@eep -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1267837572.12814.109.camel@eep -->
<!--X-Reference: 201003070545.o275jjtC014624@garbo.cs.indiana.edu -->
<!--X-Reference: 1268013838.23559.217.camel@eep -->
<!--X-Reference: 201003081842.o28IgsK7032406@garbo.cs.indiana.edu -->
<!--X-Reference: 1268121335.29314.390.camel@eep -->
<!--X-Reference: 201003140412.o2E4CmjY023679@garbo.cs.indiana.edu -->
<!--X-Reference: 1268594484.2903.107.camel@eep -->
<!--X-Reference: 201003151409.o2FE9FdW006545@garbo.cs.indiana.edu -->
<!--X-Reference: 1268696390.9494.182.camel@eep -->
<!--X-Reference: 201003222129.o2MLTFqG003214@garbo.cs.indiana.edu -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: remaining issues</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00134.html">Date Prev</a>][<a href="msg00136.html">Date Next</a>][<a href="msg00134.html">Thread Prev</a>][<a href="msg00120.html">Thread Next</a>][<a href="maillist.html#00135">Date Index</a>][<a href="threads.html#00135">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: remaining issues</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-103">SRFI 103</a> from before July 7th, 2015.  The <a href="http://srfi-email.schemers.org/srfi-103">new archives</a> for SRFI 103 contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-103@DOMAIN.HIDDEN">srfi-103@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: remaining issues</li>
<li><em>From</em>: Derick Eddington &lt;<a href="mailto:derick.eddington@DOMAIN.HIDDEN">derick.eddington@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Fri, 26 Mar 2010 19:31:51 -0700</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-103@DOMAIN.HIDDEN">srfi-103@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma;        h=domainkey-signature:received:received:subject:from:to:in-reply-to         :references:content-type:date:message-id:mime-version:x-mailer         :content-transfer-encoding;        bh=g7qmHJfqIh0vTYPyBdAdZkEYlfExLikH9tVB7JWboMk=;        b=oMeom9vEOQTfXOTGQY1ogebE3JRQNZ1QrcwE4zq0tSVeREW2ZRP2ruCrbR3w1Vtmv3         MuJVx/gUuUyKIuCEIV1jC+BRqxRkRfxjpX2JIyKwWIN1gUxyCfO/1AkS8Nk58+vhR6MF         enfCfiSi7EqQ2/SHjglqlbIiZIvOTGxHfdIMw=</li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma;        h=subject:from:to:in-reply-to:references:content-type:date:message-id         :mime-version:x-mailer:content-transfer-encoding;        b=OAmqnP/JnZ3EIBsUOrvXHd/BoGq+mGWXpSEIBIdEzMn+6jQCHp3FUNH3ZZmAbw3EPJ         EMPbaG4WK5xY6Pej6QeYbg617h7w7UssuRpM6DaXETCh9xipKF6Adlqz3TdoIGgbVor9         NNZljptm55qwZ7ZUZnH0bcAy9ZPOhlpt6wE2c=</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:201003222129.o2MLTFqG003214@DOMAIN.HIDDEN">201003222129.o2MLTFqG003214@xxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:1267837572.12814.109.camel@DOMAIN.HIDDEN"><a href="msg00119.html">1267837572.12814.109.camel@eep</a></a>&gt;	 &lt;<a href="mailto:201003070545.o275jjtC014624@DOMAIN.HIDDEN">201003070545.o275jjtC014624@xxxxxxxxxxxxxxxxxxxx</a>&gt;	 &lt;<a href="mailto:1268013838.23559.217.camel@DOMAIN.HIDDEN"><a href="msg00126.html">1268013838.23559.217.camel@eep</a></a>&gt;	 &lt;<a href="mailto:201003081842.o28IgsK7032406@DOMAIN.HIDDEN">201003081842.o28IgsK7032406@xxxxxxxxxxxxxxxxxxxx</a>&gt;	 &lt;<a href="mailto:1268121335.29314.390.camel@DOMAIN.HIDDEN"><a href="msg00129.html">1268121335.29314.390.camel@eep</a></a>&gt;	 &lt;<a href="mailto:201003140412.o2E4CmjY023679@DOMAIN.HIDDEN">201003140412.o2E4CmjY023679@xxxxxxxxxxxxxxxxxxxx</a>&gt;	 &lt;<a href="mailto:1268594484.2903.107.camel@DOMAIN.HIDDEN"><a href="msg00131.html">1268594484.2903.107.camel@eep</a></a>&gt;	 &lt;<a href="mailto:201003151409.o2FE9FdW006545@DOMAIN.HIDDEN">201003151409.o2FE9FdW006545@xxxxxxxxxxxxxxxxxxxx</a>&gt;	 &lt;<a href="mailto:1268696390.9494.182.camel@DOMAIN.HIDDEN"><a href="msg00133.html">1268696390.9494.182.camel@eep</a></a>&gt;	 &lt;<a href="mailto:201003222129.o2MLTFqG003214@DOMAIN.HIDDEN">201003222129.o2MLTFqG003214@xxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Mon, 2010-03-22 at 17:29 -0400, R. Kent Dybvig wrote: 

&gt; &gt; &gt; But there's already ambiguity inherent in the
&gt; &gt; &gt; SRFI 103 mechanism...
&gt; &gt;
&gt; &gt; I've been aware of that.  Programmatically-processed library-file names
&gt; &gt; need to be relative to their searched directory, which is a natural
&gt; &gt; approach.  SRFI 104's specification of 'library-file-name-info' mentions
&gt; &gt; this.  E.g., when programmatically working with collections of library
&gt; &gt; files, you change the current directory to searched directories and then
&gt; &gt; work with the recursively-listed file names.  I do that often.
&gt; 
&gt; I don't understand what you're getting at.  If you find the file via the
&gt; library name and the search path, there's no problem with either encoded
&gt; or unencoded pathnames, but you're talking about going the other way.  If
&gt; you find the file via some other mechanism, e.g., listing the directories
&gt; specified in the search path, ambiguities can occur with both encoded and
&gt; unencoded pathnames.  The ambiguity arises if one directory in the search
&gt; path is a subpath of another or if two of the directories link to the same
&gt; place.

Right, sorry for not being clearer.  The ability to map file names to
library names depends on avoiding those ambiguities.  What I'm getting
at is I'd like it to be possible to organize collections of library
files such that file-name listings are the manifest of the names of the
libraries.  It should be possible to organize searched directories in
any way which might cause ambiguities, but it should also be possible to
take advantage of mapping file names to library names (which requires
avoiding those ambiguities, which is natural for many situations).  If
the unencoded-then-encoded lookup is adopted, it'll be necessary to also
know if file names use encoding or not, which is what I'm unsure of
accepting.

&gt; &gt; I don't want the SRFI to inhibit it.  I meant I'm not sure it's the
&gt; &gt; SRFI's place to specify or require the special handling.
&gt; 
&gt; There's nothing special about unencoded pathnames or about requiring
&gt; implementations to look first for a file named by the unencoded pathname. 
&gt; On the other hand, encoded pathnames _are_ special.  If you don't want to
&gt; require special handling, don't require encoding.

Point taken.  Do you think the SRFI should say anything regarding
resolving library names like (~ ---) and (/ ---) without using the
sequence of searched directories?

&gt; &gt; &gt; With the current SRFI draft, r6rs-lib can and will be used for
&gt; &gt; &gt; multiple-library files as well.  
&gt; &gt;
&gt; &gt; The intent is that &quot;r6rs-lib&quot; will not.  
&gt; 
&gt; Yet, unless I missed it, SRFI 103 does not specify that implementations
&gt; must reject files that contain multiple libraries, only that a conforming
&gt; file contains one library and that a conforming implementation must
&gt; support such files.  That's a good thing, since it allows conforming
&gt; implementations the freedom to support files that don't conform, for
&gt; whatever reasons.  

That's the intent.

&gt; Even if you were to require implementations claiming to
&gt; support SRFI 103 to reject files containing multiple libraries or even
&gt; forms other than library forms (which I hope you do not do), 

I do not want to do that.

&gt; there's no
&gt; way you can prevent them from being created and used in nonconforming
&gt; implementations.
 
If nonconforming files use a different name extension, they're easily
distinguished.

&gt; &gt; Why should the SRFI's R6RS library file format get &quot;Scheme library
&gt; &gt; source&quot;, when other formats or dialects are also Scheme library
&gt; &gt; sources?  
&gt; 
&gt; Why should the R6RS library file format _not_ get sls, which is nice and
&gt; short?  

Because &quot;sls&quot; fails to accomplish the purpose of adopting a new
extension.  I promoted &quot;sls&quot; because I thought the purpose is that it
uniquely distinguishes an R6RS file type.  But, because of what &quot;sls&quot;
means, it's not appropriate for doing that, hence &quot;r6rs-lib&quot;.

&gt; And if it does, why can't other formats or dialects use the same
&gt; extension?  

Because that defeats the purpose of file name extensions and causes
problems avoided by using distinct extensions (as mentioned in the
&quot;Dialects, Formats, and Extensions&quot; section).  What's the point of
adopting &quot;sls&quot; if it's used like &quot;scm&quot; or &quot;ss&quot;?  If &quot;sls&quot; will be used
for different file types, I don't see the reason to use it instead of
&quot;scm&quot; or instead of not using any extension.

&gt; You don't really need for arbitrary files using the sls (or
&gt; any other) extension to conform, just for the ones you happen to find via
&gt; the search path and want to manipulate in certain ways.  

That's part of the problem.  If the environment variables are named
&quot;SCHEME_&quot; then they're for any Scheme libraries, which means, if &quot;sls&quot;
is ambiguously used, there can be &quot;sls&quot; files which don't conform to
SRFI 103 which will interfere.

&gt; Yes, by choosing
&gt; an unusually specific and long name like r6rs-lib, you can be fairly sure
&gt; no one will use the extension for some other purpose, but I think an
&gt; eight-character extension is too high a price to pay.  

Why?

&gt; I think I'm not
&gt; alone, since most of the filename extensions people have chosen over the
&gt; years range from one to three characters in length.

IMO, that's mostly because of the momentum of ancient traditions (and
maybe superstitions).

What do you and anyone else think of the compromise of using &quot;r6l&quot;
instead of &quot;r6rs-lib&quot;?

&gt; BTW, I don't think I saw in the discussion what you intend for the SRFI to
&gt; do about the case of the letters in a library name.  Windows filesystems
&gt; in are case-insensitive, as are MacOS X filesystems (at least optionally). 

I thought Windoze and MacOS lost that a long time ago.  Bleh.

&gt; So what happens if one has two libraries whose names differ only by case? 
&gt; I do so hope that you don't end up requiring encoding of either upper- or
&gt; lower-case letters, but that seems to be the only solution that would be
&gt; compatible with your perspective.

That's leaning me more towards losing the encoding.

-- 
: Derick
----------------------------------------------------------------

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00119" href="msg00119.html">remaining issue: Windows-disallowed file names</a></strong>
<ul><li><em>From:</em> Derick Eddington</li></ul></li>
<li><strong><a name="00124" href="msg00124.html">Re: remaining issue: Windows-disallowed file names</a></strong>
<ul><li><em>From:</em> R. Kent Dybvig</li></ul></li>
<li><strong><a name="00126" href="msg00126.html">Re: remaining issue: Windows-disallowed file names</a></strong>
<ul><li><em>From:</em> Derick Eddington</li></ul></li>
<li><strong><a name="00128" href="msg00128.html">Re: remaining issue: Windows-disallowed file names</a></strong>
<ul><li><em>From:</em> R. Kent Dybvig</li></ul></li>
<li><strong><a name="00129" href="msg00129.html">Re: remaining issue: Windows-disallowed file names</a></strong>
<ul><li><em>From:</em> Derick Eddington</li></ul></li>
<li><strong><a name="00130" href="msg00130.html">Re: remaining issue: Windows-disallowed file names</a></strong>
<ul><li><em>From:</em> R. Kent Dybvig</li></ul></li>
<li><strong><a name="00131" href="msg00131.html">Re: remaining issues</a></strong>
<ul><li><em>From:</em> Derick Eddington</li></ul></li>
<li><strong><a name="00132" href="msg00132.html">Re: remaining issues</a></strong>
<ul><li><em>From:</em> R. Kent Dybvig</li></ul></li>
<li><strong><a name="00133" href="msg00133.html">Re: remaining issues</a></strong>
<ul><li><em>From:</em> Derick Eddington</li></ul></li>
<li><strong><a name="00134" href="msg00134.html">Re: remaining issues</a></strong>
<ul><li><em>From:</em> R. Kent Dybvig</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00134.html">Re: remaining issues</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00136.html">New revision of SRFI 103</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00134.html">Re: remaining issues</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00120.html">Character encoding</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00135"><strong>Date</strong></a></li>
<li><a href="threads.html#00135"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
