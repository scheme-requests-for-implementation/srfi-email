<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Not quite enough abstraction -->
<!--X-From-R13: Xhffv Bvvghynvara <wcvvghynNyvat.uryfvaxv.sv> -->
<!--X-Date: Mon, 28 Jan 2002 13:21:26 +0100 (NFT) -->
<!--X-Message-Id: qot8zaiu0n8.fsf@ahtela.ling.helsinki.fi -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 200201252244.g0PMirT06711@banach.math.purdue.edu -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Not quite enough abstraction</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00064.html">Date Prev</a>][<a href="msg00066.html">Date Next</a>][<a href="msg00064.html">Thread Prev</a>][<a href="msg00066.html">Thread Next</a>][<a href="maillist.html#00065">Date Index</a>][<a href="threads.html#00065">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Not quite enough abstraction</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-25">SRFI 25</a> from before July 7th, 2015.  The new archives for SRFI 25 are <a href="http://srfi-email.schemers.org/srfi-25/">here</a>.  The new archives contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-25@DOMAIN.HIDDEN">srfi-25@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: Not quite enough abstraction</li>
<li><em>From</em>: Jussi Piitulainen &lt;<a href="mailto:jpiitula@DOMAIN.HIDDEN">jpiitula@xxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: 28 Jan 2002 14:21:15 +0200</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-25@DOMAIN.HIDDEN">srfi-25@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: Brad Lucier's message of &quot;Fri, 25 Jan 2002 17:44:53 -0500 (EST)&quot;</li>
<li><em>References</em>: &lt;<a href="mailto:200201252244.g0PMirT06711@DOMAIN.HIDDEN">200201252244.g0PMirT06711@xxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:jpiitula@DOMAIN.HIDDEN">jpiitula@xxxxxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Brad Lucier writes:

&gt; This is a side comment about this SRFI.

That reminds me - I've forgotten to post the revision. I'll try not to
forget it again.

&gt; I'm working with fMRI data, which consists of a time series of
&gt; volumes, of slices, of rows, of pixels, of complex numbers.  Just
&gt; what an array SRFI should help with.
[...]
&gt; So I looked at Alan Bawden's code and this SRFI.  And it turns out
&gt; that neither is at a high enough abstraction level to really
&gt; simplify my life.

They are essentially the same.

I think I have a good answer to your concern about working at the
level of individual elements. The answer is that these operations are
just the primitives that should be used to write the higher level
operations. I have written versions of transpose, map, append along
any dimension, and some others. No reduce or scan yet. (I got these
names from Iverson's Turing lecture.)

I have nothing on arrays with restricted element types like floats.
That may be a weakness in the current proposal, but it seems to be
that there would be problems of specification. Should a map over a
vector of floats always produce a vector of floats, for example?

&gt; Both work too much at the &quot;move a word around&quot; level of programming.
&gt; Both assume that there are underlying arrays that are mutable, you
&gt; can set! elements of the arrays, the underlying arrays are generic
&gt; containers (vectors, not f64vectors or f32vectors, ...), etc.

[...]

&gt; And I see now that a multi-dimensional version of abstract-vector is
&gt; what I need for my current purposes. It's unfortunate that the
&gt; current SRFI can't fulfill my needs as usefully, but that's the way
&gt; things go.

Would the inclusion of map and reduce and the like change your
perception, or is support for restricted vector types essential? And
if the latter is essential, would an implementation using just that
type be sufficient, or is essential to be able to mix and match
different type backing vectors?

I do not mean to include higher level operations in the specification.
The point is just that the primitives are meant to be suitable for
their implementation, and I think they are, save things like redundant
error checking.

&gt; To make things precise, I've included my old code at the end of this
&gt; message.  It uses the define-structure extension of Gambit-C and a
&gt; few Gambit-C declarations to speed things up.  As you can see, there
&gt; are no low-level (word level) operations, but for the most part, you
&gt; don't really need them.  Note also abstract-vector-&gt;vector, which
&gt; fixes a concrete representation of an abstract-vector so that one
&gt; can use a fixed, precomputed, representation of an abstract vector.

I think element level access is needed to implement higher levels. It
would be interesting to try to rework everything to do only the index
arithmetic and not hide the backing vector, but I'm sure I don't have
the time now.

The next question will be whether to finalize or withdraw.
-- 
Jussi 

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00066" href="msg00066.html">Re: Not quite enough abstraction</a></strong>
<ul><li><em>From:</em> David Rush</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00064" href="msg00064.html">Not quite enough abstraction</a></strong>
<ul><li><em>From:</em> Brad Lucier</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00064.html">Not quite enough abstraction</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00066.html">Re: Not quite enough abstraction</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00064.html">Not quite enough abstraction</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00066.html">Re: Not quite enough abstraction</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00065"><strong>Date</strong></a></li>
<li><a href="threads.html#00065"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
