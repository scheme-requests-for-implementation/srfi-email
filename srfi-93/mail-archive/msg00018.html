<!-- MHonArc v2.6.15 -->
<!--X-Subject: Variable transformers and transformer forms -->
<!--X-From-R13: "Rnivq Trhre" <qnivq.srhreNtznvy.pbz> -->
<!--X-Date: Sat, 24 Jun 2006 22:50:52 +0200 (MST) -->
<!--X-Message-Id: 22f4e57a0606241350l62cf5583lbf5f47812d86cb5b@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Variable transformers and transformer forms</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00017.html">Date Prev</a>][<a href="msg00019.html">Date Next</a>][<a href="msg00037.html">Thread Prev</a>][<a href="msg00022.html">Thread Next</a>][<a href="maillist.html#00018">Date Index</a>][<a href="threads.html#00018">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Variable transformers and transformer forms</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-93">SRFI 93</a> from before July 7th, 2015.  The new archives for SRFI 93 are <a href="http://srfi-email.schemers.org/srfi-93/">here</a>.  The new archives contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-93@DOMAIN.HIDDEN">srfi-93@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Variable transformers and transformer forms</li>
<li><em>From</em>: &quot;David Feuer&quot; &lt;<a href="mailto:david.feuer@DOMAIN.HIDDEN">david.feuer@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Sat, 24 Jun 2006 16:50:13 -0400</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-93@DOMAIN.HIDDEN">srfi-93@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; q=dns; c=nofws;        s=beta; d=gmail.com;        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;        b=VIXa0P7B3rBqhQyl5XBZcTqPiBW0P1vPg3nWZDRP16GbGTZmVnsontSderCpW6iKlSlFBKbNALQU4RyRzgXXiQ7ulNX/Ce3DcIx62vm4/sDEbCTbj2yiPGY6UnK2o8YSWcL38qzLgf6KBXQpGDjWvKL8F7PErGXqeFSTahEk0o8=</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Jorgen Schaefer (forcer) wrote
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
According to section 3.4, transformers are procedures which accept a
single argument. Not only is this incompatible with existing systems
(such as explicit renaming), it is also problematic for later
extension. I think it would be more useful to use a new form here,
such as (SYNTAX-TRANSFORMER STX (SYNTAX-CASE STX ...)) or
(SYNTAX-LAMBDA (STX) (SYNTAX-CASE STX ...)).
</pre></blockquote><pre style="margin: 0em;">

I wholeheartedly agree that a new form is necessary.  In keeping with
the precedent set by R5RS, as well as the syntactic closure system of
MIT Scheme, I would propose
(define-syntax foo
  (syntax-case-transformer
     (lambda (stx) body ...)))

As a convenience form I would suggest
(syntax-transformer (stx) body ...) =&gt; (syntax-case-transformer
(lambda (stx) body ...)).  The advantage of this over Mr. Schaefer's
suggestion is that it more closely mirrors the LAMBDA form, and allows
additional arguments to be added more easily.

Furthermore, adding such a form would allow a far more natural
definition of variable transformers:  Rather than using
make-variable-transformer, one would write

(define-syntax foo (syntax-case-variable-transformer
  (lambda (stx) body ...))

with the convenience form

(variable-transformer (stx) body ...) =&gt; (syntax-case-variable-transformer
  (lambda (stx) body ...))

David Feuer

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00022" href="msg00022.html">Re: Variable transformers and transformer forms</a></strong>
<ul><li><em>From:</em> Per Bothner</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00017.html">Re: Various comments</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00019.html">Ellipses</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00037.html">Re: Fresh syntax and unintentional capture</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00022.html">Re: Variable transformers and transformer forms</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00018"><strong>Date</strong></a></li>
<li><a href="threads.html#00018"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
