<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: comments on and questions about SRFI 93 -->
<!--X-From-R13: "Oeguhe O. Uyrpxyre" <neguheNmhevpu.pfnvy.zvg.rqh> -->
<!--X-Date: Wed, 28 Jun 2006 07:07:44 +0200 (MST) -->
<!--X-Message-Id: B63631F9&#45;A5B1&#45;4180&#45;A72F&#45;85EFFDF9F0C4@zurich.csail.mit.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 962D377D&#45;6E0E&#45;417A&#45;BB67&#45;6591B1E23C6E@zurich.csail.mit.edu -->
<!--X-Reference: 44a01b50.1oD/36HxBhfZ3WUg%dyb@garbo.cs.indiana.edu -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: comments on and questions about SRFI 93</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00056.html">Date Prev</a>][<a href="msg00058.html">Date Next</a>][<a href="msg00043.html">Thread Prev</a>][<a href="msg00039.html">Thread Next</a>][<a href="maillist.html#00057">Date Index</a>][<a href="threads.html#00057">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: comments on and questions about SRFI 93</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-93">SRFI 93</a> from before July 7th, 2015.  The new archives for SRFI 93 are <a href="http://srfi-email.schemers.org/srfi-93/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:dyb@DOMAIN.HIDDEN">dyb@xxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: comments on and questions about SRFI 93</li>
<li><em>From</em>: &quot;Arthur A. Gleckler&quot; &lt;<a href="mailto:arthur@DOMAIN.HIDDEN">arthur@xxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Tue, 27 Jun 2006 22:07:33 -0700</li>
<li><em>Cc</em>: <a href="mailto:srfi-93@DOMAIN.HIDDEN">srfi-93@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-93@DOMAIN.HIDDEN">srfi-93@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;44a01b50.1oD/<a href="mailto:36HxBhfZ3WUg%25dyb@DOMAIN.HIDDEN">36HxBhfZ3WUg%dyb@xxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:962D377D-6E0E-417A-BB67-6591B1E23C6E@DOMAIN.HIDDEN">962D377D-6E0E-417A-BB67-6591B1E23C6E@xxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;44a01b50.1oD/<a href="mailto:36HxBhfZ3WUg%25dyb@DOMAIN.HIDDEN">36HxBhfZ3WUg%dyb@xxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
On Jun 26, 2006, at 10:37 AM, dyb@xxxxxxxxxxxxxx wrote:

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
* In section 3.6, the paragraph describing ellipses says, &quot;otherwise,
</pre><tt>the expander would not be able to determine how many times the  
</tt><tt>subform
</tt><pre style="margin: 0em;">
should be repeated in the output.&quot;  I've never understood precisely
how Scheme macro systems decide how many expansions to do for a
particular use of ellipses in the output template.  I can usually
intuit what will happen, but I've never had a concrete understanding
of the algorithm.  Would it be possible to expand on the algorithm
here to make it absolutely clear?
</pre></blockquote><pre style="margin: 0em;">

Probably.  I've made a note to try to do this at some point.
</pre></blockquote><pre style="margin: 0em;">

Thanks.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Both k and e2 are directly followed by an ellipsis, and the pattern
</pre><tt>containing the two of them is also followed by an ellipsis.  So  
</tt><tt>both must
</tt><tt>be followed by at least two ellipses in the output.  They are.  k  
</tt><tt>and e2
</tt><pre style="margin: 0em;">
are each directly followed by an ellipsis in the template, and the
</pre><tt>template containing both is also followed by an ellipsis, the one  
</tt><tt>you've
</tt><pre style="margin: 0em;">
marked.  If you think about each ellipsis as a mapping operation, the
</pre><tt>marked ellipsis maps a procedure that constructs one cond clause  
</tt><tt>over a
</tt><tt>list of a list of k's, a list of e1's and a list of a list of  
</tt><tt>e2's.  The
</tt><tt>ellipsis following k in the template maps the identity function  
</tt><tt>over the
</tt><pre style="margin: 0em;">
list of k's---in other words, it simply returns the list of k's.
</pre></blockquote><pre style="margin: 0em;">

</pre><tt>Ah, it's clear now.  I'll read the implementation to be sure I  
</tt><tt>understand perfectly, but I now see the algorithm.  Thanks.
</tt><pre style="margin: 0em;">

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
* In section 3.10, a definition is given for `identifier-syntax', but
the first clause appears to be missing a call to
`make-variable-transformer', which I've added here:
</pre></blockquote></blockquote><pre style="margin: 0em;">

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Actually, the call to make-variable-transformer should not appear, so
</pre><tt>that the expander never passes a set! expression to the transformer  
</tt><tt>when
</tt><pre style="margin: 0em;">
that form of identifier-syntax is used.
</pre></blockquote><pre style="margin: 0em;">

Ah, I see.  Now it even seems obvious.  Thanks.

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00033" href="msg00033.html">comments on and questions about SRFI 93</a></strong>
<ul><li><em>From:</em> Arthur A. Gleckler</li></ul></li>
<li><strong><a name="00043" href="msg00043.html">Re: comments on and questions about SRFI 93</a></strong>
<ul><li><em>From:</em> dyb</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00056.html">Re: Specification</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00058.html">Re: When is mark applied?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00043.html">Re: comments on and questions about SRFI 93</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00039.html">Wrapping</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00057"><strong>Date</strong></a></li>
<li><a href="threads.html#00057"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
