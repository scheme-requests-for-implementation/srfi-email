<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: opaque record types -->
<!--X-From-R13: [vpunry Ecreore <fcreoreNvasbezngvx.hav&#45;ghrovatra.qr> -->
<!--X-Date: Tue, 20 Sep 2005 12:34:41 +0200 (MST) -->
<!--X-Message-Id: y9l8xxsown3.fsf@sams.informatik.uni&#45;tuebingen.de -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20050918143359.4ECFA9800D@pluto.mumble.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: opaque record types</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00035.html">Date Prev</a>][<a href="msg00037.html">Date Next</a>][<a href="msg00030.html">Thread Prev</a>][<a href="msg00042.html">Thread Next</a>][<a href="maillist.html#00036">Date Index</a>][<a href="threads.html#00036">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: opaque record types</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-76">SRFI 76</a> from before July 7th, 2015.  The new archives for SRFI 76 are <a href="http://srfi-email.schemers.org/srfi-76/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Richard Kelsey &lt;<a href="mailto:kelsey@DOMAIN.HIDDEN">kelsey@xxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: opaque record types</li>
<li><em>From</em>: Michael Sperber &lt;<a href="mailto:sperber@DOMAIN.HIDDEN">sperber@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Tue, 20 Sep 2005 12:34:40 +0200</li>
<li><em>Cc</em>: <a href="mailto:srfi-76@DOMAIN.HIDDEN">srfi-76@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-76@DOMAIN.HIDDEN">srfi-76@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:20050918143359.4ECFA9800D@DOMAIN.HIDDEN">20050918143359.4ECFA9800D@xxxxxxxxxxxxxxxx</a>&gt; (Richard Kelsey's	message of &quot;Sun, 18 Sep 2005 14:33:59 +0000 (UTC)&quot;)</li>
<li><em>References</em>: &lt;<a href="mailto:20050918143359.4ECFA9800D@DOMAIN.HIDDEN">20050918143359.4ECFA9800D@xxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Gnus/5.110003 (No Gnus v0.3) XEmacs/21.5-b21 (berkeley-unix)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Richard Kelsey &lt;kelsey@xxxxxxx&gt; writes:

&gt; I have several of questions about the 'opaque'
&gt; option.
&gt;
&gt; - Why are its effects limited to the reflective
&gt;   procedures? 

Where else could the effects extend?  I'm think I'm probably
misunderstanding you.  If the effects extended, to, say
RECORD-ACCESSOR, you couldn't create a record accessor at all.

&gt;   Should implementation-specific debuggers be allowed to inspect
&gt;   opaque records?

That seems a philosophical question.  I don't think there's anything
in the draft that would forbid this, or that there could or should
be.  The opacity just extends to portable programs.

&gt;   It seems very un-Scheme-like to explicitly restrict programs and
&gt;   implementations in this way.  A program that runs in an
&gt;   implementation that implements this restriction will get the same
&gt;   result in one that ignores it.

I think we generally tried to come up with a compromise between the
two historical positions on this issue, which are &quot;record types must
be opaque&quot; and &quot;record types must be transparent.&quot;

I'm unclear what the Scheme-like position here is.  Procedures are
opaque, too, and the same people that have argued historically
that record types must be transparent have argued that procedures
should, too.

&gt; - If this functionality is important, shouldn't there be a general
&gt;   mechanism that would apply to procedures, ports, and other data
&gt;   structures as well?

Possibly, but it would fall outside the scope of this SRFI, I think.
I'm sure this will come up in the discussion of the greater context.

&gt; - It seems unfortunate to have to specify opacity
&gt;   when a record type is created.

We punted on making the opacity mechanism more elaborate because we
weren't sure additional functionality would justify the complexity and
expected controversy.  Maybe we were wrong.  Can you suggest or point
to an opacity mechanism that would straightforwardly solve your
example problem?

&gt;   Suppose I want to use a general queue package, say, that is
&gt;   implemented using non-opaque records, but I want to hide the
&gt;   internals.  As it is, I must create my own opaque type that wraps
&gt;   the general one.

Yes.  But why is that so bad?  You have a box made of plexiglass.  You
don't want people too see inside, you throw a tarp over it.

-- 
Cheers =8-} Mike
Friede, V&#xF6;lkerverst&#xE4;ndigung und &#xFC;berhaupt blabla

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00042" href="msg00042.html">Re: opaque record types</a></strong>
<ul><li><em>From:</em> Richard Kelsey</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00030" href="msg00030.html">opaque record types</a></strong>
<ul><li><em>From:</em> Richard Kelsey</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00035.html">Re: Why Single Inheritance Restriction?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00037.html">Re: Incompatibility with pattern matching</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00030.html">opaque record types</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00042.html">Re: opaque record types</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00036"><strong>Date</strong></a></li>
<li><a href="threads.html#00036"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
