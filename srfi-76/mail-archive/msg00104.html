<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Opacity considered harmful -->
<!--X-From-R13: Oaqerj Ivypbk <njvypbkNnaqerjjvypbk.anzr> -->
<!--X-Date: Sat,  7 Jan 2006 17:31:22 +0100 (MET) -->
<!--X-Message-Id: 151ba7440601070831g2211a954mdc6225b93d978924@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Opacity considered harmful</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00103.html">Date Prev</a>][<a href="msg00105.html">Date Next</a>][<a href="msg00112.html">Thread Prev</a>][<a href="msg00115.html">Thread Next</a>][<a href="maillist.html#00104">Date Index</a>][<a href="threads.html#00104">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Opacity considered harmful</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-76">SRFI 76</a> from before July 7th, 2015.  The new archives for SRFI 76 are <a href="http://srfi-email.schemers.org/srfi-76/">here</a>.  The new archives contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-76@DOMAIN.HIDDEN">srfi-76@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: Opacity considered harmful</li>
<li><em>From</em>: Andrew Wilcox &lt;<a href="mailto:awilcox@DOMAIN.HIDDEN">awilcox@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Sat, 7 Jan 2006 11:31:19 -0500</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-76@DOMAIN.HIDDEN">srfi-76@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; q=dns; c=nofws;        s=beta; d=gmail.com;        h=received:message-id:date:from:sender:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;        b=YkoVIOA5feZWkNsnaUJqiGRTivzEfHVmw/9no1tmyuXGMz8ecXNOMOzxadT3tAmtKHoBA7H5S/TnTafc2dyzQo/AU16PiSd5qnTDxX8J2MfqjPxP3ah7ZundCLe8ie7WUEW/zG1xPzJLFO1VJL2X/956KcTL35TgQLR/B7zIn2w=</li>
<li><em>Sender</em>: <a href="mailto:andrew.wilcox@DOMAIN.HIDDEN">andrew.wilcox@xxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>&gt; Sealed types and opaque records seem very similar to final
&gt; classes and private members from the Java world. I have never
&gt; had *any* benefit in my professional programming work from
&gt; sealedness/finality [...]
&gt;
&gt; Sealedness and opacity have given me nothing but trouble, and have on
&gt; occasion cost my clients real money.

I myself have done quite a bit of work as a contractor maintaining
applications written in Java, and I have also seen the overuse of
opacity -- as well as the underuse of other design patterns such as
removing code duplication, or using a functional approach for parts of
code which do not need to be stateful.

In the code I was working with, this overuse of opacity seemed to me
to be the natural result of how the original programmers had been
managed.  Each had been given a piece of the project to work on, each
didn't want to be blamed if something went wrong, and issues such as
overall code quality -- or how well the program would actually work
when the pieces were put together -- were left by management to
another day.

Ever though the overuse of opacity made future integration,
enhancement, or repair of the code more difficult, that cost was not
borne by the original programmers.  Instead, like you say, the cost
was later paid by management.

Opacity, like any tool, can be overused, while still remaining a useful tool.

Opacity is a kind of assertion: that only code within this boundary
accesses an internal implementation.  Assertions can make code easier
to understand and reason about, and thus easier to enhance and debug.

But only if used wisely, of course.  I've seen plenty of code with
lots of code duplication, no clear abstractions (i.e. a bunch of
classes, but no reason for code to be in one class instead of
another), and it all covered in a spray of random &quot;private&quot; and
&quot;final&quot; keywords!

I do think that this SRFI does take the right approach in making
non-opaque the default.  Thus on the issue raised in the SRFI:

&gt; Record types defined via the syntactic layer default to
&gt; non-opaque. Should they default to opaque instead?

I would argue no.


Andrew Wilcox

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00103.html">Opacity considered harmful [was Re: Revised SRFI-76 (R6RS Records) draft]</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00105.html">Re: Opacity considered harmful [was Re: Revised SRFI-76 (R6RS Records) draft]</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00112.html">Re: Eq? issue</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00115.html">Re: Opacity considered harmful</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00104"><strong>Date</strong></a></li>
<li><a href="threads.html#00104"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
