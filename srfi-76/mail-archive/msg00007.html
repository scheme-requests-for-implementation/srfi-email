<!-- MHonArc v2.6.15 -->
<!--X-Subject: Problems with field initialization -->
<!--X-From-R13: Oaqer ina Fbaqre <naqerNabj.urg.oebja.rqh> -->
<!--X-Date: Wed, 14 Sep 2005 13:35:53 +0200 (MST) -->
<!--X-Message-Id: Pine.GSO.4.60.0509140617270.4474@now.het.brown.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Problems with field initialization</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00006.html">Date Prev</a>][<a href="msg00008.html">Date Next</a>][<a href="msg00006.html">Thread Prev</a>][<a href="msg00008.html">Thread Next</a>][<a href="maillist.html#00007">Date Index</a>][<a href="threads.html#00007">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Problems with field initialization</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-76">SRFI 76</a> from before July 7th, 2015.  The <a href="http://srfi-email.schemers.org/srfi-76">new archives</a> for SRFI 76 contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-76@DOMAIN.HIDDEN">srfi-76@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Problems with field initialization</li>
<li><em>From</em>: Andre van Tonder &lt;<a href="mailto:andre@DOMAIN.HIDDEN">andre@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Wed, 14 Sep 2005 07:35:43 -0400 (EDT)</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-76@DOMAIN.HIDDEN">srfi-76@xxxxxxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">

</pre><tt>I am not sure that nontrivial field initialization contributes /necessary/ 
</tt><tt>complexity.
</tt><pre style="margin: 0em;">

</pre><tt>Having said that, the paradigm for field initialization seems wrong to me. 
</tt><tt>It imposes arbitrary limitations which I believe to be simple to overcome in an 
</tt><tt>alternative design suggested at the end of this post.
</tt><pre style="margin: 0em;">

But first, the problems with the current approach:

* It arbitrarily limits the kinds of computations that can be performed
  during initialization of a field.  For example, one cannot reuse
  intermediate results needed for more than one field.  Each field has to be
  recomputed from scratch from the inputs.

* It has the wrong granularity.  A common use case it cannot handle
  is a consistency check of the arguments before computing
  the individual fields.

  A related use case is where the constructor has optional arguments,
  where the number of arguments need to be determined before computing the
  fields.

* A record type definition declares an implicit constructor procedure.
  However, the actual body of the procedure is interspersed with other
  syntactic elements, which seems gratuitously complex to me.

* The design requires record declarations to be a new binding form.
  Apart from the lack of economy this entails, this binding form has
  an somewhat unusual, and therefore guaranteed to be confusing to many,
  scoping rule.

* There seems to be a more powerful and simpler alternative:

Alternative Suggestion:

 Instead of having a separate &lt;init expression&gt; for each field, one could
 simply have an &lt;expression&gt; for the constructor, which should evaluate to a
 procedure that returns the computed fields (using VALUES, for example).

 This would solve all the above problems.  The overall gain in power and
 simplicity would be, in my view, significant.


Regards
Andre

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00008" href="msg00008.html">Re: Problems with field initialization</a></strong>
<ul><li><em>From:</em> Andre van Tonder</li></ul></li>
<li><strong><a name="00009" href="msg00009.html">Re: Problems with field initialization</a></strong>
<ul><li><em>From:</em> Michael Sperber</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00006.html">records with additional indexed fields</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00008.html">Re: Problems with field initialization</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00006.html">records with additional indexed fields</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00008.html">Re: Problems with field initialization</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00007"><strong>Date</strong></a></li>
<li><a href="threads.html#00007"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
