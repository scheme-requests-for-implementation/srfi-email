<!-- MHonArc v2.6.15 -->
<!--X-Subject: Second Draft forthcoming, probably monday. -->
<!--X-From-R13: orne <orneNfbavp.arg> -->
<!--X-Date: Thu, 19 Dec 2002 08:32:50 +0100 (NFT) -->
<!--X-Message-Id: Pine.LNX.4.40.0212182220210.28811&#45;100000@bolt.sonic.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 200212181917.gBIJHkI07876@baro.iro.umontreal.ca -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Second Draft forthcoming, probably monday.</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00028.html">Date Prev</a>][<a href="msg00030.html">Date Next</a>][<a href="msg00028.html">Thread Prev</a>][<a href="msg00032.html">Thread Next</a>][<a href="maillist.html#00029">Date Index</a>][<a href="threads.html#00029">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Second Draft forthcoming, probably monday.</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-38">SRFI 38</a> from before July 7th, 2015.  The <a href="http://srfi-email.schemers.org/srfi-38">new archives</a> for SRFI 38 contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: Second Draft forthcoming, probably monday.</li>
<li><em>From</em>: bear &lt;<a href="mailto:bear@DOMAIN.HIDDEN">bear@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Wed, 18 Dec 2002 23:32:48 -0800 (PST)</li>
<li><em>Cc</em>: <a href="mailto:srfi-38@DOMAIN.HIDDEN">srfi-38@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-38@DOMAIN.HIDDEN">srfi-38@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:200212181917.gBIJHkI07876@DOMAIN.HIDDEN">200212181917.gBIJHkI07876@xxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>

Hi. I'm getting ready to prepare a second draft of the SRFI,
based on the discussion we've had here.  I am planning to make
the following changes:


(1) Optional second argument is used as an output-port.

(2) state explicitly that if given a third argument,
    (write-showing-shared) must still produce finite output in
    finite time when writing finite data structures and must
    still produce an external representation that can be read
    by (read-showing-shared).  This allows some parameterization,
    but does not allow the basic functionality to be revoked.

(3) state explicitly that intertoken whitespace is not significant
   in the notation produced -- allowing implementations to
   prettyprint or otherwise format output somehow if they so
   desire, possibly based on the value of a third argument.

(4) Use the new reference implementation which Al Petrofsky has
   kindly given us in this thread -- with an extension for an
   optional second argument and an optional third argument. In
   the reference implementation the third argument will be ignored
   completely if present.

(5) State explicitly that (eq?) relationships among characters and
   numbers (and if an external representation is provided for procedures,
   for them as well), are not required to be preserved, but that a
   hypothetical implementation which preserves such relationships
   is compliant with the SRFI.

(6) Require a procedure named (read-showing-shared) which reads
    the notation that (write-showing-shared) creates.

(7) provide a reference implementation of (read-showing-shared).

(8) Add some discussion about efficiency vs. portability and point
   out to implementors that a MUCH more efficient version of this
   functionality is possible.

(9) Suggest or require shortcuts named (write/ss) and (read/ss)
    for those who don't care for long names.

This will not be the last draft of this document; it's just stuff
that looks like a good idea now that I've seen some discussion on
it.

Stuff I'm not really sure of yet includes:

(A) I'm not really sure about point (9) above.  It's there
    mainly because I think that folks who object to long names
    will probably do something similar to this anyway, and for
    portability's sake I want to reserve specific names for the
    shortcuts.

(B) (write-showing-shared) is an obvious and reasonable name for
    an output function, but (read-showing-shared) is not a logical
    name for an input function.  The names of the functions should
    be very clearly related, as in (write-XXX) and (read-XXX) but
    'showing-shared' may not be the best choice of XXX now that I
    look at the name of the read function it generates.  Of course
    changing it would most likely change the shortcut names too.

(C) It may be possible to provide a more efficient reference
    implmentation of (write-showing-shared) by using an atree
    instead of an alist. Since ordering of container types
    such as pairs and vectors involves considerable effort
    and possibly recursion, this may not in fact be a win.

				Bear





</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00032" href="msg00032.html">A portable read implementation</a></strong>
<ul><li><em>From:</em> Albus Petrofsky</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00028" href="msg00028.html">Re: new function or modify read</a></strong>
<ul><li><em>From:</em> Marc Feeley</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00028.html">Re: new function or modify read</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00030.html">Re: new function or modify read</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00028.html">Re: new function or modify read</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00032.html">A portable read implementation</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00029"><strong>Date</strong></a></li>
<li><a href="threads.html#00029"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
