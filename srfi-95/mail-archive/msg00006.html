<!-- MHonArc v2.6.15 -->
<!--X-Subject: Wording of the rationale -->
<!--X-From-R13: =?WEA&#45;8859&#45;1?C?Xraf_Okry_E=T8tnneq?= <wrafnkryNfbrtnneq.arg> -->
<!--X-Date: Tue,  7 Nov 2006 13:56:17 +0100 (MET) -->
<!--X-Message-Id: 455080C2.2090103@soegaard.net -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Wording of the rationale</title>
<link rev="made" href="mailto:jensaxel@soegaard.net">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00005.html">Date Prev</a>][<a href="msg00007.html">Date Next</a>][<a href="msg00018.html">Thread Prev</a>][<a href="msg00008.html">Thread Next</a>][<a href="maillist.html#00006">Date Index</a>][<a href="threads.html#00006">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Wording of the rationale</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-95%40srfi.schemers.org">srfi-95@srfi.schemers.org</a></li>
<li><em>Subject</em>: Wording of the rationale</li>
<li><em>From</em>: Jens Axel S&#xF8;gaard &lt;<a href="mailto:jensaxel%40soegaard.net">jensaxel@soegaard.net</a>&gt;</li>
<li><em>Date</em>: Tue, 07 Nov 2006 13:49:06 +0100</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-95%40srfi.schemers.org">srfi-95@srfi.schemers.org</a></li>
<li><em>User-agent</em>: Thunderbird 1.5.0.7 (Windows/20060909)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
I am little unhappy about the wording of the rationale:

    RATIONALE

    When SRFI 32 Sort Libraries was withdrawn, it had 28 procedures for
    what should have been a clean, simple interface.

In my view SRFI-32 *is* clean and simple. Comparing the number 28
to the number of procedures defined in SRFI-95 is unfair, since
SRFI-95 covers the &quot;What&quot;-part but not the &quot;How to&quot;-part of
SRFI-32.

    These 28 arose for several reasons:

       * List and Vector versions were separated, even though Scheme has
         manifest types which eliminate ambiguity as to the caller's
         intentions.

Separating list and vector functions are tradition. In R5RS we have,
for example list-ref, vector-ref and string-ref instead of general ref.
</pre><tt>One benefit of this choice is that compilers get a fair chance to 
</tt><tt>generate efficient code.
</tt><pre style="margin: 0em;">

       * Four varieties of algorithms were provided (quick, heap,
         insert, merge) even though quick, heap, and insert sorts have
         no significant advantage over merge-sort.

First: The choice between these algorithms were in the &quot;How to&quot;-part
of SRFI-32. If a user doesn't care, which algorithm is used, he can
use list-sort!, vector-sort!.

Second: What does &quot;no significant advantage&quot; mean? I were of the
impression, that the &quot;hidden constants&quot; of O(n log (n)) of
vector-quick-sort were smaller than that of vector-merge-sort.

Third: The different algorithms have different memory requirements.
If very large vectors are sorted, it makes sense to choose a slower
algorithm that allocates very little extra memory. Some versions
of vector-merge-sort! allocate a helper array the size of the original.

Also: Is merge-sort the fastest algorithm, if the elements are &quot;almost
sorted&quot;?

      * Sort and stable-sort varieties were included, even though an
        unstable sort has no performance advantage.

As I see it, the reason they are in SRFI-32 is not efficiency but
completeness. Nevertheless, if vector-quick-sort! (which is unstable)
is faster than vector-merge-sort! (which is stable) then it makes
sense to let vector-sort! default to vector-quick-sort! and
let vector-stable-sort! default to vector-merge-sort! in the
name of efficiency.

--
Jens Axel S&#xF8;gaard

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00008" href="msg00008.html">Re: Wording of the rationale</a></strong>
<ul><li><em>From:</em> Jens Axel S&#xF8;gaard &lt;jensaxel@soegaard.net&gt;</li></ul></li>
<li><strong><a name="00009" href="msg00009.html">Re: Wording of the rationale</a></strong>
<ul><li><em>From:</em> Per Bothner &lt;per@bothner.com&gt;</li></ul></li>
<li><strong><a name="00010" href="msg00010.html">Re: Wording of the rationale</a></strong>
<ul><li><em>From:</em> Aubrey Jaffer &lt;agj@alum.mit.edu&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00005.html">Memory use of sort!</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00007.html">Wording of the rationale</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00018.html">Re: Memory use of sort!</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00008.html">Re: Wording of the rationale</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00006"><strong>Date</strong></a></li>
<li><a href="threads.html#00006"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
