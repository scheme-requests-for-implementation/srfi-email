<!-- MHonArc v2.6.15 -->
<!--X-Subject: memory coherence -->
<!--X-From-R13: Xvz Pynaql <wvzoNerq&#45;orna.pbz> -->
<!--X-Date: Sat, 18 Mar 2000 13:28:30 &#45;0600 (CST) -->
<!--X-Message-Id: 200003181928.OAA05971@savonarola.red&#45;bean.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>memory coherence</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00011.html">Date Prev</a>][<a href="msg00013.html">Date Next</a>][<a href="msg00009.html">Thread Prev</a>][<a href="msg00015.html">Thread Next</a>][<a href="maillist.html#00012">Date Index</a>][<a href="threads.html#00012">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>memory coherence</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-18">SRFI 18</a> from before July 7th, 2015.  The new archives for SRFI 18 are <a href="http://srfi-email.schemers.org/srfi-18/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-18@DOMAIN.HIDDEN">srfi-18@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: memory coherence</li>
<li><em>From</em>: Jim Blandy &lt;<a href="mailto:jimb@DOMAIN.HIDDEN">jimb@xxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Sat, 18 Mar 2000 14:28:29 -0500</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Will the SRFI make any statements about memory coherency, or the lack
thereof?  Without such a statement, it'll either be difficult to write
portable programs that use threads, or difficult to implement the SRFI
efficiently.

Both the POSIX Threads and Java implementations make some kind of
statement to this effect.  POSIX says:

    2.3.8 memory synchronization: Applications shall ensure that
    access to any memory location by more than one thread of control
    (threads or processes) is restricted such that no thread of
    control can read or modify a memory location while another thread
    of control may be modifying it.  Such access is restricted using
    functions that synchronize thread execution and also synchronize
    memory with respect to other threads.  The following functions
    synchronize memory with respect to other threads:

    ... blah blah blah ...
    pthread_mutex_lock
    pthread_mutex_unlock

It then goes on to offer an explanation of why this restriction is
necessary.

In the Java spec, chapter 17 lays out an elaborate set of rules about
actions called &quot;use&quot;, &quot;assign&quot;, &quot;load&quot;, &quot;store&quot;, &quot;lock&quot;, and &quot;unlock&quot;,
that basically specify the same thing, but in a more formal way.


I think the SRFI should at least adopt the POSIX text, to warn people
that set-car! doesn't work the way they might expect.

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00015" href="msg00015.html">Re: memory coherence</a></strong>
<ul><li><em>From:</em> Jim Blandy</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00011.html">Re: continuations and threads</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00013.html">Re: continuations and threads</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00009.html">Re: condition variables and mutexes</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00015.html">Re: memory coherence</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00012"><strong>Date</strong></a></li>
<li><a href="threads.html#00012"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
