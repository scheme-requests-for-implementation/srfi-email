<!-- MHonArc v2.6.15 -->
<!--X-Subject: Note #1: The basic representation of time -->
<!--X-From-R13: "Ivyy Tvgmtrenyq" <svgmtrenyqNarbqrfvp.pbz> -->
<!--X-Date: Tue, 13 Jun 2000 15:07:45 &#45;0500 (CDT) -->
<!--X-Message-Id: 002401bfd573$0a15a810$11969fd0@fitzgerald_nt -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 200004241445.KAA03621@trex.IRO.UMontreal.CA -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Note #1: The basic representation of time</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00020.html">Date Prev</a>][<a href="msg00022.html">Date Next</a>][<a href="msg00018.html">Thread Prev</a>][<a href="msg00019.html">Thread Next</a>][<a href="maillist.html#00021">Date Index</a>][<a href="threads.html#00021">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Note #1: The basic representation of time</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-19">SRFI 19</a> from before July 7th, 2015.  The new archives for SRFI 19 are <a href="http://srfi-email.schemers.org/srfi-19/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: &lt;<a href="mailto:srfi-19@DOMAIN.HIDDEN">srfi-19@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Note #1: The basic representation of time</li>
<li><em>From</em>: &quot;Will Fitzgerald&quot; &lt;<a href="mailto:fitzgerald@DOMAIN.HIDDEN">fitzgerald@xxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Tue, 13 Jun 2000 16:07:45 -0400</li>
<li><em>Importance</em>: Normal</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:200004241445.KAA03621@DOMAIN.HIDDEN">200004241445.KAA03621@xxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Note #1. The basic representation of time.

&quot;Time&quot; is an absolute (Newtonian) point in time. There are a number of
standard time representations that should be captured:

- TAI (international atomic time). Measures constant, real time.
- UTC (coordinated universal time). TAI adjusted by leap seconds.
- Monotonic time. Time from some point in time since this computer was
last reset.
- Time in current thread. Time from some point in time since this thread
ran.
- Time in current process. Time from when this Scheme session started.
- Durations. Arbitrary amounts of time.
- Other, implementation specific representations (time spent in GC,
etc.)
- Other, user-defined representations (mission elapsed time, etc.).

You should be able to query the representation for its resolution.

&quot;Time&quot; should be its own data type, with three fields:

The 'type,' i.e., the representation type described above,
A number of seconds, an integer, representing the number of whole
seconds since/before the 'epoch' or start of the point in time,
A number of nanoseconds, an integer (0 to 999,999,999) representing the
partial seconds. Leap seconds, though, are represented in the nanosecond
field as 'overflow' to 1,999,999,999.

Conversion procedures required:

UTC&lt;-&gt;TAI&lt;-&gt;Date
Monotonic-&gt;UTC
Monotonic-&gt;TAI
Monotonic-&gt;Date

Getting the current time is only required to provide a 'best effort'.


Some justifications:

I won't try to justify each of the representations, except that I do
think it's important to allow a 'user defined' time types.

Using seconds/nanoseconds provides a clean, consistent, precise,
representational scheme that is likely to work for a long time
(milliseconds may be too little; attoseconds too much). Querying the
resolution allows you to know how much really matters.

Representing leap seconds as 'overflow' means that the 'seconds' part of
TAI and UTC forms will be the same as far as conversion routines go.

Carrying the 'type' with the datum helps prevent invalid operations
(like adding two TAI times).

Relativity isn't considered because, well, then I'd have to understand
relativity, and I'm just a liberal arts convert :)

It's difficult to get the current time, especially in the absence of
time servers, etc.

Much of this is based on &quot;Proposed new &lt;time.h&gt; for ISO C 200X&quot;
<a  rel="nofollow" href="http://www.cl.cam.ac.uk/~mgk25/c-time/">http://www.cl.cam.ac.uk/~mgk25/c-time/</a>.


--
Will






</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00015" href="msg00015.html">Re: Proposed changes to SRFI-19</a></strong>
<ul><li><em>From:</em> Marc Feeley</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00020.html">One more time on Time. No real date on Date.</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00022.html">Note #2: Time Procedures</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00018.html">RE: Time</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00019.html">back up?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00021"><strong>Date</strong></a></li>
<li><a href="threads.html#00021"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
