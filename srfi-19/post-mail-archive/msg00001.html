<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: SRFI&#45;19 reference implementation problem -->
<!--X-From-R13: [negva Unfovpuyre <tnfovpuyNvasbezngvx.hav&#45;ghrovatra.qr> -->
<!--X-Date: Tue, 25 Feb 2003 10:40:18 +0100 (NFT) -->
<!--X-Message-Id: 3rd6lgd7ge.fsf@informatik.uni&#45;tuebingen.de -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1bc2f7b2.0302172232.2b6d9e56@posting.google.com -->
<!--X-Reference: cdac2dde.0302180452.51031638@posting.google.com -->
<!--X-Reference: Wjf5a.697$se1.322800@newssvr28.news.prodigy.com -->
<!--X-Reference: y9lu1esww7b.fsf@informatik.uni&#45;tuebingen.de -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: SRFI-19 reference implementation problem</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00000.html">Date Prev</a>][<a href="msg00002.html">Date Next</a>][<a href="msg00000.html">Thread Prev</a>][<a href="msg00002.html">Thread Next</a>][<a href="maillist.html#00001">Date Index</a>][<a href="threads.html#00001">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: SRFI-19 reference implementation problem</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: &quot;Will Fitzgerald&quot; &lt;<a href="mailto:wafitzge-spamless@DOMAIN.HIDDEN">wafitzge-spamless@xxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: SRFI-19 reference implementation problem</li>
<li><em>From</em>: Martin Gasbichler &lt;<a href="mailto:gasbichl@DOMAIN.HIDDEN">gasbichl@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Tue, 25 Feb 2003 10:40:17 +0100</li>
<li><em>Cc</em>: <a href="mailto:srfi-19@DOMAIN.HIDDEN">srfi-19@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-19@DOMAIN.HIDDEN">srfi-19@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:y9lu1esww7b.fsf@DOMAIN.HIDDEN">y9lu1esww7b.fsf@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt; (&quot;Will Fitzgerald&quot;'s message of &quot;Tue, 25 Feb 2003 10:23:04 +0100&quot;)</li>
<li><em>References</em>: &lt;<a href="mailto:1bc2f7b2.0302172232.2b6d9e56@DOMAIN.HIDDEN">1bc2f7b2.0302172232.2b6d9e56@xxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:cdac2dde.0302180452.51031638@DOMAIN.HIDDEN">cdac2dde.0302180452.51031638@xxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:Wjf5a.697%24se1.322800@DOMAIN.HIDDEN">Wjf5a.697$se1.322800@xxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:y9lu1esww7b.fsf@DOMAIN.HIDDEN">y9lu1esww7b.fsf@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Gnus/5.090015 (Oort Gnus v0.15) XEmacs/21.5 (cabbage)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>&gt;&gt;&gt;&gt;&gt; &quot;Will&quot; == Will Fitzgerald &lt;wafitzge-spamless@xxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt; writes:

Will&gt; OK, A new version of the SRFI-19 implementation is available at:

Will&gt; <a  rel="nofollow" href="http://max.cs.kzoo.edu/~wfitzg/srfi-19/">http://max.cs.kzoo.edu/~wfitzg/srfi-19/</a>

Will&gt; You'll find the code and a small test suite there.

Will&gt; Please let me know of any errors.

Thanks for taking care of this!


Some small remarks I came across while porting this to scsh:

Why not using SRFI-9 for the definition of the record types? This
would it also make possible omit the definition of mutators completely
instead of redefining them to throw an error.

Why is the definition of COPY-TIME not simply:

(define (copy-time time)
   (make-time (time-type time)
              (time-second time)
              (time-nanosecond time)))


/ with more than two arguments is an optional procedure in R5RS, same
applies to -. IMHO using the binary variants makes the code much more
readable...

Scsh's reader is case-sensitive, it therefore fails to understand
#\Space. Also #\Tab or #\tab is not in R5RS, maybe you could use a
string containing a tabulator character instead (for the scsh port I
used scsh's ASCII package).

The scsh version of your code with these things fixed is available
from scsh's CVS at

<a  rel="nofollow" href="http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/*checkout*/scsh/scsh-0.6/scheme/srfi/srfi-19.scm?rev=HEAD&amp;content-type=text/plain">http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/*checkout*/scsh/scsh-0.6/scheme/srfi/srfi-19.scm?rev=HEAD&amp;content-type=text/plain</a>


Before successfully running the test suite I had to fix two minor
tweaks:

In the test suite you use the non-standard |...| notation for
symbols.

Also in the test suite you use tm:nano which is obviously an internal
constant of the library.


-- 
Martin

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00000" href="msg00000.html">Re: SRFI-19 reference implementation problem</a></strong>
<ul><li><em>From:</em> Will Fitzgerald</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00000.html">Re: SRFI-19 reference implementation problem</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00002.html">Re: SRFI-19 reference implementation problem</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00000.html">Re: SRFI-19 reference implementation problem</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00002.html">Re: SRFI-19 reference implementation problem</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00001"><strong>Date</strong></a></li>
<li><a href="threads.html#00001"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
