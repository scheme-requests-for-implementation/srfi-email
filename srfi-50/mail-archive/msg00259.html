<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: when GC is permitted -->
<!--X-From-R13: Fbz Zbeq <ybeqNrzs.arg> -->
<!--X-Date: Sat, 10 Jan 2004 19:31:10 +0100 (NFT) -->
<!--X-Message-Id: 200401101857.KAA11178@morrowfield.regexps.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1AeyBj&#45;0005Cs&#45;00@mail.mumble.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: when GC is permitted</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00258.html">Date Prev</a>][<a href="msg00260.html">Date Next</a>][<a href="msg00254.html">Thread Prev</a>][<a href="msg00260.html">Thread Next</a>][<a href="maillist.html#00259">Date Index</a>][<a href="threads.html#00259">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: when GC is permitted</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-50">SRFI 50</a> from before July 7th, 2015.  The <a href="http://srfi-email.schemers.org/srfi-50">new archives</a> for SRFI 50 contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:kelsey@DOMAIN.HIDDEN">kelsey@xxxxxxx</a></li>
<li><em>Subject</em>: Re: when GC is permitted</li>
<li><em>From</em>: Tom Lord &lt;<a href="mailto:lord@DOMAIN.HIDDEN">lord@xxxxxxx</a>&gt;</li>
<li><em>Date</em>: Sat, 10 Jan 2004 10:57:49 -0800 (PST)</li>
<li><em>Cc</em>: <a href="mailto:felix@DOMAIN.HIDDEN">felix@xxxxxxxxxxxxx</a>, <a href="mailto:jimb@DOMAIN.HIDDEN">jimb@xxxxxxxxxx</a>, <a href="mailto:srfi-50@DOMAIN.HIDDEN">srfi-50@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-50@DOMAIN.HIDDEN">srfi-50@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:E1AeyBj-0005Cs-00@DOMAIN.HIDDEN">E1AeyBj-0005Cs-00@xxxxxxxxxxxxxxx</a>&gt; (message from Richard Kelsey	on Fri, 09 Jan 2004 10:04:39 -0500)</li>
<li><em>References</em>: &lt;<a href="mailto:E1AeyBj-0005Cs-00@DOMAIN.HIDDEN">E1AeyBj-0005Cs-00@xxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>

    &gt; From: Richard Kelsey &lt;kelsey@xxxxxxx&gt;

    &gt; I can understand wanting the first FFI SRFI being a safer, more
    &gt; general one, perhaps based on JNI or Pika.  This SRFI isn't that
    &gt; SRFI because that isn't the type of FFI that Mike and I needed.

In off-list conversations about SRFI-50, that paragraph has raised a
few hackles.

We all know and appreciate that the SRFI process doesn't require
authors to respond to the needs or thoughts of anyone else -- they
need only conform to the rather slim requirements of the process.

But I think we also all know that the SRFI process was designed to
encourage and facilitate the collection and application of divergent
needs and thoughts.

The SRFI process _enables_ the development of rough consensus without
trying to _enforce_ the development of rough consensus.   It's a kind
of &quot;IETF-lite&quot;.

So I think it is an abuse -- albeit a kind of abuse the SRFI process
explicitly declines to prohibit -- when authors say (and I'm not
certain that this is what you're saying but it's sure looking that
way): &quot;Consensus doesn't matter for this SRFI.  My goal is to have a
finalized SRFI with essentially the same content as my draft.  Your
objections are interesting but contradict my goal: I guess we just
have to agree to disagree.&quot;

Now to the specific issues that are causing friction:

1) You say that a Pika-style calling convention &quot;isn't the type
   of FFI that Mike and I needed.&quot;

   I'm trying to interpret that statement according to the &quot;reasonable
   person principle&quot;.  In other words, my first axiom is that it's a
   statement from a reasonable person rather than just a &quot;Nyah, nyah
   -- you can't stop me from finalizing.&quot;

   I'm also trying to interpret it as a correct statement.   In other
   words, my second axiom is that &quot;Hey, Mike's a smart guy.  Perhaps
   there's something important about Pika-style conventions that, if
   present in the FFI, would cause him to be unable to accomplish some
   technical goal.&quot;

   I'm so far unable to interpret the statement (&quot;isn't the type of
   FFI...&quot;) in a way that is consistent with both axioms.

   Axiom 1, the &quot;reasonable person principle&quot;, is my favorite.  I'll
   keep that one for now.

   So perhaps the problem is with axiom 2:  you're making an honest
   mistake, not a correct technical judgement.

   This hypothesis, that you're making a mistake, is reinforced by an
   experiment that jivera (Matthew Dempsky) carried out.  He thought:
   &quot;Suppose I have a Scheme implementation that uses a
   Sperber/Kelsey-style FFI.  And further suppose that I now want that
   implementation to have a Pika-style FFI.  How hard is that?&quot;  About
   2-3 pages of trivial code later, and disregarding for the moment
   the issues we haven't taken up yet about error handling and
   non-local exits, he had 95% of an implementation.  The only
   sticking point was on the exact syntax of GCPROtect-family macros:
   it would take some tweaks to reconcile those in Pika with those in
   the draft.  We would need to make a trivial addition to the Pika
   macros to complete the job.

   What about in the other direction?   I'll ask: &quot;Suppose I have a 
   bunch of code using a Kelsey/Sperber-style FFI -- but the FFI
   standard is Pika-style.  How hard is it to port that FFI-using
   code to the standard?&quot;

   I don't have as clear an empirical an answer to that question.  On
   the other hand, I have personally made many similar kinds of global
   changes to systems in the past.   If what you have is a few 10K
   lines of code, I find it hard to believe that that would take more
   than a couple of weeks.   Emacs is a wonderful thing -- between
   grep, tags, query-replace, keyboard macros, and a tablet of paper
   -- conversions similar to this can go pretty quickly.   If the code
   in question is free software of general interest, I bet you could
   get a decent amount of help with it.

   So to sum up (1): I am having trouble imagining a respectable
   &quot;need&quot; for a non-Pika-conventions FFI.   Can you elaborate on the
   nature of this need?


2) Momentum is an issue.

   The phrase &quot;Sperber and Kelsey FFI SRFI&quot; contains four words that 
   will catch people's attention and give weight to the contents of
   the document so referred to.

   The draft, while completely unacceptable for Pika (which isn't even
   done yet), _can_ be implemented in many implementations.

   My fear here is that (a) people _will_ widly adopt the draft if
   finalized;  (b) people _will_ write code against it;  (c) lack of
   support for the draft will become a major barrier-to-adoption for
   future implementations.   Therefore, in my view, the draft has a
   non-disregardable chance of limiting the future of Scheme
   implementation techniques.

   Most people, g*d willing, live in the future.  Whatever &quot;needs&quot;
   Kelsey and Sperber have regarding the draft, let's not forget what
   Spock says: &quot;The needs of the many outweight the needs of the few,
   or the one.&quot;

   And, anyway, Spock aside -- it's not unselfish to want Scheme to 
   evolve according to its promise.   In this case, &quot;the needs of the
   many&quot; are not necessarily contradictory to &quot;the needs of the few&quot;.


3) Pika-conventions have a huge disadvantage.

   I think I've argued very well for Pika-conventions on first
   principles.

   There's one argument I can't make and that argument has the form
   &quot;Here, look these successful systems already using them.&quot;

   There's another argument I can't make and that argument has the
   form &quot;Here, look at this document which is easily massaged into a
   SRFI that specifies them.&quot;

   A radical proposal for reconciling the differences on this list 
   might be:

   ~ perhaps some of the &quot;rest of us&quot; can help to revise the 
     draft

   ~ perhaps some of the &quot;rest of us&quot; can help to implement the
     revised draft in a few implementations

   ~ perhaps some of the &quot;rest of us&quot; can help to strengthen the
     revised SRFI by preparing, before finalization, a few C 
     libraries that use the revised interface to create bindings
     for some popular libraries

   For example: my gosh, I'd _really_ like to see SCSH running in
   several different implementations.  And isn't there now an X11
   binding for S48?  I'd like to see that get around, too.

Responses?

-t

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00260" href="msg00260.html">Re: when GC is permitted</a></strong>
<ul><li><em>From:</em> Michael Sperber</li></ul></li>
<li><strong><a name="00262" href="msg00262.html">Re: when GC is permitted</a></strong>
<ul><li><em>From:</em> Richard Kelsey</li></ul></li>
<li><strong><a name="00266" href="msg00266.html">Re: when GC is permitted</a></strong>
<ul><li><em>From:</em> Matthew Dempsky</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00252" href="msg00252.html">Re: when GC is permitted</a></strong>
<ul><li><em>From:</em> Richard Kelsey</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00258.html">Re: Pika-style from first principles</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00260.html">Re: when GC is permitted</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00254.html">Oh.</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00260.html">Re: when GC is permitted</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00259"><strong>Date</strong></a></li>
<li><a href="threads.html#00259"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
