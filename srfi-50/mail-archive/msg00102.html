<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Couple things... -->
<!--X-From-R13: sryvk <sryvkNpnyy&#45;jvgu&#45;pheerag&#45;pbagvahngvba.bet> -->
<!--X-Date: Sat, 27 Dec 2003 21:16:16 +0100 (NFT) -->
<!--X-Message-Id: opr0uv14oqw2xcd0@mx.freenet.de -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: opr0lf0hi7w2xcd0@mx.freenet.de -->
<!--X-Reference: y9lvfo7lwhn.fsf@informatik.uni&#45;tuebingen.de -->
<!--X-Reference: opr0oqxxx7w2xcd0@mx.freenet.de -->
<!--X-Reference: y9lsmj7boet.fsf@informatik.uni&#45;tuebingen.de -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Couple things...</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00101.html">Date Prev</a>][<a href="msg00103.html">Date Next</a>][<a href="msg00070.html">Thread Prev</a>][<a href="msg00108.html">Thread Next</a>][<a href="maillist.html#00102">Date Index</a>][<a href="threads.html#00102">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Couple things...</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Michael Sperber &lt;<a href="mailto:sperber@DOMAIN.HIDDEN">sperber@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: Couple things...</li>
<li><em>From</em>: felix &lt;<a href="mailto:felix@DOMAIN.HIDDEN">felix@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Sat, 27 Dec 2003 21:19:06 +0100</li>
<li><em>Cc</em>: <a href="mailto:srfi-50@DOMAIN.HIDDEN">srfi-50@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-50@DOMAIN.HIDDEN">srfi-50@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:y9lsmj7boet.fsf@DOMAIN.HIDDEN">y9lsmj7boet.fsf@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:opr0lf0hi7w2xcd0@DOMAIN.HIDDEN">opr0lf0hi7w2xcd0@xxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:y9lvfo7lwhn.fsf@DOMAIN.HIDDEN">y9lvfo7lwhn.fsf@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:opr0oqxxx7w2xcd0@DOMAIN.HIDDEN">opr0oqxxx7w2xcd0@xxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:y9lsmj7boet.fsf@DOMAIN.HIDDEN">y9lsmj7boet.fsf@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Opera7.11/Linux M2 build 406</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<tt>On Fri, 26 Dec 2003 16:15:54 +0100, Michael Sperber 
</tt><tt>&lt;sperber@xxxxxxxxxxxxxxxxxxxxxxxxxxx&gt; wrote:
</tt><pre style="margin: 0em;">

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
&quot;Felix&quot; == felix  &lt;felix@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt; writes:
</pre></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">

</pre><tt>Felix&gt; My idea is simpler, more safe, more portable and does away with 
</tt><tt>most GC
</tt><tt>Felix&gt; and character-representation issues (as far as I'm able to 
</tt><tt>understand
</tt><tt>Felix&gt; Unicode-related problems): define blocks of code externally, with 
</tt><tt>a
</tt><tt>Felix&gt; properly defined set of arguments/results and their types. The 
</tt><tt>foreign
</tt><tt>Felix&gt; bindings could be defined in a &quot;binding&quot;-language, perhaps even by 
</tt><tt>taking
</tt><pre style="margin: 0em;">
Felix&gt; ideas from SRFI-7:

While this approach is very seductive, my personal experience
(stemming from writing or supervising the writing of) many, many lines
of C bindings and investing considerable thought and work into this
kind of thing, is that it's neither simple to implement, nor general
enough to address even a significant portion of the C binding needs
out there in the real world.

For a comparatively small example: scsh had something like this once
(called CIG), which we largely did away with it for the 0.6 series
precisely because it tended to make things harder rather than easier.

Moreover, this kind of approach still doesn't absolve you from
specifying what the C-level interface with Scheme looks like.  See,
say, SWIG for an example where &quot;the simple approach&quot; was used in the
beginning, and then more and more half-baked stuff was stapled and
Scotch-taped on later.

This kind of thing could still be very useful, mind you, but it
doesn't meet with the stated goals of this particular SRFI.

</pre></blockquote><pre style="margin: 0em;">

Hm, you probably misunderstood: I'm not talking about making a SWIG-like
FFI-tool mandatory, I merely defined a language (quite similar to the
approach taken by SRFI-7), that specifies blocks of foreign code, plus
the types of the argument and result values. How exactly this is processed,
or wether an external tool is used, is not relevant.

The problem I see with the current SRFI-50 draft is that it will lead
to extremely subtle and hard to find bugs, because too much implementation
specific knowledge is implicitly expected from someone using the FFI.


cheers,
felix

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00108" href="msg00108.html">Re: Couple things...</a></strong>
<ul><li><em>From:</em> Michael Sperber</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00004" href="msg00004.html">Couple things...</a></strong>
<ul><li><em>From:</em> felix</li></ul></li>
<li><strong><a name="00025" href="msg00025.html">Re: Couple things...</a></strong>
<ul><li><em>From:</em> Michael Sperber</li></ul></li>
<li><strong><a name="00053" href="msg00053.html">Re: Couple things...</a></strong>
<ul><li><em>From:</em> felix</li></ul></li>
<li><strong><a name="00070" href="msg00070.html">Re: Couple things...</a></strong>
<ul><li><em>From:</em> Michael Sperber</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00101.html">Re: Couple things...</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00103.html">Re: Couple things...</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00070.html">Re: Couple things...</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00108.html">Re: Couple things...</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00102"><strong>Date</strong></a></li>
<li><a href="threads.html#00102"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
