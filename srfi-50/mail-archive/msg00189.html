<!-- MHonArc v2.6.15 -->
<!--X-Subject: Reliability -->
<!--X-From-R13: Tryvk Ivaxryznaa <sryvkNcebkvzn&#45;zg.qr> -->
<!--X-Date: Tue,  6 Jan 2004 09:02:18 +0100 (NFT) -->
<!--X-Message-Id: opr1cglwj81ushe7@post.strato.de -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Reliability</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00188.html">Date Prev</a>][<a href="msg00190.html">Date Next</a>][<a href="msg00198.html">Thread Prev</a>][<a href="msg00197.html">Thread Next</a>][<a href="maillist.html#00189">Date Index</a>][<a href="threads.html#00189">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Reliability</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: &quot;<a href="mailto:srfi-50@DOMAIN.HIDDEN">srfi-50@xxxxxxxxxxxxxxxxx</a>&quot; &lt;<a href="mailto:srfi-50@DOMAIN.HIDDEN">srfi-50@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Reliability</li>
<li><em>From</em>: Felix Winkelmann &lt;<a href="mailto:felix@DOMAIN.HIDDEN">felix@xxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Tue, 06 Jan 2004 09:02:10 +0100</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-50@DOMAIN.HIDDEN">srfi-50@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Organization</em>: Proxima</li>
<li><em>User-agent</em>: Opera7.21/Win32 M2 build 3218</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Tom Lord wrote:

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Another issue of principle is type checking.   The draft FFI gives
rise to many type-correct C expressions which are incorrect code:

    SCHEME_CONS (SCHEME_CONS (a, b), SCHEME_CONS (c, d))&gt;
whereas the type structure imposed by Pika conventions precludes such
errors.  It is partly a subjective call whether such errors are worth
trying to get the compiler to help prevent -- but it is also partly an
empirical call and a theoretical call from human factors
considerations.  Having had to fix buggy code like the above, written
by people who knew better, my subjective impression of the objective
(but unmeasured) empirical facts are that it is indeed worth getting
the compiler to help prevent such mistakes.  (The Pika conventions
permit the mistake of writing x = y where SCHEME_LSET (&amp;x, &amp;y) is
wanted -- but there too I think we can get a vanilla C compiler to
check for such errors should it become an issue.)
</pre></blockquote><pre style="margin: 0em;">

I think this point is particularly important. The current draft
proposal should try very hard to avoid bugs like this one, because
I see a very mean thing coming up here: many popular (perhaps even
the most popular?) Scheme implementations use conservative GC, under
which the above will work, so people will start writing libraries for
this and that, everything works fine, and the code will break on less
popular but more sophisticated implementations. You don't want that.
Addressing this issue would be purely syntactical, using reference
parameters.


cheers,
felix

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00188.html">Re: I don't believe in &quot;(may GC)&quot;</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00190.html">Re: I don't believe in &quot;(may GC)&quot;</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00198.html">Re: Restrictions</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00197.html">A note on process</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00189"><strong>Date</strong></a></li>
<li><a href="threads.html#00189"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
