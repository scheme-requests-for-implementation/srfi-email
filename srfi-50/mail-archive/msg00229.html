<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Strings/chars -->
<!--X-From-R13: Euveb Ynjnv <fuvebNynin.arg> -->
<!--X-Date: Thu,  8 Jan 2004 10:45:27 +0100 (NFT) -->
<!--X-Message-Id: 20040107.234521.400892107.shiro@lava.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20031223.113343.730550371.shiro@lava.net -->
<!--X-Reference: Pine.LNX.4.58.0312231557330.30716@bolt.sonic.net -->
<!--X-Reference: vt28ykij1yh.fsf@zenia.home -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Strings/chars</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00228.html">Date Prev</a>][<a href="msg00230.html">Date Next</a>][<a href="msg00225.html">Thread Prev</a>][<a href="msg00235.html">Thread Next</a>][<a href="maillist.html#00229">Date Index</a>][<a href="threads.html#00229">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Strings/chars</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-50@DOMAIN.HIDDEN">srfi-50@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: Strings/chars</li>
<li><em>From</em>: Shiro Kawai &lt;<a href="mailto:shiro@DOMAIN.HIDDEN">shiro@xxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Wed, 07 Jan 2004 23:45:21 -1000 (HST)</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-50@DOMAIN.HIDDEN">srfi-50@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:vt28ykij1yh.fsf@DOMAIN.HIDDEN">vt28ykij1yh.fsf@xxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:20031223.113343.730550371.shiro@DOMAIN.HIDDEN">20031223.113343.730550371.shiro@xxxxxxxx</a>&gt;	&lt;<a href="mailto:Pine.LNX.4.58.0312231557330.30716@DOMAIN.HIDDEN">Pine.LNX.4.58.0312231557330.30716@xxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:vt28ykij1yh.fsf@DOMAIN.HIDDEN">vt28ykij1yh.fsf@xxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>From: Jim Blandy &lt;jimb@xxxxxxxxxx&gt;
Subject: Re: Strings/chars
Date: 08 Jan 2004 03:09:58 -0500

&gt; I think it's important to work well with C as it is, and not try to
&gt; correct C's problems in the SRFI API.

I agree.

&gt; The simplest and easiest ways to access Scheme strings' contents and
&gt; Scheme characters should return the corresponding strings and
&gt; characters in the C program's execution character set.  That is:
&gt; 
&gt; - Extracting the first character of the Scheme string &quot;z&quot; had better
&gt;   yield the C character 'z'.
&gt; 
&gt; - I shouldn't have to mention any character set by name, or do any
&gt;   kind of character set conversions at all, to write C code that
&gt;   checks whether a given string's contents are &quot;foo&quot;.

I understand your suggestion means &quot;the FFI deals with the
underlying C implementation's execution character set;
if the Scheme string contains characters outside the C's
execution character set, the behavior is undefined.&quot;

It is a possible solution.  At least it's not worse than
programming in C anyway.  It does limit the &quot;portability&quot; of
the FFI (severely, IMHO), but like other issues, it's a tradeoff.

&gt; Only after those two cases are covered should one move on to providing
&gt; ways to reliably get UTF-8, UCS-4, or whatever you like.

There are lots of external libraries that require explicit
character encoding schemes (it's not my or your like, but they
require it).   If this FFI leaves the encoding issue as
Scheme-implementation dependent, this FFI can't be used portably
to bridge to those libraries.  (Again, it's a matter of how
we set the scope of the FFI).

--shiro

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00235" href="msg00235.html">Re: Strings/chars</a></strong>
<ul><li><em>From:</em> Jim Blandy</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00036" href="msg00036.html">Re: Strings/chars</a></strong>
<ul><li><em>From:</em> Shiro Kawai</li></ul></li>
<li><strong><a name="00046" href="msg00046.html">Re: Strings/chars</a></strong>
<ul><li><em>From:</em> bear</li></ul></li>
<li><strong><a name="00225" href="msg00225.html">Re: Strings/chars</a></strong>
<ul><li><em>From:</em> Jim Blandy</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00228.html">Re: when GC is permitted</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00230.html">Re: Couple things...</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00225.html">Re: Strings/chars</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00235.html">Re: Strings/chars</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00229"><strong>Date</strong></a></li>
<li><a href="threads.html#00229"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
