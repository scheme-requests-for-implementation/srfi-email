<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Couple things... -->
<!--X-From-R13: sryvk <sryvkNpnyy&#45;jvgu&#45;pheerag&#45;pbagvahngvba.bet> -->
<!--X-Date: Sat, 27 Dec 2003 21:20:34 +0100 (NFT) -->
<!--X-Message-Id: opr0uv9aduw2xcd0@mx.freenet.de -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: opr0lf0hi7w2xcd0@mx.freenet.de -->
<!--X-Reference: vt265g7bcxe.fsf@zenia.home -->
<!--X-Reference: opr0oo4rx4w2xcd0@mx.freenet.de -->
<!--X-Reference: vt2ekuu9o9r.fsf@zenia.home -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Couple things...</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00102.html">Date Prev</a>][<a href="msg00104.html">Date Next</a>][<a href="msg00054.html">Thread Prev</a>][<a href="msg00006.html">Thread Next</a>][<a href="maillist.html#00103">Date Index</a>][<a href="threads.html#00103">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Couple things...</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-50">SRFI 50</a> from before July 7th, 2015.  The new archives for SRFI 50 are <a href="http://srfi-email.schemers.org/srfi-50/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Jim Blandy &lt;<a href="mailto:jimb@DOMAIN.HIDDEN">jimb@xxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: Couple things...</li>
<li><em>From</em>: felix &lt;<a href="mailto:felix@DOMAIN.HIDDEN">felix@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Sat, 27 Dec 2003 21:23:24 +0100</li>
<li><em>Cc</em>: <a href="mailto:srfi-50@DOMAIN.HIDDEN">srfi-50@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-50@DOMAIN.HIDDEN">srfi-50@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:vt2ekuu9o9r.fsf@DOMAIN.HIDDEN">vt2ekuu9o9r.fsf@xxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:opr0lf0hi7w2xcd0@DOMAIN.HIDDEN">opr0lf0hi7w2xcd0@xxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:vt265g7bcxe.fsf@DOMAIN.HIDDEN">vt265g7bcxe.fsf@xxxxxxxxxx</a>&gt; &lt;<a href="mailto:opr0oo4rx4w2xcd0@DOMAIN.HIDDEN">opr0oo4rx4w2xcd0@xxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:vt2ekuu9o9r.fsf@DOMAIN.HIDDEN">vt2ekuu9o9r.fsf@xxxxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Opera7.11/Linux M2 build 406</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
On 24 Dec 2003 11:25:04 -0500, Jim Blandy &lt;jimb@xxxxxxxxxx&gt; wrote:

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">

So, to invoke a C function that might perform callbacks, you must
collect and pop your nursery, to allow you to place that call's frame
at the (now exposed) younger end of the C frame area.  In contrast, to
call a C function that you know will not perform callbacks, none of
that is necessary; you just make the call on top of whatever nursery
you've got.
</pre></blockquote><pre style="margin: 0em;">

Right.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">

It seems to me that the called function also must not allocate any
heap objects.  Or do you simply allocate them directly in the next
older generation, bypassing the nursery altogether?

</pre></blockquote><pre style="margin: 0em;">

Yes, that's a possibility. The space needed for result values is currently
pre-allocated and passed to the code that wraps the called function.
Callbacks into Scheme can of course allocate as much as they like, since
on return from the callback, live data is moved into the next generation
again.


cheers,
felix

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00004" href="msg00004.html">Couple things...</a></strong>
<ul><li><em>From:</em> felix</li></ul></li>
<li><strong><a name="00035" href="msg00035.html">Re: Couple things...</a></strong>
<ul><li><em>From:</em> Jim Blandy</li></ul></li>
<li><strong><a name="00052" href="msg00052.html">Re: Couple things...</a></strong>
<ul><li><em>From:</em> felix</li></ul></li>
<li><strong><a name="00054" href="msg00054.html">Re: Couple things...</a></strong>
<ul><li><em>From:</em> Jim Blandy</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00102.html">Re: Couple things...</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00104.html">Re: Couple things...</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00054.html">Re: Couple things...</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00006.html">GC safety and return values</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00103"><strong>Date</strong></a></li>
<li><a href="threads.html#00103"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
