<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: I don't believe in "(may GC)" -->
<!--X-From-R13: Fbz Zbeq <ybeqNrzs.arg> -->
<!--X-Date: Tue,  6 Jan 2004 17:14:32 +0100 (NFT) -->
<!--X-Message-Id: 200401061640.IAA29197@morrowfield.regexps.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1AdTVM&#45;0000D3&#45;00@mail.mumble.net -->
<!--X-Reference: 87isjpc0ua.fsf@becket.becket.net -->
<!--X-Reference: y9lvfnpcypo.fsf@informatik.uni&#45;tuebingen.de -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: I don't believe in &quot;(may GC)&quot;</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00204.html">Date Prev</a>][<a href="msg00206.html">Date Next</a>][<a href="msg00209.html">Thread Prev</a>][<a href="msg00218.html">Thread Next</a>][<a href="maillist.html#00205">Date Index</a>][<a href="threads.html#00205">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: I don't believe in &quot;(may GC)&quot;</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-50">SRFI 50</a> from before July 7th, 2015.  The new archives for SRFI 50 are <a href="http://srfi-email.schemers.org/srfi-50/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:sperber@DOMAIN.HIDDEN">sperber@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: I don't believe in &quot;(may GC)&quot;</li>
<li><em>From</em>: Tom Lord &lt;<a href="mailto:lord@DOMAIN.HIDDEN">lord@xxxxxxx</a>&gt;</li>
<li><em>Date</em>: Tue, 6 Jan 2004 08:40:23 -0800 (PST)</li>
<li><em>Cc</em>: <a href="mailto:tb@DOMAIN.HIDDEN">tb@xxxxxxxxxx</a>, <a href="mailto:kelsey@DOMAIN.HIDDEN">kelsey@xxxxxxx</a>, <a href="mailto:srfi-50@DOMAIN.HIDDEN">srfi-50@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-50@DOMAIN.HIDDEN">srfi-50@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:y9lvfnpcypo.fsf@DOMAIN.HIDDEN">y9lvfnpcypo.fsf@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt; (message from	Michael Sperber on Tue, 06 Jan 2004 08:39:47 +0100)</li>
<li><em>References</em>: &lt;<a href="mailto:E1AdTVM-0000D3-00@DOMAIN.HIDDEN">E1AdTVM-0000D3-00@xxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:87isjpc0ua.fsf@DOMAIN.HIDDEN">87isjpc0ua.fsf@xxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:y9lvfnpcypo.fsf@DOMAIN.HIDDEN">y9lvfnpcypo.fsf@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>

    [the inherited thread attributions seem confused so I've
     just dropped them.]

    &gt;&gt;&gt; If I'm using some exotic number representation (constructive
    &gt;&gt;&gt; reals, perhaps), then EXTRACT_DOUBLE may very well involve
    &gt;&gt;&gt; some pretty hairy, hence possibly GC-causing, computation.

    &gt;&gt; This doesn't worry me too much; there aren't a lot of such
    &gt;&gt; implementations around.

    &gt; Let me rephrase: In what kind of environment would &quot;hairy&quot;
    &gt; *necessarily* imply &quot;GC-causing&quot;?

    &gt; (There used to be a version of Scheme 48 where the equivalent of
    &gt; SCHEME_EXTRACT_LONG could cause a GC because it could do a callback.
    &gt; This was an implementation convenience, not a necessity, and it's gone
    &gt; now.)


The question is why might EXTRACT_DOUBLE _necessarily_ GC?

As one example, I've been thinking of (eventually) making the NUMBER?
type in Pika extensible in Scheme in order to create an environment
for playing around with continued fraction representations, the
representation that Boehm has written about, and, just to be weird,
Conway's construction of numbers.

Oh, and another example: aren't there some systems in which bignums
are implemented in Scheme (presumably using code that conses)?   So if
I have, for example, an exact rational whose numerator and denominator
are both bignums.....

In general, EXTRACT_DOUBLE may wind up GCing if it has to do some
reduction to turn a number into a floating point representation.

Another example, one that applies to _all_ EXTRACT_* functions, is
that of an external store.  You may have a reference to a value before
you have the actual value and need to do a database or network
transaction (or whatever) at the time that you actually demand the
objects value.


-t

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00154" href="msg00154.html">Re: I don't believe in &quot;(may GC)&quot;</a></strong>
<ul><li><em>From:</em> Richard Kelsey</li></ul></li>
<li><strong><a name="00173" href="msg00173.html">Re: I don't believe in &quot;(may GC)&quot;</a></strong>
<ul><li><em>From:</em> Thomas Bushnell, BSG</li></ul></li>
<li><strong><a name="00185" href="msg00185.html">Re: I don't believe in &quot;(may GC)&quot;</a></strong>
<ul><li><em>From:</em> Michael Sperber</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00204.html">Re: Pika-style from first principles</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00206.html">scheme_lookup_imported_binding</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00209.html">Re: I don't believe in &quot;(may GC)&quot;</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00218.html">Re: I don't believe in &quot;(may GC)&quot;</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00205"><strong>Date</strong></a></li>
<li><a href="threads.html#00205"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
