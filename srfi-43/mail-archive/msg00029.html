<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Too much of a good thing? -->
<!--X-From-R13: Fnlybe Qnzcoryy <pnzcoryyNriqri.ngu.pk> -->
<!--X-Date: Thu, 17 Apr 2003 03:57:47 +0200 (DFT) -->
<!--X-Message-Id: EF884450&#45;7077&#45;11D7&#45;A819&#45;00039309311E@evdev.ath.cx -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 00f701c30310$d9495e10$6601a8c0@meurglysvii -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Too much of a good thing?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00028.html">Date Prev</a>][<a href="msg00030.html">Date Next</a>][<a href="msg00024.html">Thread Prev</a>][<a href="msg00017.html">Thread Next</a>][<a href="maillist.html#00029">Date Index</a>][<a href="threads.html#00029">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Too much of a good thing?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Sergei Egorov &lt;<a href="mailto:esl@DOMAIN.HIDDEN">esl@xxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: Too much of a good thing?</li>
<li><em>From</em>: Taylor Campbell &lt;<a href="mailto:campbell@DOMAIN.HIDDEN">campbell@xxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Wed, 16 Apr 2003 21:57:25 -0400</li>
<li><em>Cc</em>: <a href="mailto:srfi-43@DOMAIN.HIDDEN">srfi-43@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-43@DOMAIN.HIDDEN">srfi-43@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:00f701c30310%24d9495e10%246601a8c0@DOMAIN.HIDDEN">00f701c30310$d9495e10$6601a8c0@meurglysvii</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">

On Tuesday, April 15, 2003, at 01:35 AM, Sergei Egorov wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
I'd rather cut it to one third, but then Olin will come out of
his lair and add the rest and then some :)
</pre></blockquote><pre style="margin: 0em;">

Heheh.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
The question is not whether LIST-&gt;VECTOR and VECTOR-&gt;LIST are
</pre><tt>actually used in the implementation, but whether vector-specific 
</tt><tt>algorithms
</tt><tt>you propose are better than just list operations followed by a 
</tt><tt>conversion
</tt><tt>or the same operations on lists with no conversion at all. Did you 
</tt><tt>turn any
</tt><pre style="margin: 0em;">
SRFI-1 algorithms into something more effective (from linear- to
constant-time,
from quadratic to linear etc.)?
</pre></blockquote><pre style="margin: 0em;">

</pre><tt>Oh, I see what you mean.  (I missed the 'the performance is the same 
</tt><tt>as' bit)
</tt><pre style="margin: 0em;">

In that case, I'm not really sure...it's been a while since I wrote the
implementation, and my memory isn't that great.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
For example, both vector search and list search are linear by number of
elements.
</pre><tt>This means that there is no big insentive to use vectors if what you 
</tt><tt>want is
</tt><pre style="margin: 0em;">
linear search. On the other hand, you can sort vectors and use binary
search: this is where vectors are much more effective. Thus, I would
expect vector SRFI to include BINARY-SEARCH and SORT! operations
</pre><tt>(real benefits), but can easily do without linear search (writing one 
</tt><tt>more
</tt><pre style="margin: 0em;">
DO loop is no big deal).
</pre></blockquote><pre style="margin: 0em;">

</pre><tt>I deliberately avoided writing anything involving sorting vectors, 
</tt><tt>since SRFI 32
</tt><tt>will provide that.  However, I may later include a VECTOR-BINARY-SEARCH 
</tt><tt>-- it
</tt><pre style="margin: 0em;">
merely didn't occur to me to do so previously.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Can you give me any pointers to drafts or notes on his project?
</pre></blockquote><pre style="margin: 0em;">

<a  rel="nofollow" href="http://www.sgmiller.org/srfi-44.html">http://www.sgmiller.org/srfi-44.html</a>

I'm in the process of writing the reference implementation.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Turns N-ary procedure into M-ary (M &lt; K) by &quot;fixing&quot; or &quot;binding&quot;
values of some arguments.
</pre></blockquote><pre style="margin: 0em;">

Hmm.  Could you show me a definition of it, or an example of using it?

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><tt>I wrote a draft myself long ago, but had no time to finish it. May be 
</tt><tt>this
</tt><pre style="margin: 0em;">
discussion will move it up on my priority list...
</pre></blockquote><pre style="margin: 0em;">

I'd love to see it.  Where can I find a copy?

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
I guess it is fine too.
By the way, you forgot to mention VECTOR-COPY!'s behavior in case of
</pre><tt>intra-vector copy (target and vec are the same). Does it copy to the 
</tt><tt>left,
</tt><pre style="margin: 0em;">
to the right, or does it chose the &quot;correct&quot; direction automatically?
</pre></blockquote><pre style="margin: 0em;">

If they are the same in terms of EQ?, or EQUAL? ?  I assume the former.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
True, but this somehow ligitimizes restrictive implementations.
I just consider them broken :)
</pre></blockquote><pre style="margin: 0em;">

Unfortunately, some of the major ones, like CHICKEN, have this sort of
restriction.  But if you insist upon having VECTOR-APPEND instead of
VECTOR-CONCATENATE[*] (please, someone: think up a better name than
VECTOR-CONCATENATE*), then I'll agree.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Which everybody can easily define by composition (especially when
given a suitable high-order primitive).
</pre></blockquote><pre style="margin: 0em;">

OK, then, show me your functional-ish SRFI thing!

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
 More, if you take this road,
nothing prevents you from making VECTOR-APPEND-REVERSE,
VECTOR-CONCATENATE-REVERSE,
VECTOR-REVERSE-CONCATENATE and dozens of others.
</pre></blockquote><pre style="margin: 0em;">

</pre><tt>No, that's the C++ road, where you continue to add whatever you can 
</tt><tt>possibly
</tt><pre style="margin: 0em;">
think of, even if it could never be useful in any situation whatso&#xEB;ver.

</pre><tt>Of course, at first, I shamefully admit that this was the road taken, 
</tt><tt>but I did
</tt><pre style="margin: 0em;">
certainly intend to make great cuts to the thing.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Personally, I dislike REDUCEs because while giving you certain
performance benefits in some imaginary cases (the dreadful database
queries!),
they allow you to &quot;cheat&quot; (or make an honest mistake) by giving an
inconsistent
KONS/ RIDENTITY pair. Try to copy a list with REDUCE and you will
</pre><tt>see that it's not only a performance hack - it is a *broken* 
</tt><tt>performance
</tt><pre style="margin: 0em;">
hack!
</pre></blockquote><pre style="margin: 0em;">

Very well -- no VECTOR-REDUCE[-RIGHT].

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
On the second thought, NO, unfolds are not very useful (no benefits
for vectors).
</pre></blockquote><pre style="margin: 0em;">

Indeed.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Just compositions with VECTOR-COPY...
</pre></blockquote><pre style="margin: 0em;">

OK.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Yes, with start and end; When there is only one vector argument,
they are easy to remember.
</pre></blockquote><pre style="margin: 0em;">

Good, good.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
That's your only option if you don't want to reallocate the vector
for performance reasons, but can afford the loss of some &quot;old&quot;
elements. Some &quot;history&quot; stacks, circular buffers of fixed size etc.
work this way.
</pre></blockquote><pre style="margin: 0em;">

OK, I was just wondering if you had found them useful ever.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Start and End arguments are trouble... I'd prefer to have abstract
operations
that can work with &quot;windows&quot; over sequences as first-class objects.
I don't care much about operations taking any number of vectors, except
for the cases where people may expect them (MAP, FOR-EACH).
</pre></blockquote><pre style="margin: 0em;">

What about other cases like VECTOR-FOLD[-RIGHT], VECTOR=, et cetera?

</pre><tt>(and that's another thing: should there be vector comparisons in this 
</tt><tt>reduced
</tt><tt>SRFI? -- and, if so, I don't like the name VECTOR= -- I'd personally 
</tt><tt>prefer
</tt><tt>VECTOR-EQUAL? or VECTOR=? or something.  Has anyone else an opinion on 
</tt><tt>this?)
</tt>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00028.html">Re: Storage Efficiency of Vectors</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00030.html">Re: Storage Efficiency of Vectors</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00024.html">Re: Too much of a good thing?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00017.html">vector-unzip</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00029"><strong>Date</strong></a></li>
<li><a href="threads.html#00029"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
