<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Storage Efficiency of Vectors -->
<!--X-From-R13: orne <orneNfbavp.arg> -->
<!--X-Date: Thu, 17 Apr 2003 00:58:44 +0200 (DFT) -->
<!--X-Message-Id: Pine.LNX.4.40.0304161534080.18970&#45;100000@bolt.sonic.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 3E9DA3D0.7080502@bothner.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Storage Efficiency of Vectors</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00026.html">Date Prev</a>][<a href="msg00028.html">Date Next</a>][<a href="msg00026.html">Thread Prev</a>][<a href="msg00028.html">Thread Next</a>][<a href="maillist.html#00027">Date Index</a>][<a href="threads.html#00027">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Storage Efficiency of Vectors</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-43">SRFI 43</a> from before July 7th, 2015.  The <a href="http://srfi-email.schemers.org/srfi-43">new archives</a> for SRFI 43 contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Per Bothner &lt;<a href="mailto:per@DOMAIN.HIDDEN">per@xxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: Storage Efficiency of Vectors</li>
<li><em>From</em>: bear &lt;<a href="mailto:bear@DOMAIN.HIDDEN">bear@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Wed, 16 Apr 2003 15:58:42 -0700 (PDT)</li>
<li><em>Cc</em>: Alan Watson &lt;<a href="mailto:a.watson@DOMAIN.HIDDEN">a.watson@xxxxxxxxxxxxxxxx</a>&gt;,	&lt;<a href="mailto:srfi-43@DOMAIN.HIDDEN">srfi-43@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-43@DOMAIN.HIDDEN">srfi-43@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:3E9DA3D0.7080502@DOMAIN.HIDDEN">3E9DA3D0.7080502@xxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>

On Wed, 16 Apr 2003, Per Bothner wrote:


&gt;The tradeoff here depends a lot on your memory allocation and gc
&gt;overheads.  If you have a memory allocator that is tuned for handling
&gt;allocating and reclaiming cons cells really fast, then I suspect the
&gt;best strategy is to use a temporary list.  On the other hand if
&gt;object allocation or collection are relatively slow or don't
&gt;special-case cons cells, then re-allocating will probably be faster.

I think there's a far more important tradeoff that is being ignored
here.  My problem with association lists is not storage efficiency,
it's access time.

If you are considering a vector solution, you have at least the
opportunity to make hash tables, which actually solves the main
problem of alists, instead of just reimplementing an inefficient
algorithm using vectors instead of lists.

I have not understood yet why you're not doing this.  Linear access
time is a very serious limitation on how big a system it is practical
to make with the association mechanism; storage space is less so.  I
don't want to waste fifty thousand CPU cycles accessing an association
in a natural language application, for example, just because the word
whose parse-procedure I'm looking up happens to have been the ten
thousandth word discovered.  If I wanted to waste that much CPU, I'd
be using alists to store my procedures.

I can stand doubling the memory size of the overhead for the sake of
cutting CPU time for an access from linear to constant.  That is a
worthwhile tradeoff.  I can't believe I'm hearing you argue about a
savings of 30 percent in storage space when the big bleeding problem
of alist access time isn't addressed.

Since association vectors, association lists, and association
hashtables will use overhead space on the same order (from 20-200% of
each other's size), why are we even talking about doing something that
doesn't offer the substantial advantage in access time that's
available?  What was the motivation, if we're not after that
advantage, in using vectors in the first place?

				Bear




</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00028" href="msg00028.html">Re: Storage Efficiency of Vectors</a></strong>
<ul><li><em>From:</em> Per Bothner</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00026" href="msg00026.html">Re: Storage Efficiency of Vectors</a></strong>
<ul><li><em>From:</em> Per Bothner</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00026.html">Re: Storage Efficiency of Vectors</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00028.html">Re: Storage Efficiency of Vectors</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00026.html">Re: Storage Efficiency of Vectors</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00028.html">Re: Storage Efficiency of Vectors</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00027"><strong>Date</strong></a></li>
<li><a href="threads.html#00027"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
