<!-- MHonArc v2.6.15 -->
<!--X-Subject: AW: AW: Too much of a good thing? -->
<!--X-From-R13: "[vpunry Phefpuvx" <PhefpuvxNybggb&#45;oreyva.qr> -->
<!--X-Date: Mon, 14 Apr 2003 10:32:48 +0200 (DFT) -->
<!--X-Message-Id: 000401c30260$48950eb0$920115ac@EDV46 -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 3E96DCB5.7060700@bothner.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>AW: AW: Too much of a good thing?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00022.html">Date Prev</a>][<a href="msg00024.html">Date Next</a>][<a href="msg00022.html">Thread Prev</a>][<a href="msg00040.html">Thread Next</a>][<a href="maillist.html#00023">Date Index</a>][<a href="threads.html#00023">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>AW: AW: Too much of a good thing?</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-43">SRFI 43</a> from before July 7th, 2015.  The new archives for SRFI 43 are <a href="http://srfi-email.schemers.org/srfi-43/">here</a>.  The new archives contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: &quot;'Per Bothner'&quot; &lt;<a href="mailto:per@DOMAIN.HIDDEN">per@xxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: AW: AW: Too much of a good thing?</li>
<li><em>From</em>: &quot;Michael Burschik&quot; &lt;<a href="mailto:Burschik@DOMAIN.HIDDEN">Burschik@xxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Mon, 14 Apr 2003 10:31:44 +0200</li>
<li><em>Cc</em>: &lt;<a href="mailto:srfi-43@DOMAIN.HIDDEN">srfi-43@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-43@DOMAIN.HIDDEN">srfi-43@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Importance</em>: Normal</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:3E96DCB5.7060700@DOMAIN.HIDDEN">3E96DCB5.7060700@xxxxxxxxxxx</a>&gt;</li>
<li><em>Reply-to</em>: &lt;<a href="mailto:Burschik@DOMAIN.HIDDEN">Burschik@xxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Per Bothner wrote:
&gt; Michael Burschik wrote:
&gt; &gt; Correct me if I'm wrong, but R5RS does not provide
&gt; resizable vectors, and
&gt; &gt; functions generating vector element by element have no way
&gt; of knowing the
&gt; &gt; length of the resulting vector beforehand.
&gt;
&gt; First, the SRFI process is about extending R5RS, so I don't see
&gt; that as a restriction.

I am well aware of the fact that SRFIs are about extending R5RS, but I
wanted to point out that you cannot assume you have got resizable vectors at
your disposal *because* neither R5RS nor SRFI-43 mandate them.

&gt; You have to use some data structure or programming convention that
&gt; stores the &quot;active length&quot; - i.e. Common Lisp's &quot;fill pointer&quot;.  If
&gt; you're stuck with vanilla Scheme, then this would be a
&gt; separate variable
&gt; or a convention to use the the first variable of the vector.  (The
&gt; former is awkward and the latter is worse, whihc is why an extension
&gt; is needed.)

But this extension is not defined by SRFI-43, nor any other SRFI, as far as
I am aware.

&gt; But assuming you have a separate fill pointer, then yes: It really is
&gt; more efficient to allocate and re-allocate multiple vectors - as long
&gt; as you each time double the allocated size.  E.g. start with a small
&gt; vector of say 8 slots, then when that gets full use one with 16 lots,
&gt; then one with 32 slots etc.  This uses less memory than cons cells
&gt; (especially if you an object or malloc header), provides linear
&gt; performance, and much better data locality.

Thanks for the explanation. Now, things begin to make sense. But again, the
SRFI does not define resizable vectors, and the reference implementation
does not use them either. Without resizable vectors, however, many of the
functions defined by the SRFI are just list manipulation functions followed
by list-&gt;vector.

Maybe a resizable vector library would be a worthwhile project. Or do many
scheme implementations offer resizable vectors?


Regards

Michael Burschik

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00022" href="msg00022.html">Re: AW: Too much of a good thing?</a></strong>
<ul><li><em>From:</em> Per Bothner</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00022.html">Re: AW: Too much of a good thing?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00024.html">Re: Too much of a good thing?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00022.html">Re: AW: Too much of a good thing?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00040.html">Re: Too much of a good thing?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00023"><strong>Date</strong></a></li>
<li><a href="threads.html#00023"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
