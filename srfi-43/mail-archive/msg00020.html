<!-- MHonArc v2.6.15 -->
<!--X-Subject: AW: Too much of a good thing? -->
<!--X-From-R13: "[vpunry Phefpuvx" <PhefpuvxNybggb&#45;oreyva.qr> -->
<!--X-Date: Fri, 11 Apr 2003 09:35:11 +0200 (DFT) -->
<!--X-Message-Id: 000001c2fffc$be2e44e0$920115ac@EDV46 -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 3E9658BD.3060904@bothner.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>AW: Too much of a good thing?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00019.html">Date Prev</a>][<a href="msg00021.html">Date Next</a>][<a href="msg00019.html">Thread Prev</a>][<a href="msg00022.html">Thread Next</a>][<a href="maillist.html#00020">Date Index</a>][<a href="threads.html#00020">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>AW: Too much of a good thing?</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-43">SRFI 43</a> from before July 7th, 2015.  The new archives for SRFI 43 are <a href="http://srfi-email.schemers.org/srfi-43/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: &quot;'Per Bothner'&quot; &lt;<a href="mailto:per@DOMAIN.HIDDEN">per@xxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: AW: Too much of a good thing?</li>
<li><em>From</em>: &quot;Michael Burschik&quot; &lt;<a href="mailto:Burschik@DOMAIN.HIDDEN">Burschik@xxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Fri, 11 Apr 2003 09:34:09 +0200</li>
<li><em>Cc</em>: &lt;<a href="mailto:srfi-43@DOMAIN.HIDDEN">srfi-43@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-43@DOMAIN.HIDDEN">srfi-43@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Importance</em>: Normal</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:3E9658BD.3060904@DOMAIN.HIDDEN">3E9658BD.3060904@xxxxxxxxxxx</a>&gt;</li>
<li><em>Reply-to</em>: &lt;<a href="mailto:Burschik@DOMAIN.HIDDEN">Burschik@xxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>&gt; Sergei Egorov wrote:
&gt; &gt; &lt;Flame&gt;
&gt; &gt; I think that most of the operations that generate vectors
&gt; element-by-element
&gt; &gt; are useless, especially when the performance is the same as
&gt; in making a list
&gt; &gt; first and then turning it into a vector.
&gt;
&gt; - which of course is never.

Correct me if I'm wrong, but R5RS does not provide resizable vectors, and
functions generating vector element by element have no way of knowing the
length of the resulting vector beforehand. If you want to write portable
code, this means you can either create n vectors of length 1 .. n and
discard all but the last, or create a list and then convert it to a vector
before returning it, which is, in fact, what the reference implementation
does. Are you sure that the first alternative is more efficient?

&gt; &gt; The reason for the existence of vectors
&gt; &gt; is constant-time access by index and smaller memory
&gt; footprint; everything
&gt; &gt; else is better done with lists.
&gt;
&gt; I'd say: (almost) everything is better done with vectors, if you
&gt; care about performance at all.

Only if you know how large your data structures are going to be. If you
constantly have to resize your vectors, or create new vectors of an
appropriate size, your performance might not be so stellar.

&gt; &gt; I suggest to drop everything that is not related to the main purpose
&gt; &gt; of vector's existance: constant-time indexed access.
&gt;
&gt; Linear-time operations, such as iterating over all the elements of a
&gt; sequence, are also typically much faster using vectors, thanks
&gt; to better cache utilization.

But iterating over all elements of a sequence is an example of exploiting
constant-time access to the elements of the sequence. Otherwise, one would
recurse over the sequence.


Regards

Michael Burschik

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00022" href="msg00022.html">Re: AW: Too much of a good thing?</a></strong>
<ul><li><em>From:</em> Per Bothner</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00019" href="msg00019.html">Re: Too much of a good thing?</a></strong>
<ul><li><em>From:</em> Per Bothner</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00019.html">Re: Too much of a good thing?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00021.html">Re: AW: AW: AW: Several comments</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00019.html">Re: Too much of a good thing?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00022.html">Re: AW: Too much of a good thing?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00020"><strong>Date</strong></a></li>
<li><a href="threads.html#00020"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
