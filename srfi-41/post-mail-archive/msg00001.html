<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: [ikarus&#45;users] Re: questions on the streams library -->
<!--X-From-R13: "Buvy Prjvt" <corjvtNtznvy.pbz> -->
<!--X-Date: Mon,  7 Apr 2008 20:55:21 +0200 (MST) -->
<!--X-Message-Id: da4fbdb30804070604i30cf7f11t7cfc46af3b04f198@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: dd75cc64&#45;7ce9&#45;49a3&#45;bd5c&#45;2a19e540702b@f63g2000hsf.googlegroups.com -->
<!--X-Reference: da4fbdb30804040749x522110dct4775c12e4b88b7f0@mail.gmail.com -->
<!--X-Reference: eb736fab&#45;e131&#45;44d8&#45;ba89&#45;0e5e4291b763@59g2000hsb.googlegroups.com -->
<!--X-Reference: da4fbdb30804061136l71f8ee3ck34679a514db3e505@mail.gmail.com -->
<!--X-Reference: a8bc827c&#45;bdcc&#45;4356&#45;9935&#45;71e383f1d52f@m73g2000hsh.googlegroups.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ikarus-users] Re: questions on the streams library</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00000.html">Date Prev</a>][<a href="msg00002.html">Date Next</a>][<a href="msg00000.html">Thread Prev</a>][<a href="msg00002.html">Thread Next</a>][<a href="maillist.html#00001">Date Index</a>][<a href="threads.html#00001">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ikarus-users] Re: questions on the streams library</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:ikarus-users@DOMAIN.HIDDEN">ikarus-users@xxxxxxxxxxxxxxxx</a>, <a href="mailto:srfi-41@DOMAIN.HIDDEN">srfi-41@xxxxxxxxxxxxxxxxx</a>, 	<a href="mailto:michele.simionato@DOMAIN.HIDDEN">michele.simionato@xxxxxxxxx</a></li>
<li><em>Subject</em>: Re: [ikarus-users] Re: questions on the streams library</li>
<li><em>From</em>: &quot;Phil Bewig&quot; &lt;<a href="mailto:pbewig@DOMAIN.HIDDEN">pbewig@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Mon, 7 Apr 2008 08:04:12 -0500</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-41@DOMAIN.HIDDEN">srfi-41@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma;        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;        bh=7g6NR5IcZVChABIkqrZ3A/zlZC60LU8d+HbpPlab5JM=;        b=q3UKlSCj2f+cxeIEY6g+zQ6wWUtAZjn0eM5zk6dwlpxuQhNTxrS93i7q7mLl7IRFD4Bb898JHZQYVloUm7vwu5Franrnr0QMWYVhip7MiqyP+zO+lvDjB4FvIZi8slIc+uommFjx7h4MrDLHCQT23UBPGN7HlQ9xbzX3mCrDr4Q=</li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma;        h=message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;        b=a3uqkkcSywY3ZtZYZQow5Q/NbkHv6jRh1EYIdZI0NfhTWKQBxyabWG3ZAAkz1mWzDqoQ82I/pFdjSJIs9KqDP6J1INm9rj2FaD8zToaLZiurkMjFUBY6yoh5jFJf6n8Seg6BegEBHq552s3z6ERTVdRBeyq9CdWcCg9jKVb6jy8=</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:a8bc827c-bdcc-4356-9935-71e383f1d52f@DOMAIN.HIDDEN">a8bc827c-bdcc-4356-9935-71e383f1d52f@xxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:dd75cc64-7ce9-49a3-bd5c-2a19e540702b@DOMAIN.HIDDEN">dd75cc64-7ce9-49a3-bd5c-2a19e540702b@xxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;	 &lt;<a href="mailto:da4fbdb30804040749x522110dct4775c12e4b88b7f0@DOMAIN.HIDDEN">da4fbdb30804040749x522110dct4775c12e4b88b7f0@xxxxxxxxxxxxxx</a>&gt;	 &lt;<a href="mailto:eb736fab-e131-44d8-ba89-0e5e4291b763@DOMAIN.HIDDEN">eb736fab-e131-44d8-ba89-0e5e4291b763@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;	 &lt;<a href="mailto:da4fbdb30804061136l71f8ee3ck34679a514db3e505@DOMAIN.HIDDEN">da4fbdb30804061136l71f8ee3ck34679a514db3e505@xxxxxxxxxxxxxx</a>&gt;	 &lt;<a href="mailto:a8bc827c-bdcc-4356-9935-71e383f1d52f@DOMAIN.HIDDEN">a8bc827c-bdcc-4356-9935-71e383f1d52f@xxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
It is true that stream-length and stream-equal are both meaningful only on finite streams.&nbsp; But they are different: stream-equal? requires that all the elements of the stream be materialized, while stream-length doesn&#39;t (it doesn&#39;t force the promise of the stream-car).&nbsp; I&#39;m not entirely sure that difference is sufficient to justify including stream-length but not stream-equal?, but it was good enough for me at the time I wrote the SRFI.&nbsp; As I said earlier, the hardest part of writing the SRFI was deciding what to put in and what to leave out, and my default position was to leave it out unless I was sure it belonged.<br>
<br>Again, I have copied this note to the SRFI-41 discussion list.<br><br><div class="gmail_quote">On Sun, Apr 6, 2008 at 11:51 PM, Michele Simionato &lt;<a rel="nofollow" href="mailto:michele.simionato@xxxxxxxxx">michele.simionato@xxxxxxxxx</a>&gt; wrote:<br>
<blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;"><div class="Ih2E3d"><br>
On Apr 6, 8:36 pm, &quot;Phil Bewig&quot; &lt;<a rel="nofollow" href="mailto:pbe...@xxxxxxxxx">pbe...@xxxxxxxxx</a>&gt; wrote:<br>
&gt; I like comprehensions, too. &nbsp;Here are my versions of list-of and fold-of:<br>
</div>&gt; &lt;snip&gt;<br>
<br>
There is some cut &amp; paste error here, but don&#39;t worry ;)<br>
<div class="Ih2E3d"><br>
&gt; Thank you for &quot;really really&quot; liking it. &nbsp;Have you used streams &quot;in anger&quot;<br>
&gt; in a real program?<br>
<br>
</div>No, actually what I really like is the documentation, since I<br>
finally understood what streams were ;) Until a few months ago,<br>
I was missing the memoization requirement and I had the false<br>
impression they were just another name for iterators. Instead,<br>
they are quite different since they can use a potentially infinite<br>
amount of memory (and the memory requirements are not known up front).<br>
I quite liked the &quot;pitfalls&quot; section too.<br>
<div class="Ih2E3d"><br>
&gt; There is nothing wrong with port-&gt;stream. &nbsp;If you open a port, then pass it<br>
&gt; to port-&gt;stream, all will be fine; in fact, that&#39;s exactly what file-&gt;stream<br>
&gt; does. &nbsp;The problem is with with-input-from-file, which is eager.<br>
<br>
</div>Ah, I see, the documentation spells it out loud, but still I somewhat<br>
managed to miss the point.<br>
<div class="Ih2E3d"><br>
&gt; I did not include file-&gt;stream in the SRFI directly<br>
&gt; out of a sense of minimalism; likewise, there is no file-&gt;stream-lines.<br>
&gt; There is no error-handling in port-&gt;stream or file-&gt;stream because there is<br>
&gt; no error-handling in R5RS, and there was no R6RS implementation available at<br>
&gt; the time I wrote the SRFI.<br>
<br>
</div>Ok. BTW, reading the R6RS document I do not understand what happens<br>
with call-with-input-file or with-input-from-file when an exception<br>
happens: is the port automatically closed, is it closed only<br>
in some case (which cases?), is the behavior unspecified?<br>
This has nothing to do with streams, so everybody here is<br>
free to answer ;)<br>
<div class="Ih2E3d"><br>
&gt; Stream-equal? is only defined on finite streams; it has no meaning on<br>
&gt; infinite streams. &nbsp;And as the SRFI suggests, if you are materializing all<br>
&gt; the elements of a finite stream, you may as well be using a list.<br>
<br>
</div>Well, stream-length is only meaningful for finite streams,<br>
still it is in the library. Also, converting two streams in lists<br>
is fine if they are expected to be equal most of the times,<br>
but if they are espected to be different it is inefficient.<br>
Anyway, I do understand the point of not putting everything<br>
in a library, so let&#39;s say it is fine as it is.<br>
<font color="#888888"><br>
 &nbsp; &nbsp;Michele Simionato<br>
</font></blockquote></div><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00000" href="msg00000.html">Re: [ikarus-users] questions on the streams library</a></strong>
<ul><li><em>From:</em> Phil Bewig</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00000.html">Re: [ikarus-users] questions on the streams library</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00002.html">Re: [plt-scheme] SRFI 41</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00000.html">Re: [ikarus-users] questions on the streams library</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00002.html">Re: [plt-scheme] SRFI 41</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00001"><strong>Date</strong></a></li>
<li><a href="threads.html#00001"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
