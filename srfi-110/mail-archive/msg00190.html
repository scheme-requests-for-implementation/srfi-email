<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: More comments, and the ANTLR code is too complex -->
<!--X-From-R13: "Rnivq O. Iurryre" <qjurryreNqjurryre.pbz> -->
<!--X-Date: Fri, 14 Jun 2013 01:13:26 +0200 (MST) -->
<!--X-Message-Id: E1UnGho&#45;0005mz&#45;3r@rmm6prod02.runbox.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 8738slg8uo.fsf@tines.lan -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: More comments, and the ANTLR code is too complex</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00189.html">Date Prev</a>][<a href="msg00191.html">Date Next</a>][<a href="msg00189.html">Thread Prev</a>][<a href="msg00192.html">Thread Next</a>][<a href="maillist.html#00190">Date Index</a>][<a href="threads.html#00190">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: More comments, and the ANTLR code is too complex</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-110">SRFI 110</a> from before July 7th, 2015.  The <a href="http://srfi-email.schemers.org/srfi-110">new archives</a> for SRFI 110 contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: &quot;mhw&quot; &lt;<a href="mailto:mhw@DOMAIN.HIDDEN">mhw@xxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: More comments, and the ANTLR code is too complex</li>
<li><em>From</em>: &quot;David A. Wheeler&quot; &lt;<a href="mailto:dwheeler@DOMAIN.HIDDEN">dwheeler@xxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Thu, 13 Jun 2013 19:13:24 -0400 (EDT)</li>
<li><em>Cc</em>: &quot;srfi-110&quot; &lt;<a href="mailto:srfi-110@DOMAIN.HIDDEN">srfi-110@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-110@DOMAIN.HIDDEN">srfi-110@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:8738slg8uo.fsf@DOMAIN.HIDDEN">8738slg8uo.fsf@xxxxxxxxx</a>&gt;</li>
<li><em>Reply-to</em>: <a href="mailto:dwheeler@DOMAIN.HIDDEN">dwheeler@xxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>I said:
&gt; &gt; Hmm, I've always heard complaints about grammars that are NOT LL(1).
&gt; &gt; The obvious way to make sure it's LL(1)... is to specify it as LL(1).

Mark H Weaver &lt;mhw@xxxxxxxxxx&gt; replied:
&gt; I agree that the language should be _expressible_ as an LL(1) grammar.
&gt; However, often a grammar must be obfuscated in order to make it LL(1).

I wouldn't use the word &quot;obfuscated&quot;, but I understand your point.


&gt; Other examples of transformations needed to make a grammar LL(1) can be
&gt; found here:
&gt;   <a  rel="nofollow" href="https://en.wikipedia.org/wiki/LL_parser#Solutions_to_LL.281.29_Conflicts">https://en.wikipedia.org/wiki/LL_parser#Solutions_to_LL.281.29_Conflicts</a>

Oh, I know those well :-).

One reason to use an LL(1) spec directly is to prove it's LL(1), as noted above.
Another reason is that typical Scheme reader implementations will
be recursive descent parsers, which are basically LL(1) also.
I found it *easy* to implement the spec in Scheme, specifically because it was LL(1).

I don't know if a non-LL(1) grammar would be easier to read, but
such a grammar *would* require a typical implementer to hand-perform those
transformations.  I fear that would inhibit, not encourage, implementations.
But maybe that's not so.


&gt; In the specification, I suggest that you optimize ease of understanding
&gt; over efficiency.  I hope we can all agree which of the above grammars is
&gt; easier to understand.  IMO, the LL(1) grammar belongs somewhere else,
&gt; perhaps in the implementation section.

Hmm. It's not clear to me how much &quot;easier to read&quot; a non-LL(1)
grammar would be in this case.

&gt; On the other hand,
&gt; you are probably missing some useful non-terminals that could eliminate
&gt; much of redundancy in your grammar.

Possibly.  It's hard to know without trying.

&gt; For example, the R7RS draft grammar has a useful non-terminal called
&gt; &lt;atmosphere&gt; that includes whitespace, comments, and directives.  In
&gt; your grammar, whitespace and comments are stripped in several redundant places.

Ah, but redundancies can be eliminated in any BNF notation, including LL(1).

Perhaps that's real issue; we can easily search for redundancies &amp; create new
rules that combine them together.


&gt;  I don't
&gt; tend to think of the lexer as being distinct from the parser in a
&gt; typical Scheme reader.

Fair enough!  And I just went back to look at the ANTLR code; the
&quot;preprocessor&quot; *is* interleaved with the lexer, and it's actually distributed
in a way more complex than is described in the spec.

I don't think the BNF spec has to be *efficient*, but I do think it's important
that it *run*.  Otherwise, it's likely to have an error or 12.



--- David A. Wheeler

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00192" href="msg00192.html">Re: More comments, and the ANTLR code is too complex</a></strong>
<ul><li><em>From:</em> Mark H Weaver</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00189" href="msg00189.html">Re: More comments, and the ANTLR code is too complex</a></strong>
<ul><li><em>From:</em> Mark H Weaver</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00189.html">Re: More comments, and the ANTLR code is too complex</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00191.html">Re: More comments, and the ANTLR code is too complex</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00189.html">Re: More comments, and the ANTLR code is too complex</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00192.html">Re: More comments, and the ANTLR code is too complex</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00190"><strong>Date</strong></a></li>
<li><a href="threads.html#00190"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
