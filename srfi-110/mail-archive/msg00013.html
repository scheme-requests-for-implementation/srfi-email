<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: how useful are collecting lists? -->
<!--X-From-R13: Oyna [nahry Uybevn <nyzxtybeNtznvy.pbz> -->
<!--X-Date: Wed, 13 Mar 2013 06:54:57 +0000 (UTC) -->
<!--X-Message-Id: CAF+kUQXGcbBydOv&#45;0xriFb2om96c2jmw8qdmv50XKD0GseLhhw@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 513EAE55.80204@gmail.com -->
<!--X-Reference: E1UFYz2&#45;0001Am&#45;U6@taishi.runbox.com -->
<!--X-Reference: 513FD6A2.50307@gmail.com -->
<!--X-Reference: E1UFbme&#45;0002nk&#45;2g@taishi.runbox.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: how useful are collecting lists?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00012.html">Date Prev</a>][<a href="msg00014.html">Date Next</a>][<a href="msg00012.html">Thread Prev</a>][<a href="msg00014.html">Thread Next</a>][<a href="maillist.html#00013">Date Index</a>][<a href="threads.html#00013">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: how useful are collecting lists?</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-110">SRFI 110</a> from before July 7th, 2015.  The new archives for SRFI 110 are <a href="http://srfi-email.schemers.org/srfi-110/">here</a>.  The new archives contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:dwheeler@DOMAIN.HIDDEN">dwheeler@xxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: how useful are collecting lists?</li>
<li><em>From</em>: Alan Manuel Gloria &lt;<a href="mailto:almkglor@DOMAIN.HIDDEN">almkglor@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Wed, 13 Mar 2013 14:54:56 +0800</li>
<li><em>Cc</em>: srfi-110 &lt;<a href="mailto:srfi-110@DOMAIN.HIDDEN">srfi-110@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-110@DOMAIN.HIDDEN">srfi-110@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=20120113;        h=mime-version:x-received:in-reply-to:references:date:message-id         :subject:from:to:cc:content-type;        bh=SOg8FZw6iQaStz6JP4J89iRSacukIMKLLLQcNSvdP3k=;        b=uTepKJcs8IOVlCfIZJqjbAW4nKa8kv8+QPlfW/tcHXLSbRo+fzgTC3nbzFe8zEnHXw         +VqvC7CSCqAGuY/W6r+v/V4xrvlHYNi5dgxrs3jwvYoEiQDAKdyiHy3O1L7oyC0QKMFa         b7B0QW/ZJvGOaB5CWwHPLz58ngHOoDrat+lvNUK0X++sCxQPcXGzDUuzMx5DBFLMeLyN         WEcOtqCk4wmC80PWk8X3F2L5vGPPnw8S+UBRHSXtoKMeNquVs6S3FzmIYGwcNc3vxYAY         /tXb3evHCB1s6NmyP9z9bVTBkc1cZ8V6QH6MjPmVe70W7X0LdogNrlJmZ5LzVz8d1B6X         9N/w==</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:E1UFbme-0002nk-2g@DOMAIN.HIDDEN">E1UFbme-0002nk-2g@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:513EAE55.80204@DOMAIN.HIDDEN">513EAE55.80204@xxxxxxxxx</a>&gt;	&lt;<a href="mailto:E1UFYz2-0001Am-U6@DOMAIN.HIDDEN">E1UFYz2-0001Am-U6@xxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:513FD6A2.50307@DOMAIN.HIDDEN">513FD6A2.50307@xxxxxxxxx</a>&gt;	&lt;<a href="mailto:E1UFbme-0002nk-2g@DOMAIN.HIDDEN">E1UFbme-0002nk-2g@xxxxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On 3/13/13, David A. Wheeler &lt;dwheeler@xxxxxxxxxxxx&gt; wrote:
&gt; David Vanderson:
&gt;&gt; &gt; The rationale for collecting lists is here:
&gt;&gt; &gt; <a  rel="nofollow" href="http://srfi.schemers.org/srfi-110/srfi-110.html#collecting-lists">http://srfi.schemers.org/srfi-110/srfi-110.html#collecting-lists</a>
&gt;&gt; &gt;
&gt;&gt; &gt; The rationale notes two use cases:
&gt;&gt; &gt; 1. A long sequence of definitions contained within an initial statement.
&gt;&gt; &gt; This situation occurs in many library definition structures such as
&gt;&gt; &gt; Scheme R7RS define-library and in some larger data structures.
&gt;&gt; &gt; 2. A let-style statement with one or two variables with short initial
&gt;&gt; &gt; values.
&gt;&gt; &gt;
&gt;&gt;
&gt;&gt; I think #1 is a decent rationale, and with some experimenting I'm
&gt;&gt; starting to see how collecting lists are useful there.  To make sure I
&gt;&gt; understand, it seems like the primary motivation here is the
&gt;&gt; &quot;unintentional blank line&quot; problem:
&gt;&gt;
&gt;&gt; define foo(x)
&gt;&gt;    define bar(y)
&gt;&gt;      y
&gt;&gt;
&gt;&gt;    define baz(z)
&gt;&gt;      z
&gt;&gt;
&gt;&gt; This works in a Python script, but not at the REPL.  To avoid that
&gt;&gt; behavior, when using sweet expressions you either have to remove blank
&gt;&gt; lines:
&gt;&gt;
&gt;&gt; define foo(x)
&gt;&gt;    define bar(y)
&gt;&gt;      y
&gt;&gt;    define baz(z)
&gt;&gt;      z
&gt;&gt;
&gt;&gt; Or you must manually insert \\:
&gt;&gt;
&gt;&gt; define foo(x)
&gt;&gt;    define bar(y)
&gt;&gt;      y
&gt;&gt;    \\
&gt;&gt;    define baz(z)
&gt;&gt;      z
&gt;&gt;
&gt;&gt; Are those the only options without collecting lists?  If so, I can
&gt;&gt; understand the motivation.
&gt;
&gt; Yes, that's right.  Without collecting lists,
&gt; those are the only options... and that's the motivation.

There's another, the comment-only blank line, which is the &quot;quietest&quot;
blank line replacement:

define foo(x)
! define bar(y)
! ! y
;
! define baz(z)
! ! z
;
! whatever
! ...



&gt;&gt; In my examples, define has an implicit begin.  In this situation, I'm
&gt;&gt; unsure how to use &lt;*, because it introduces an extra parenthesis.  Have
&gt;&gt; you run into this problem?
&gt;
&gt; I've intentionally defined &lt;* to ALWAYS create another open paren.
&gt; I think that's easier to understand, and it also makes it really helpful
&gt; in short lists.
&gt;
&gt; I haven't worried about the define-in-define case above, because the
&gt; long-and-annoying constructs that we've seen so far (as use cases)
&gt; always had some sort of list that &lt;*...*&gt; easily mapped to.
&gt; Of course, maybe that's a limitation of the use cases we've discussed!
&gt;
&gt; Hmm. If that's a *problem*, one solution without significantly changing
&gt; the existing semantics might be to allow &lt;*...*&gt; after &quot;.&quot;.  I suspect
&gt; such cases would basically just continue a list.  Here's what I have in
&gt; mind:
&gt; define foo(x) . &lt;*
&gt; define bar(y)
&gt; ! y
&gt; define baz(z)
&gt; ! z
&gt; ! *&gt;
&gt; ; ==&gt; (define (foo x) (define bar(y) y) (define baz(z) z))
&gt;
&gt; So... does anyone have thoughts about this?  Is this an important case?
&gt; If it is, then is this a solution?  Are people running to the exits?
&gt; Other thoughts?

Ara ara, I thought this was *already* allowed.  Basically, what you're doing is:

(define (foo x) . (
(define (bar y)
  y)
(define (baz z)
  z)
)
)

... which should work without any modifications to the spec.

--

Personally, even in my s-expressions era I started to dislike
deeply-nested definitions.  I had a program once (which was really a
metaprogram that analyzed another program (a user script actually) in
order to track particular usage patterns so that it could emulate its
execution in a more restricted environment, woof woof) that had
functions within functions within functions (I think I had five levels
max) - the number of indents was amazingly deep.

Now I prefer to have reasonably shallow function definitions (at most
a single define-in-define) and just depend on the module system to
hide the bits I'm not interested in exposing to the rest of the
program (a habit I picked up from Haskell, LOL).  I couldn't do that
in my described 5-level-deep-defines program because it was written in
a Scheme-like language without modules, so to reduce namespace
pollution I had to use such deep defines.

That and a lack of experience, actually (^^) I now know that such deep
defines are a *pain* to debug.

Sincerely,
AmkG

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00014" href="msg00014.html">Re: how useful are collecting lists?</a></strong>
<ul><li><em>From:</em> David A. Wheeler</li></ul></li>
<li><strong><a name="00015" href="msg00015.html">Re: how useful are collecting lists?</a></strong>
<ul><li><em>From:</em> David A. Wheeler</li></ul></li>
<li><strong><a name="00018" href="msg00018.html">Re: how useful are collecting lists?</a></strong>
<ul><li><em>From:</em> David Vanderson</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00008" href="msg00008.html">how useful are collecting lists?</a></strong>
<ul><li><em>From:</em> David Vanderson</li></ul></li>
<li><strong><a name="00010" href="msg00010.html">Re: how useful are collecting lists?</a></strong>
<ul><li><em>From:</em> David A. Wheeler</li></ul></li>
<li><strong><a name="00011" href="msg00011.html">Re: how useful are collecting lists?</a></strong>
<ul><li><em>From:</em> David Vanderson</li></ul></li>
<li><strong><a name="00012" href="msg00012.html">Re: how useful are collecting lists?</a></strong>
<ul><li><em>From:</em> David A. Wheeler</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00012.html">Re: how useful are collecting lists?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00014.html">Re: how useful are collecting lists?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00012.html">Re: how useful are collecting lists?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00014.html">Re: how useful are collecting lists?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00013"><strong>Date</strong></a></li>
<li><a href="threads.html#00013"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
