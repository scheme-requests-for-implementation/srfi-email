<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: The ". $" notation -->
<!--X-From-R13: Oyna [nahry Uybevn <nyzxtybeNtznvy.pbz> -->
<!--X-Date: Mon, 18 Mar 2013 02:44:16 +0000 (UTC) -->
<!--X-Message-Id: CAF+kUQX3ghwPo3Jk95Na0zY3kuxtbLQ&#45;RyzZvthYo7Q&#45;soTXyQ@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CAF+kUQX5mK=VStZyu6zfGQj9SE+J4D=dHPF6+d&#45;T&#45;5a+tZ7XvA@mail.gmail.com -->
<!--X-Reference: 20130317.154441.695066990312419885.shiro@lava.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: The &quot;. $&quot; notation</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00039.html">Date Prev</a>][<a href="msg00041.html">Date Next</a>][<a href="msg00039.html">Thread Prev</a>][<a href="msg00043.html">Thread Next</a>][<a href="maillist.html#00040">Date Index</a>][<a href="threads.html#00040">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: The &quot;. $&quot; notation</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-110">SRFI 110</a> from before July 7th, 2015.  The new archives for SRFI 110 are <a href="http://srfi-email.schemers.org/srfi-110/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Shiro Kawai &lt;<a href="mailto:shiro@DOMAIN.HIDDEN">shiro@xxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: The &quot;. $&quot; notation</li>
<li><em>From</em>: Alan Manuel Gloria &lt;<a href="mailto:almkglor@DOMAIN.HIDDEN">almkglor@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Mon, 18 Mar 2013 10:44:15 +0800</li>
<li><em>Cc</em>: <a href="mailto:dwheeler@DOMAIN.HIDDEN">dwheeler@xxxxxxxxxxxx</a>, <a href="mailto:srfi-110@DOMAIN.HIDDEN">srfi-110@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-110@DOMAIN.HIDDEN">srfi-110@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=20120113;        h=mime-version:x-received:in-reply-to:references:date:message-id         :subject:from:to:cc:content-type;        bh=eNkJ8v5lvDA5xT3xR0dh7r15x0lWX9uQRHOCRgDDW+o=;        b=j3tyRrJeIpZjiGZ4NcZJE/bzBU6kd2YW0nva3+MZLhKfxrGj7d4yicWtwzDdxNZTuj         WJsegZqHicOhddkRnfzwa1v2G22Mk0RYUYl7eS45W/+8CUyRDPT/iLABrybka9Qiu52+         BkoukGWDOSDCd5Ck+6c+RCAR9uE1IhAjcMooW6gkPQXggY7AiT/mcFgv2ACkPqQ//WKl         pOAcc/lk6UZebL/JIaFen9ufOEVDkOexnbKjncSOfNjdRnYMugqTbjg+R8TRkNXaGYZ7         Yu+Zh1RZIow97ODn+vWWN3GZJv3Ii+vKe6StAWIJj/I+YiEdF9xCRUUlvlv2IbMKQ6hl         MhhQ==</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:20130317.154441.695066990312419885.shiro@DOMAIN.HIDDEN">20130317.154441.695066990312419885.shiro@xxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:CAF%2BkUQX5mK%3DVStZyu6zfGQj9SE%2BJ4D%3DdHPF6%2Bd-T-5a%2BtZ7XvA@DOMAIN.HIDDEN">CAF+kUQX5mK=VStZyu6zfGQj9SE+J4D=dHPF6+d-T-5a+tZ7XvA@xxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:20130317.154441.695066990312419885.shiro@DOMAIN.HIDDEN">20130317.154441.695066990312419885.shiro@xxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On 3/18/13, Shiro Kawai &lt;shiro@xxxxxxxx&gt; wrote:
&gt; From: Alan Manuel Gloria &lt;almkglor@xxxxxxxxx&gt;
&gt; Subject: The &quot;. $&quot; notation (was: Re: how useful are collecting lists?)
&gt; Date: Mon, 18 Mar 2013 09:26:04 +0800
&gt;
&gt;&gt; 1.  Allow &quot;foo . EOL INDENT x ...&quot; ==&gt; &quot;(foo . (x ...))&quot;
&gt;&gt; 2.  Allow &quot;foo . $ x ...&quot; ==&gt; &quot;(foo x ...)&quot;
&gt;
&gt; Is the latter &quot;foo . $ x y ...&quot; ==&gt; &quot;(foo x y ...)&quot;?
&gt; Because &quot;$&quot; is a valid R5RS identifier, we need to
&gt; parse &quot;foo . $ EOL&quot; as a cons of 'foo and '$, correct?
&gt;
&gt; I'm a bit concerned that it might be confusing that:
&gt;
&gt;    foo . ($ a b c)
&gt;
&gt; is
&gt;
&gt;    foo .
&gt;      $ a b c

Uhm, no.

&quot;$&quot; has a different meaning in an indentation context vs. a
non-indentation context.

Inside () [] {}, it is *not* in indentation context and thus &quot;$&quot; is
the symbol (string-&gt;symbol &quot;$&quot;)

Outside of *explicit* () [] {}, $ means SUBLIST, which has a specific
semantic meaning.  See:

<a  rel="nofollow" href="http://srfi.schemers.org/srfi-110/srfi-110.html#sublist">http://srfi.schemers.org/srfi-110/srfi-110.html#sublist</a>

So:

  foo . ($ a b c) ==&gt; (foo . ($ a b c)) ==&gt; (foo $ a b c)

and:

  foo .
    $ a b c
   ==&gt;
   foo .
     ((a b c))
   ==&gt;
   (foo .
     ((a b c)))
   ==&gt;
   (foo
     (a b c))

If what you mean is:

  foo . ($ a b c)

is:

  foo .
    ($ a b c)

Then indentation rules (specifically the &quot;single datum on a line is
that datum&quot; rule) make them identical.

  foo .
    ($ a b c)
  ==&gt;
  (foo .
    ($ a b c))
  ==&gt;
  (foo $ a b c)

If you want to have &quot;$&quot; consistently in either an indentation or in
non-indentation contexts, then use {$} instead:

foo . {$} ==&gt; (foo . $)
(foo . {$}) ==&gt; (foo . $)

&gt;
&gt; but
&gt;
&gt;    foo . $ $ a b c
&gt;
&gt; (The two '$' has different meanings!)

*shrug* yes.

Basically in an indentation context the first SUBLIST re-enters
it_expr production.  it_expr can start with SUBLIST, which re-enters
it_expr and wraps its result in a single-item list, and the outer
SUBLIST then appends it as a single item to the outer list.

Assuming that &quot;.&quot; is at first a symbol which a subsequent pass then
converts to the conventional meaning, then:

  foo . $ $ a b c

On reaching the first SUBLIST, the parser has collected (foo |.|) as
the initial &quot;head&quot; production's value.  The parser consumes that
SUBLIST (leaving &quot;$ a b c&quot;) in the input stream, and re-enters
it_expr.

it_expr can start with SUBLIST (consuming the remaining $ and leaving
&quot;a b c&quot; in the input stream), and re-enters it_expr again.  it_expr
then yields the value (a b c).  Its next outermost call (the one
triggered by the second SUBLIST) wraps a layer of list, yielding ((a b
c)).

The next outermost call (the one triggered by the first SUBLIST)
appends the yielded value as a single item (i.e. an &quot;append1&quot; or
&quot;snoc&quot;), so yielding (foo |.| ((a b c)))

Assuming that (foo |.| ((a b c))) is then processed to (foo . ((a b
c))), then we get (foo (a b c)).

And incidentally, thus:

  foo $ a b c ==&gt; (foo (a b c))

while, as shown above:

  foo . $ $ a b c ==&gt; (foo (a b c))

So both SUBLIST's have the same meaning, while basically a &quot;.&quot; cancels
out a subsequent &quot;$&quot;.

Sincerely,
AmkG

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00043" href="msg00043.html">Re: The &quot;. $&quot; notation</a></strong>
<ul><li><em>From:</em> Shiro Kawai</li></ul></li>
<li><strong><a name="00044" href="msg00044.html">Re: The &quot;. $&quot; notation</a></strong>
<ul><li><em>From:</em> David A. Wheeler</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00038" href="msg00038.html">The &quot;. $&quot; notation (was: Re: how useful are collecting lists?)</a></strong>
<ul><li><em>From:</em> Alan Manuel Gloria</li></ul></li>
<li><strong><a name="00039" href="msg00039.html">Re: The &quot;. $&quot; notation</a></strong>
<ul><li><em>From:</em> Shiro Kawai</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00039.html">Re: The &quot;. $&quot; notation</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00041.html">Re: The &quot;. $&quot; notation (was: Re: how useful are collecting lists?)</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00039.html">Re: The &quot;. $&quot; notation</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00043.html">Re: The &quot;. $&quot; notation</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00040"><strong>Date</strong></a></li>
<li><a href="threads.html#00040"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
