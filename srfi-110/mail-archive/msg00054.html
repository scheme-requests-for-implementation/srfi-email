<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: First impressions of the specification -->
<!--X-From-R13: Oyna [nahry Uybevn <nyzxtybeNtznvy.pbz> -->
<!--X-Date: Fri, 22 Mar 2013 10:23:20 +0100 (MET) -->
<!--X-Message-Id: CAF+kUQVNjUJAa4BcXk_YCJWJJzc9ve7BB696pdAvJk1kPuG3jw@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 87r4j87yy6.fsf@tines.lan -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: First impressions of the specification</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00053.html">Date Prev</a>][<a href="msg00055.html">Date Next</a>][<a href="msg00053.html">Thread Prev</a>][<a href="msg00055.html">Thread Next</a>][<a href="maillist.html#00054">Date Index</a>][<a href="threads.html#00054">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: First impressions of the specification</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Mark H Weaver &lt;<a href="mailto:mhw@DOMAIN.HIDDEN">mhw@xxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: First impressions of the specification</li>
<li><em>From</em>: Alan Manuel Gloria &lt;<a href="mailto:almkglor@DOMAIN.HIDDEN">almkglor@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Fri, 22 Mar 2013 17:23:19 +0800</li>
<li><em>Cc</em>: <a href="mailto:srfi-110@DOMAIN.HIDDEN">srfi-110@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-110@DOMAIN.HIDDEN">srfi-110@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=20120113;        h=mime-version:x-received:in-reply-to:references:date:message-id         :subject:from:to:cc:content-type;        bh=QnPz5hTJeM7FzR9mC/PjyNMjq7exHmAkaFsDNac1qtw=;        b=QaNfV09l+kMm9UUVIXv91SbPxdCaKntlmcDmFDl0CqMCHMUw7DS6nGT6PCjJjXa3+T         JgfWqC9PG7hX/pT5KstHOUVydRjfdiw3b7So8I6w1AfATUbqb8veQzoClBvn0xlVCtlI         ejdnJX5oclG+DKjkAs6R4cvWbrq+Pae07x09MTBaC4YquFZ+Fzl43BT55epOcmTZdWyU         CmMcHW63QeSViQUpk2zuNMQVVqQdWStkdGHQn+ftFkU7tJZNAZRMnGA7dHAuZmqoMYU0         EN3FmlE844ueeQmpDitDplhnzLPB02YZfZ0XjlUGQxZ5oP+6Ukd97oUkXNRzMhmLHd6w         WPBQ==</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:87r4j87yy6.fsf@DOMAIN.HIDDEN">87r4j87yy6.fsf@xxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:87r4j87yy6.fsf@DOMAIN.HIDDEN">87r4j87yy6.fsf@xxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Thank you very much for your review!  I and/or David A. Wheeler will
look through your list and try to clarify these.


On 3/22/13, Mark H Weaver &lt;mhw@xxxxxxxxxx&gt; wrote:
&gt; Hello all,
&gt;
&gt; First of all, I should admit that I have only begun reading about sweet
&gt; expressions in the last hour or so.  I don't yet understand the rules.
&gt;
&gt; I began to try to learn about them by jumping directly to the
&gt; &quot;Specification&quot; section of SRFI-110.  I'm sorry to say that I find that
&gt; section extraordinarily unclear.  Below, I've made notes about the parts
&gt; that I found confusing.
&gt;
&gt; No doubt, I could find answers to all of these questions by reading the
&gt; rest of the document more carefully, and/or by reading the website of
&gt; the Readable Lisp S-expressions Project.  However, I don't think I
&gt; should have to.  The specification should stand on its own to a
&gt; reasonable extent, IMO anyway.
&gt;
&gt; [In the list below, &quot;first list&quot;, &quot;second list&quot;, and &quot;third list&quot; refer
&gt; to the three numbered lists of rules in the &quot;Basic specification&quot;
&gt; section.]
&gt;
&gt; * &quot;term&quot; is used before it is defined.

Okay, I propose to define a &quot;term&quot; as &quot;a Neoteric-expression
(n-expression or n-expr), as defined by SRFI-105&quot;.

&gt;
&gt; * The concepts of &quot;parent&quot; and &quot;child&quot; are not defined.

Okay, I propose to clarify:

* a &quot;parent&quot; is a line, which may have an empty indentation.
* a &quot;child&quot; is a line following a parent line that is more indented
than that line.

&gt;
&gt; * The use of the term &quot;parameter&quot; is confusing.  This is a datum reader
&gt;   after all, which deals with &quot;lists&quot;, not &quot;parameters&quot;.  I'd prefer for
&gt;   it to describe more clearly what data structure is created.

Okay, I propose to change &quot;parameter&quot; to &quot;term&quot; or &quot;sub-term&quot; in general.

&gt;
&gt; * Item 1 (first list): What is an &quot;indented line&quot;?  Does that mean any
&gt;   line with non-empty indentation, or does it mean &quot;indented more than
&gt;   some other line&quot;?  If the latter, which other line?

Okay, maybe a parenthetical &quot;(a line that is more indented than its
parent line)&quot;

Actually, you know, maybe the first list can be clarified.

&gt;
&gt; * Item 3 (first list): Does &quot;multiple terms&quot; mean &quot;multiple terms on
&gt;   the same line&quot;?  If so, isn't this redundant with item 2 (but IMO
&gt;   more clearly stated)?

Possibly, yes.

&gt;
&gt; * Item 4 (first list): What is an &quot;empty line&quot;?  Is whitespace allowed?
&gt;   What about exclamation points?  What about comments?

Okay, we may need to put a link to &quot;empty line&quot; somewhere.

I propose to use &quot;blank line&quot; as the preferred term rather than &quot;empty line&quot;.

I propose to add &quot;A blank line is a line composed only of horizontal
whitespace (space or tab), exclamation points, and ;-comments&quot;.

&gt;
&gt; * Item 6 (first list): What does &quot;prefixed&quot; mean?

May need to link to SRFI-105, which defines &quot;prefixed&quot;.

&gt;
&gt; * Are '!', '$', '\\', '$$$', '&lt;*' and '*&gt;' recognized as special tokens
&gt;   only if they are surrounded by whitespace?  (All of these characters
&gt;   except for backslash are considered extended alphabetic characters in
&gt;   standard scheme.)

The &quot;markers&quot; are: $ \\ &lt;* *&gt; and $$$.

The indentation whitespace &quot;!&quot; is not: it's allowed to have !!!!! as
part of indentation whitespace.

&gt;
&gt; * Later in the design rationale, it is mentioned in passing that '!'
&gt;   is only recognized as indentation at the beginning of a line.  Does
&gt;   that mean before any whitespace?  If so, that fact should be
&gt;   mentioned in the specification (which currently suggests that '!'
&gt;   could mixed freely with spaces or tabs).

I propose to replace this &quot;beginning of a line&quot; with &quot;inside an
indentation&quot;.  &quot;!&quot; *can* be mixed freely with spaces or tabs - but
only in indentation.  Between terms, it is not whitespace.

&gt;
&gt; * Item 1 (second list): What are lines with &quot;initial indent&quot;?

Erk, a local term in readable-discuss that escaped into this, sorry.
&quot;initial indent&quot; is a problem when you're in a top-level context and
read an indented line; basically, if the reader is in a top-level
context (start of file or after a blank line), and encounters a line
with non-empty indentation.

&gt;  What
&gt;   happens if a line is not consistently indented?

&quot;It is an error if the line is not consistently indented&quot;

&gt;  What is meant by
&gt;   &quot;preceding line&quot;?  Does that mean &quot;preceding non-empty line&quot;?  (if
&gt;   so, what does &quot;empty line&quot; mean?)

No, just &quot;the line before it, ignoring completely ;-comment-only
lines&quot;, directly.

&gt;
&gt; * Item 3 (second list): What does &quot;completely ignored&quot; mean?  How does
&gt;   this relate to the &quot;preceding line&quot; of item 1 (second list)?

It means that, conceptually, you can consider a line composed of
(optional) indentation followed by ; followed by whatever followed by
an end-of-line to be completely non-existent - so in item 1 above, a
&quot;preceding line&quot; means a line that is not a ;-comment-only line.

&gt;
&gt; * Is '!' considered whitespace?

Only in indentation.  It is not considered whitespace elsewhere.

&gt;
&gt; * Item 5 (second list): What does it mean for an expression to &quot;start
&gt;   indented&quot;?

Basically the &quot;initial indents&quot; line problem.  Also need to clarify
&quot;until the first end-of-line outside an n-expr&quot;.

&gt;
&gt; * Item 6 (second list): Do datum comments ignore intervening '!'
&gt;   characters as well?

No.  &quot;!&quot; is whitespace only in indentation.

&gt;
&gt; * In the rules that say neoteric expression are read (not sweet
&gt;   expressions), how are '!', '$', '\\' and '$$$' handled?

As datums.

&gt;
&gt; * Item 7 (second list): What does it mean exactly that block comments
&gt;   are &quot;removed&quot;?

They are deleted from the input stream, any spaces and newlines inside
them are ignored.

&gt;
&gt; * Item 1 (third list): Regarding GROUP, what does it mean &quot;it
&gt;   represents no symbol at all, located at that indentation&quot;?

It's a marker that indicates nothingness, it is not a datum, it's
nothing at all.  However, the indentation at that point *is*
significant.

&gt;
&gt; * Item 2 (third list): What does &quot;restart list processing&quot; mean?  What
&gt;   is &quot;the right-hand-side&quot;?  What are &quot;its sub-blocks&quot;?  What happens
&gt;   if there's more than one '$' on a line?

Basically: on encountering a SUBLIST, it eats horizontal whitespace
and acts as if it is on a new line at its current indentation.  It
then gets the sweet-expression (acting as if the sweet-expression
starts at the indentation of the current line) and makes it the last
item of the current line.  In case of multiple SUBLIST, the subsequent
SUBLIST just does that again.

&gt;
&gt; * Item 3 (third list): Does &quot;indentation&quot; mean &quot;non-empty
&gt;   indentation&quot;?  (and does that definition apply generally?)

No, and no.  It's possible to have at the top-level, unindented:

` foo bar
==&gt;
(quasiquote (foo bar))


&gt;  In the
&gt;   &quot;entire sweet-expression that follows&quot; what is considered the
&gt;   indentation of the first line of that expression?

The indentation of this line.

&gt;
&gt; * Item 4 (third list): What are &quot;un-indented sweet expressions&quot;?

I propose &quot;top-level&quot; instead of &quot;un-indented&quot;.

&gt;
&gt; * Why is there a distinction made between &quot;advanced sweet-expression
&gt;   features&quot; and the rest of the spec?

Because these features are not indentation-processing per se.

&gt;
&gt; * In the paragraph immediately following the third list:
&gt;
&gt;    * &quot;MUST only be accepted ... is active&quot;
&gt;       =&gt; &quot;MUST NOT be accepted ... is not active&quot;

Seems okay to me.

&gt;
&gt;    * When are sweet expressions accepted but &quot;indentation processing&quot;
&gt;      is not active?  (in collecting lists?)

Inside parentheses.  indentation processing is restarted inside
collecting lists.

&gt;
&gt;    * What does it mean that a &quot;character sequence&quot; begins with
&gt;      &quot;exactly the marker's first character&quot;?  In &quot;{$}&quot;, why is the '$'
&gt;      not considered a &quot;character sequence&quot;?

Should probably change the clause about &quot;character sequence&quot; to:
&quot;inside { } () [] indentation processing is not active, so for
example, {$} MUST NOT ....&quot;

&gt;
&gt; * IMO, it should probably be specified whether &quot;#!no-sweet&quot; disables
&gt;   curly-infix.
&gt;
&gt; * In the examples, why are the s-expressions not indented according to
&gt;   the nearly-universally accepted conventions?

Okay, will fix.

&gt;
&gt; * The use of '$', '$$$', '&lt;*', and '*&gt;' as special tokens should be
&gt;   mentioned in the &quot;Backwards compatibility&quot; section.  These are all
&gt;   considered extended alphabetic characters by standard scheme.
&gt;
&gt; * If an implementation implements sweet expressions by default, then
&gt;   they will have to be careful about writing symbols that contain '$',
&gt;   '&lt;*' or '*&gt;'.

Will clarify that these markers only have those meanings if they are
separated by whitespace.  So a symbol like &lt;*&gt; is fine to print as-is,
but &lt;* needs to be printed as {&lt;*}.

&gt;
&gt; * In the design rationale, there's a section entitled &quot;Blank lines&quot;.
&gt;   Are these the same as the &quot;empty lines&quot; referenced in the
&gt;   specification?  If so, I suggest using just one term, and defining
&gt;   it clearly in the spec.

Mostly.  I propose &quot;blank lines&quot;

&gt;
&gt; * When you speak of &quot;traditional abbreviations&quot;, you might want to
&gt;   make a suggestion about how to handle additional non-standard
&gt;   abbreviations.  In particular, the abbreviations #', #`, #, and #,@
&gt;   are widely used by the syntax-case macro system.

Okay.

--

Will look into this at more detail later - little busy for now.

Sincerely,
AmkG

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00053" href="msg00053.html">First impressions of the specification</a></strong>
<ul><li><em>From:</em> Mark H Weaver</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00053.html">First impressions of the specification</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00055.html">Re: First impressions of the specification</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00053.html">First impressions of the specification</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00055.html">Re: First impressions of the specification</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00054"><strong>Date</strong></a></li>
<li><a href="threads.html#00054"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
