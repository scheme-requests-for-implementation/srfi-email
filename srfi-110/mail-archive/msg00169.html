<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: sweet&#45;expressions are not homoiconic -->
<!--X-From-R13: Oyna [nahry Uybevn <nyzxtybeNtznvy.pbz> -->
<!--X-Date: Mon, 27 May 2013 08:34:40 +0200 (MST) -->
<!--X-Message-Id: CAF+kUQWTqsYJX2Dhdhbq_8dBg4kCKcj+ojBvupnu1cN3NG3RUw@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CAPKQtS&#45;uMxFUtgVuTTDz3LcOxm2V0FRmgujmuUUmMh++YXY6ng@mail.gmail.com -->
<!--X-Reference: E1UgpIP&#45;0004Iq&#45;39@rmm6prod02.runbox.com -->
<!--X-Reference: CAPKQtS_fFKN6iMRbzr&#45;7GYDL4j6wispjXcA&#45;50fHSqaHbH9i8Q@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: sweet-expressions are not homoiconic</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00168.html">Date Prev</a>][<a href="msg00170.html">Date Next</a>][<a href="msg00168.html">Thread Prev</a>][<a href="msg00172.html">Thread Next</a>][<a href="maillist.html#00169">Date Index</a>][<a href="threads.html#00169">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: sweet-expressions are not homoiconic</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-110">SRFI 110</a> from before July 7th, 2015.  The new archives for SRFI 110 are <a href="http://srfi-email.schemers.org/srfi-110/">here</a>.  The new archives contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Alexey Radul &lt;<a href="mailto:axch@DOMAIN.HIDDEN">axch@xxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: sweet-expressions are not homoiconic</li>
<li><em>From</em>: Alan Manuel Gloria &lt;<a href="mailto:almkglor@DOMAIN.HIDDEN">almkglor@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Mon, 27 May 2013 14:34:39 +0800</li>
<li><em>Cc</em>: <a href="mailto:dwheeler@DOMAIN.HIDDEN">dwheeler@xxxxxxxxxxxx</a>, stone &lt;<a href="mailto:stone@DOMAIN.HIDDEN">stone@xxxxxxxxxxxxxxx</a>&gt;, 	srfi-110 &lt;<a href="mailto:srfi-110@DOMAIN.HIDDEN">srfi-110@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-110@DOMAIN.HIDDEN">srfi-110@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=20120113;        h=mime-version:in-reply-to:references:date:message-id:subject:from:to         :cc:content-type;        bh=IWttf/FlOqHbRN8RiF8voRiiOmhnoVqNRs+m1Khx5J4=;        b=KhBxPLzLYE/wVXkVG4PX+dO6NvWXx0LFuwH2/AARkJU7taswPnET+BH9AuktbGiqVH         R3TuccxF9tuOU/E0/ZMrkfWBV+S/0a19SNS/tzXke9nMGuoGMzBNEDGjMfSvel7MVE1Y         rzmS6P/NJzTh0x9MaSgAXNAIDF3swEUlSSJYKgbf03VTyBYBsxwTBrY9kArg6IWRoH5J         28GD0d3E/A0YXs4sXKWkU46O6vtcphFkKZ7iKd3shIS2ELyuLiYqls65EzOyJZeT1rNK         DbRSLdtz74hS29KG/gt4LEP8fa5A4UQl5fF+M7zjSj2agGcYkkJcX7PRYVKAI78SNDjq         HZdQ==</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:CAPKQtS_fFKN6iMRbzr-7GYDL4j6wispjXcA-50fHSqaHbH9i8Q@DOMAIN.HIDDEN">CAPKQtS_fFKN6iMRbzr-7GYDL4j6wispjXcA-50fHSqaHbH9i8Q@xxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:CAPKQtS-uMxFUtgVuTTDz3LcOxm2V0FRmgujmuUUmMh%2B%2BYXY6ng@DOMAIN.HIDDEN">CAPKQtS-uMxFUtgVuTTDz3LcOxm2V0FRmgujmuUUmMh++YXY6ng@xxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:E1UgpIP-0004Iq-39@DOMAIN.HIDDEN">E1UgpIP-0004Iq-39@xxxxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:CAPKQtS_fFKN6iMRbzr-7GYDL4j6wispjXcA-50fHSqaHbH9i8Q@DOMAIN.HIDDEN">CAPKQtS_fFKN6iMRbzr-7GYDL4j6wispjXcA-50fHSqaHbH9i8Q@xxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Okay, here's a cut at the semantisc of a &quot;limited&quot; form of ParEdit for
indentation, which I shall dub IndEndit, just to screw with everyone's
tongues.

1.  Consider an indentation expression (t-expr) as being composed of
n-expressions.

1.1.  n-expressions are just s-expressions plus the added forms in
SRFI-105.  Basically, the only difference to ParEdit is that {} are
considered as another expression-delimiting pair aside from (), and
that a symbol that has a { or ( right after it without a space is
considered as part of the () or {} expression right after it.

; basically, SRFI-105 is a relatively small patch on top of ParEdit, I
think.  One view of SRFI-110 (which is obscured by the long BNF) is
that t-expressions are just made of up of n-expressions separated by
syntactically-significant whitespace; this meant also that falling
back to s-expressions is *trivial*.  In fact, earlier versions of the
code used this view, but this version was discarded and the SRFI
re-implemented since we desired the automatic BNF checking of ANTLR,
and desired to follow the ANTLR code more closely in the parser.

2.  If the cursor is at the start of a line (after indentation chars,
i.e. space tab and bang) then the extent of the expression is
considered as being up to the next non-comment line at or with lesser
indentation.


Sincerely,
AmkG

On 5/27/13, Alexey Radul &lt;axch@xxxxxxx&gt; wrote:
&gt; On Mon, May 27, 2013 at 12:44 AM, David A. Wheeler
&gt; &lt;dwheeler@xxxxxxxxxxxx&gt; wrote:
&gt;&gt; Alexey Radul &lt;axch@xxxxxxx&gt; wrote:
&gt;&gt;
&gt;&gt;&gt; I don't know whether anyone else on this list uses Emacs' Paredit mode
&gt;&gt;&gt; <a  rel="nofollow" href="http://www.emacswiki.org/emacs/ParEdit">http://www.emacswiki.org/emacs/ParEdit</a> to edit their S-expressions,
&gt;&gt;
&gt;&gt; I haven't used Paredit mode, sorry.
&gt;
&gt; Then I strongly recommend you try it.  I think anyone who takes syntax
&gt; design seriously, as you clearly do, should be familiar with the
&gt; best-in-class editing tools, lest their design should accidentally
&gt; impede their adaptaion.  May I suggest writing an Emacs mode for
&gt; sweet-expressions as a fitting project for learning Paredit?
&gt;
&gt;&gt;&gt; ... In any case,
&gt;&gt;&gt; I submit that sweet-expressions would become a much more powerful and
&gt;&gt;&gt; effective notation if they were to obey the Paredit Property -- or,
&gt;&gt;&gt; more broadly, if someone were to implement Paredit mode for them.
&gt;&gt;
&gt;&gt; Advanced editing modes are definitely desirable!!
&gt;&gt; I think there's a reluctance to spend a lot of time creating editing
&gt;&gt; modes
&gt;&gt; when the notation itself is still in flux.
&gt;
&gt; My point was that this reluctance, while understandable, is dangerous.
&gt; Choices made in the design of the notation have consequences for the
&gt; ease of implementation of advanced editing modes.
&gt;
&gt;&gt; ... I certainly hope to see cool modes
&gt;&gt; in the future.
&gt;&gt;
&gt;&gt; I *do* believe that sweet-expressions
&gt;&gt; can be well-supported by an editing mode.
&gt;&gt; Heck, people manage to support Python (which is indentation-sensitive)
&gt;&gt; and C++ (which is notoriously hard to parse) with fancy editing modes.
&gt;&gt; Compared to them, sweet-expressions should be a snap :-).
&gt;
&gt; Oh, certainly there are editing modes for Python and C++.  I have had
&gt; the good fortune of not needing them, but I have tried the
&gt; community-recommended editing modes for Ruby and Haskell, and Paredit
&gt; is just a level above.  Heck, I find even Eclipse, with all its fancy
&gt; refactorings, to still be slower and less pleasant, on balance, than
&gt; Paredit (though maybe that's because I haven't written anything except
&gt; Java in Eclipse).  You're editing the syntax tree, not the text file.
&gt; I cannot tell you what editing with Paredit is; you have to experience
&gt; it for yourself.
&gt;
&gt;&gt;&gt; P.P.S. I was motivated to write this note in part because of the
&gt;&gt;&gt; recurrent complaint about 10 closing parens being hard to distinguish
&gt;&gt;&gt; from 12.  In the presence of Paredit mode this is simply a
&gt;&gt;&gt; non-problem.  Paredit maintains the invariant that one's s-expressions
&gt;&gt;&gt; are always well-formed (e.g., typing '(' inserts &quot;()&quot;; typing ')'
&gt;&gt;&gt; inserts nothing but moves the next &quot;)&quot; to the cursor and steps over
&gt;&gt;&gt; it; etc).
&gt;&gt;
&gt;&gt; That *invariant* I completely buy in to.
&gt;&gt; I have a long-standing habit of always typing the closing paren if
&gt;&gt; I'm using an editor that won't do it for me.
&gt;
&gt; What I can't stand are tools that add the closing paren when I type an
&gt; open paren, but then add another closing paren when I type a closing
&gt; paren, producing unopened items.  I had neglected to mention another
&gt; of Paredit's design goals: it doesn't force you to change how you
&gt; type.  If you just type as if Paredit is off, Paredit will do the
&gt; right thing.
&gt;
&gt;&gt; An editor can help you when you're *typing*, but it's far less helpful
&gt;&gt; when *reading*
&gt;&gt; the code.
&gt;
&gt; I'm actually not sure I agree with that.  Navigating to the definition
&gt; of an item one is looking at is extremely helpful when reading code,
&gt; though this has precious little to do with the syntax.  However, I
&gt; find that show-paren-mode solves the paren-matching problem quite
&gt; nicely for reading -- just put your cursor on a paren you are curious
&gt; about and the matching one lights up.  Which, in an s-expression
&gt; syntax, means that I can always see the bounds of any node in the
&gt; parse tree.  Together with the s-expression navigation commands (next
&gt; sexp, previous sexp, enclosing sexp, etc), this produces a
&gt; higher-level reading experience than paper, which is essentially
&gt; linear.
&gt;
&gt; In practice, of course, I mainly use the indentation to group what I'm
&gt; reading, and rely on show-paren-mode and s-expression navigation
&gt; commands as reading aids only when the indentation is not sufficiently
&gt; clear.  However, inventing a mechanism not to break these two things
&gt; would also be advantageous.  Alas, I do not have a specific suggestion
&gt; to offer -- except to advocate Paredit mode to you, as something
&gt; valuable that s-expressions have, and that may be worth effort to
&gt; keep.
&gt;
&gt; Best,
&gt; ~Alexey
&gt;
&gt; P.S. I think this kind of read/write tool support may have something
&gt; to do with what people mean when they say &quot;the parens just fade away.&quot;
&gt;
&gt;

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00172" href="msg00172.html">Re: sweet-expressions are not homoiconic</a></strong>
<ul><li><em>From:</em> David A. Wheeler</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00165" href="msg00165.html">Re: sweet-expressions are not homoiconic</a></strong>
<ul><li><em>From:</em> Alexey Radul</li></ul></li>
<li><strong><a name="00166" href="msg00166.html">Re: sweet-expressions are not homoiconic</a></strong>
<ul><li><em>From:</em> David A. Wheeler</li></ul></li>
<li><strong><a name="00168" href="msg00168.html">Re: sweet-expressions are not homoiconic</a></strong>
<ul><li><em>From:</em> Alexey Radul</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00168.html">Re: sweet-expressions are not homoiconic</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00170.html">Re: sweet-expressions are not homoiconic</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00168.html">Re: sweet-expressions are not homoiconic</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00172.html">Re: sweet-expressions are not homoiconic</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00169"><strong>Date</strong></a></li>
<li><a href="threads.html#00169"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
