<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: First impressions of the specification -->
<!--X-From-R13: "Rnivq O. Iurryre" <qjurryreNqjurryre.pbz> -->
<!--X-Date: Wed, 27 Mar 2013 22:31:04 +0100 (MET) -->
<!--X-Message-Id: E1UKxvz&#45;0008Ix&#45;4E@rmm6prod02.runbox.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 87r4j87yy6.fsf@tines.lan -->
<!--X-Reference: E1UJuwP&#45;0005hq&#45;Mx@rmm6prod02.runbox.com -->
<!--X-Reference: 874nfybxm4.fsf@tines.lan -->
<!--X-Reference: E1UKbkh&#45;0007bB&#45;L0@rmm6prod02.runbox.com -->
<!--X-Reference: 8738vh8vng.fsf@tines.lan -->
<!--X-Reference: E1UKhMH&#45;0004RA&#45;Rf@rmm6prod02.runbox.com -->
<!--X-Reference: 87ehf176us.fsf@tines.lan -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: First impressions of the specification</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00074.html">Date Prev</a>][<a href="msg00076.html">Date Next</a>][<a href="msg00077.html">Thread Prev</a>][<a href="msg00083.html">Thread Next</a>][<a href="maillist.html#00075">Date Index</a>][<a href="threads.html#00075">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: First impressions of the specification</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-110">SRFI 110</a> from before July 7th, 2015.  The <a href="http://srfi-email.schemers.org/srfi-110">new archives</a> for SRFI 110 contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: &quot;mhw&quot; &lt;<a href="mailto:mhw@DOMAIN.HIDDEN">mhw@xxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: First impressions of the specification</li>
<li><em>From</em>: &quot;David A. Wheeler&quot; &lt;<a href="mailto:dwheeler@DOMAIN.HIDDEN">dwheeler@xxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Wed, 27 Mar 2013 17:31:03 -0400 (EDT)</li>
<li><em>Cc</em>: &quot;srfi-110&quot; &lt;<a href="mailto:srfi-110@DOMAIN.HIDDEN">srfi-110@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-110@DOMAIN.HIDDEN">srfi-110@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:87ehf176us.fsf@DOMAIN.HIDDEN">87ehf176us.fsf@xxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:87r4j87yy6.fsf@DOMAIN.HIDDEN">87r4j87yy6.fsf@xxxxxxxxx</a>&gt; &lt;<a href="mailto:E1UJuwP-0005hq-Mx@DOMAIN.HIDDEN">E1UJuwP-0005hq-Mx@xxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:874nfybxm4.fsf@DOMAIN.HIDDEN">874nfybxm4.fsf@xxxxxxxxx</a>&gt; &lt;<a href="mailto:E1UKbkh-0007bB-L0@DOMAIN.HIDDEN">E1UKbkh-0007bB-L0@xxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:8738vh8vng.fsf@DOMAIN.HIDDEN">8738vh8vng.fsf@xxxxxxxxx</a>&gt; &lt;<a href="mailto:E1UKhMH-0004RA-Rf@DOMAIN.HIDDEN">E1UKhMH-0004RA-Rf@xxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:87ehf176us.fsf@DOMAIN.HIDDEN">87ehf176us.fsf@xxxxxxxxx</a>&gt;</li>
<li><em>Reply-to</em>: <a href="mailto:dwheeler@DOMAIN.HIDDEN">dwheeler@xxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Mark H Weaver:
&gt; Yes, this is definitely headed in the right direction!  I'm now able to
&gt; understand most of the rules from the tutorial and basic specification.

Great!  In that case, we can make some specific improvements since
the basic approach seems to make it easier to understand.

&gt; A few comments on the tutorial:
&gt; 
&gt; * It would be helpful to describe what happens if '.' is encountered
&gt;   outside of any parentheses, in both the tutorial and the basic
&gt;   specification.

Okay.  It's basically what you expect; &quot;a . b&quot; on a line is &quot;(a . b)&quot;.
But we can easily add that; there are even some examples currently
in the examples section.

&gt; * Re: &quot;Block comments (#|...|#) are removed.&quot;  I still don't know what
&gt;   this means exactly.  Why do you say &quot;removed&quot; and not simply
&gt;   &quot;ignored&quot;?  Is there a difference?  Why don't you say that other kinds
&gt;   of comments are &quot;removed&quot;?

If they're at the beginning of a line, the indent still matters (like GROUP).
I think people found it confusing if they did otherwise.

&gt; * Re: GROUP and SPLIT in the tutorial: Examples needed, especially for
&gt;   GROUP.  The language &quot;it represents no symbol at all&quot; is confusing and
&gt;   unclear.  Also &quot;intepreted the start&quot; =&gt; &quot;interpreted as the start&quot;.

Okay.  Perhaps we should walk through with examples for each.

I still think it's useful to have an &quot;examples&quot; section too, but there's no need
to duplicate ones in the tutorial.

&gt; Some more comments, unrelated to the recent changes:
&gt; 
&gt; * I continue to find the use of unconventional indentation in the
&gt;   s-expression examples to be quite distracting.  I've never seen Scheme
&gt;   or Lisp code indented that way.
...
&gt; * I think you should consider using conventional indentation in your
&gt;   t-expression examples where reasonable, e.g. for 'if' and 'do'
&gt;   Personally, I find this:
&gt; 
&gt;     define gcd(x y)
&gt;       if {y = 0}
&gt;          x
&gt;          gcd y rem(x y)
&gt; 
&gt;   much easier to read than your convention of:
&gt; 
&gt;     define gcd(x y)
&gt;       if {y = 0}
&gt;         x
&gt;         gcd y rem(x y)

The only difference I see is that &quot;x&quot; is indented by 2 spaces in our case,
and in your case, &quot;x&quot; is lined up with &quot;{&quot; with the assumption that characters
are always fixed-width characters of equal width.  Is that correct?

Either indentation is valid in sweet-expressions, so we *could* do it.
So now we're talking more about style for use as examples,
as opposed to some deep need to use one or the other.

I'll call these styles &quot;fixed-indent&quot; (always increment indent by
a fixed amount) and &quot;line-up-indent&quot; (line up new indent with a later
parameter in the parent).

&gt; ...  Is there a compelling reason to break this tradition?

I don't know how much of a &quot;tradition&quot; this is, I haven't done a study.

I'll note that guile's pretty-printer, by default, does NOT line up the
condition and the branches; by default it uses &quot;fixed-indent&quot;, not &quot;line-up-indent&quot;.
Also, I normally use &quot;fixed-indent&quot;
when I write s-expressions, just as it's done in the spec.
E.G., in src/kernel.scm of &quot;readable&quot;, I wrote:

&gt;              (if (memv #\! indentation-list)
&gt;                (read-error &quot;Initial ident must not use '!'&quot;)
&gt;                (if (not (memv (my-peek-char port) initial_comment_eol))
&gt;                  (let ((results (n_expr_or_scomment port)))
&gt;                    (if (eq? (car results) 'scomment)
&gt;                      (begin


There are *reasons* I use fixed-indent.  First of all, the fixed-indent rule
is really simple: &quot;indent fixed amount X&quot;.  In the &quot;line-up-indent&quot; style,
I have to figure out what to line up.

If I change some line with &quot;if&quot; etc. in &quot;line-up-indent&quot; style,
I'll feel compelled to change the indentation of the lines below to
&quot;fix&quot; a style issue. These cause extra work and
spurious &quot;changes&quot; when looking at diffs.

The line-up-indent approach also
assumes that you know the encoding and visual width of all characters.
This is increasingly untrue in an international world with
non-ASCII chars, various encodings, and variable-width fonts.


&gt; * I have doubts whether the addition of '!' as an indentation character
&gt;   is worth the added complexity in the spec (which is far more complex
&gt;   than I'd prefer, and I'm sure I'm not alone in feeling that way).
&gt;   Python seems to do fine without such a character.  So do Makefiles.

Actually, Python and Makefiles do NOT do fine.
It's a common complaint that leading whitespace is removed and changes
their meanings.

But historically it's been an unexamined assumption that only space and tab
can be indent characters.  We just examined it :-).

The '!' doesn't add much complexity at all, it's really just the phrase
&quot;and the exclamation point&quot; when defining indent characters.
I have a proposal to simplify it otherwise on the table, which may help.

I think the real problem with &quot;complexity&quot; is that the BNF has two parts:
(1) all the lower-level definitions, and (2) the top-level definitions that
do all the real work.  If I separate those into separate sections, I think
it'll be much easier to understand, because then you could skip the
obvious-but-I-must-define-it stuff on a first reading.

--- David A. Wheeler

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00083" href="msg00083.html">Re: First impressions of the specification</a></strong>
<ul><li><em>From:</em> Mark H Weaver</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00053" href="msg00053.html">First impressions of the specification</a></strong>
<ul><li><em>From:</em> Mark H Weaver</li></ul></li>
<li><strong><a name="00059" href="msg00059.html">Re: First impressions of the specification</a></strong>
<ul><li><em>From:</em> David A. Wheeler</li></ul></li>
<li><strong><a name="00061" href="msg00061.html">Re: First impressions of the specification</a></strong>
<ul><li><em>From:</em> Mark H Weaver</li></ul></li>
<li><strong><a name="00069" href="msg00069.html">Re: First impressions of the specification</a></strong>
<ul><li><em>From:</em> David A. Wheeler</li></ul></li>
<li><strong><a name="00070" href="msg00070.html">Re: First impressions of the specification</a></strong>
<ul><li><em>From:</em> Mark H Weaver</li></ul></li>
<li><strong><a name="00071" href="msg00071.html">Re: First impressions of the specification</a></strong>
<ul><li><em>From:</em> David A. Wheeler</li></ul></li>
<li><strong><a name="00072" href="msg00072.html">Re: First impressions of the specification</a></strong>
<ul><li><em>From:</em> Mark H Weaver</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00074.html">Re: First impressions of the specification</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00076.html">Re: First impressions of the specification</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00077.html">Re: First impressions of the specification</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00083.html">Re: First impressions of the specification</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00075"><strong>Date</strong></a></li>
<li><a href="threads.html#00075"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
