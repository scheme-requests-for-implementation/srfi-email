<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: First impressions of the specification -->
<!--X-From-R13: Oyna [nahry Uybevn <nyzxtybeNtznvy.pbz> -->
<!--X-Date: Wed, 27 Mar 2013 08:30:22 +0100 (MET) -->
<!--X-Message-Id: CAF+kUQXvmRACGQMkUiiJsEMqq92_mohZbU2BrD8n6V9xJq5QJg@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 87r4j87yy6.fsf@tines.lan -->
<!--X-Reference: E1UJuwP&#45;0005hq&#45;Mx@rmm6prod02.runbox.com -->
<!--X-Reference: 874nfybxm4.fsf@tines.lan -->
<!--X-Reference: E1UKbkh&#45;0007bB&#45;L0@rmm6prod02.runbox.com -->
<!--X-Reference: 8738vh8vng.fsf@tines.lan -->
<!--X-Reference: E1UKhMH&#45;0004RA&#45;Rf@rmm6prod02.runbox.com -->
<!--X-Reference: 87ehf176us.fsf@tines.lan -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: First impressions of the specification</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00072.html">Date Prev</a>][<a href="msg00074.html">Date Next</a>][<a href="msg00072.html">Thread Prev</a>][<a href="msg00074.html">Thread Next</a>][<a href="maillist.html#00073">Date Index</a>][<a href="threads.html#00073">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: First impressions of the specification</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Mark H Weaver &lt;<a href="mailto:mhw@DOMAIN.HIDDEN">mhw@xxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: First impressions of the specification</li>
<li><em>From</em>: Alan Manuel Gloria &lt;<a href="mailto:almkglor@DOMAIN.HIDDEN">almkglor@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Wed, 27 Mar 2013 15:30:20 +0800</li>
<li><em>Cc</em>: <a href="mailto:dwheeler@DOMAIN.HIDDEN">dwheeler@xxxxxxxxxxxx</a>, srfi-110 &lt;<a href="mailto:srfi-110@DOMAIN.HIDDEN">srfi-110@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-110@DOMAIN.HIDDEN">srfi-110@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=20120113;        h=mime-version:x-received:in-reply-to:references:date:message-id         :subject:from:to:cc:content-type;        bh=axqn860Qn9RWaFJxfXUxBW5M1VHRJunhtch7MwwF24s=;        b=Nr0BBiCEtF/EbOsEYqfm6Qf1nKSmBfyqLWXIuqAfRTzmMuhDsfwPnaGqttXZ0v+84s         CPK0QXkiLgSGiH6UKJBNVnZmz2itCuMBx+JPgpOH0VuVIj5p7eIrtaiXEyfWExJ9PupQ         9Q5/N9FOD3zjRQcp5vV+q/3heXT+GP+QGEOHkHPcXOE7jgjWDFhzdkfIIhdD6slWEJdQ         elzVaNhrnBON4E1LP1F8p36iZjLx8BcqNCGjb6D+iB8z+/ODOV27Pua7EyxU1538ik2O         npFmwVL6P6LXLPpFqNmvbwk5hg/RO8FByfSGohxpp1x81Gy1VqC/zDo+8XWo7T3zE19C         x+RA==</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:87ehf176us.fsf@DOMAIN.HIDDEN">87ehf176us.fsf@xxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:87r4j87yy6.fsf@DOMAIN.HIDDEN">87r4j87yy6.fsf@xxxxxxxxx</a>&gt;	&lt;<a href="mailto:E1UJuwP-0005hq-Mx@DOMAIN.HIDDEN">E1UJuwP-0005hq-Mx@xxxxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:874nfybxm4.fsf@DOMAIN.HIDDEN">874nfybxm4.fsf@xxxxxxxxx</a>&gt;	&lt;<a href="mailto:E1UKbkh-0007bB-L0@DOMAIN.HIDDEN">E1UKbkh-0007bB-L0@xxxxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:8738vh8vng.fsf@DOMAIN.HIDDEN">8738vh8vng.fsf@xxxxxxxxx</a>&gt;	&lt;<a href="mailto:E1UKhMH-0004RA-Rf@DOMAIN.HIDDEN">E1UKhMH-0004RA-Rf@xxxxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:87ehf176us.fsf@DOMAIN.HIDDEN">87ehf176us.fsf@xxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On 3/27/13, Mark H Weaver &lt;mhw@xxxxxxxxxx&gt; wrote:
&gt; Hi David,
&gt;
&gt; &quot;David A. Wheeler&quot; &lt;dwheeler@xxxxxxxxxxxx&gt; writes:
&gt;&gt; I've attached an updated SRFI-110 that includes a tutorial section.
&gt;&gt;
&gt;&gt; Is this headed in the right direction?  And no matter what, are there
&gt;&gt; suggestions for improvement?
&gt;
&gt; Yes, this is definitely headed in the right direction!  I'm now able to
&gt; understand most of the rules from the tutorial and basic specification.
&gt;
&gt; A few comments on the tutorial:
&gt;
&gt; * It would be helpful to describe what happens if '.' is encountered
&gt;   outside of any parentheses, in both the tutorial and the basic
&gt;   specification.
&gt;
&gt; * Re: &quot;Block comments (#|...|#) are removed.&quot;  I still don't know what
&gt;   this means exactly.  Why do you say &quot;removed&quot; and not simply
&gt;   &quot;ignored&quot;?  Is there a difference?

Yes

&gt;Why don't you say that other kinds
&gt;   of comments are &quot;removed&quot;?

Because ;-comments are treated differently:

1.  A sequence composed of indentation whitespace followed by ;
followed by any number of characters followed by an end-of-line
sequence is completely ignored - it doesn't count as a blank line.
So, you might think of it that internally, the following:

foo
  ; comment
  bar

is the same as:

foo
  bar

2.  A #|...|# comment is &quot;removed&quot; and replaced with GROUP if it's the
first thing after indentation whitespace, or just &quot;removed&quot; otherwise.
 Basically, it means that:

foo
  #| comment
|# bar #|
comment
|# nitz

is the same as:

foo
  \\ bar nitz

The reason we say &quot;removed&quot; is that *end-of-line sequences are also
removed*.  It also means that the following text yields an error:

; view this in a fixed-width font
foo
!            bar
!#|comment|# quux
==&gt;
Error! inconsistent indent:
foo
!            bar
!\\ quux
 ^ here

The reason for this is described fully in the design rationale
question &quot;Why are the indentations of block comments and datum
comments significant?&quot;.  It's not satisfactory, and you are free to
provide an alternative, but be reminded that there are largely only
two expected use cases of block comments anyway (described in the
design rationale section), and the current solution sidesteps the
subtle problem involved (basically, CJK characters and encoding).

I didn't put the explanation in the specification section because it's
long and handles an edge case which we don't expect anyway - we expect
people to use #||# &quot;sensibly&quot; - so it's delegated to the design
rationale.

&gt;
&gt; * Re: GROUP and SPLIT in the tutorial: Examples needed, especially for
&gt;   GROUP.  The language &quot;it represents no symbol at all&quot; is confusing and
&gt;   unclear.  Also &quot;intepreted the start&quot; =&gt; &quot;interpreted as the start&quot;.
&gt;
&gt; * Re: SUBLIST item in tutorial: &quot;last parameter&quot; =&gt; &quot;last element&quot;.
&gt;   Also, please add an example here where there is no LHS.
&gt;
&gt; * Re: /collecting list/ item in tutorial: &quot;and the indentation level is
&gt;   temporary restarted at the left edge&quot; is a bit confusing.  Examples
&gt;   are needed.
&gt;
&gt; Maybe there should be a small block of examples underneath the numbered
&gt; list of &quot;advanced features&quot; in the tutorial.  Alternatively, maybe the
&gt; entire &quot;examples&quot; section should be moved up to immediately follow the
&gt; tutorial.
&gt;
&gt; Some more comments, unrelated to the recent changes:
&gt;
&gt; * I continue to find the use of unconventional indentation in the
&gt;   s-expression examples to be quite distracting.  I've never seen Scheme
&gt;   or Lisp code indented that way.
&gt;
&gt; * I think you should consider using conventional indentation in your
&gt;   t-expression examples where reasonable, e.g. for 'if' and 'do'
&gt;   Personally, I find this:
&gt;
&gt;     define gcd(x y)
&gt;       if {y = 0}
&gt;          x
&gt;          gcd y rem(x y)
&gt;
&gt;   much easier to read than your convention of:
&gt;
&gt;     define gcd(x y)
&gt;       if {y = 0}
&gt;         x
&gt;         gcd y rem(x y)
&gt;
&gt;   and I suspect I'm not alone.  De gustibus non est disputandum, but I'm
&gt;   not sure this is just a matter of taste.  It is intuitive to see the
&gt;   operands lined up vertically, and most Schemers are used to that.  Is
&gt;   there a compelling reason to break this tradition?
&gt;
&gt; * I have doubts whether the addition of '!' as an indentation character
&gt;   is worth the added complexity in the spec (which is far more complex
&gt;   than I'd prefer, and I'm sure I'm not alone in feeling that way).
&gt;   Python seems to do fine without such a character.  So do Makefiles.
&gt;   If it's truly needed, then it presents authors with a dilemma about
&gt;   whether or not to put them in all the code that they write.

! is surprisingly useful.  Here's an example which is readable, but
difficult to modify if you need to add an else clause:

define (foo x)
  define something $ cond
                       (pred1? x) $ begin
                                      something that is
                                      very long
                                      spanning several lines
                                      and might
                                        end up
                                          with severe
                                            changes in indentation
                                      like this
                                      and so on
                                        so forth
                                        whatsover ...
                       (pred2? x) $ begin
                                      another long clause
                                      involving several
                                        more lines
                                      and which
                                        also ends
                                          in
                                            (severe)
                                          changes
                                            in indentation
                                              at the end
  quux something

In s-expressions, it's safe to lose a space or two when you insert a
clause at the end of the cond - the parens (should) guide the parser
to the correct insertion.  But in t-expressions, the new clause at the
cond level *must* line up at the same levels as (pred1? x) and (pred2?
x).

By highlighting this important indentation level, you can more easily
facilitate adding an else clause - you just press space until you
reach the ! line and then type the new clause.

define (foo x)
  define something $ cond
                       (pred1? x) $ begin
                       !              something that is
                       !              very long
                       !              spanning several lines
                       !              and might
                       !                end up
                       !                  with severe
                       !                    changes in indentation
                       !              like this
                       !              and so on
                       !                so forth
                       !                whatsover ...
                       (pred2? x) $ begin
                       !              another long clause
                       !              involving several
                       !                more lines
                       !              and which
                       !                also ends
                       !                  in
                       !                    (severe)
                       !                  changes
                       !                    in indentation
                       !                      at the end
  quux something

FWIW this usage is not shown in the design rationale section (i.e. it
helps keeps track of the correct indentation level after several
lines), and we probably should list it as the foremost reason.

&gt;
&gt; Okay, that's enough for now.  I still have yet to read carefully beyond
&gt; the Basic specification, so no doubt I'll have more comments later.
&gt;
&gt;      Regards,
&gt;        Mark
&gt;
&gt;

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00074" href="msg00074.html">Re: First impressions of the specification</a></strong>
<ul><li><em>From:</em> Mark H Weaver</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00053" href="msg00053.html">First impressions of the specification</a></strong>
<ul><li><em>From:</em> Mark H Weaver</li></ul></li>
<li><strong><a name="00059" href="msg00059.html">Re: First impressions of the specification</a></strong>
<ul><li><em>From:</em> David A. Wheeler</li></ul></li>
<li><strong><a name="00061" href="msg00061.html">Re: First impressions of the specification</a></strong>
<ul><li><em>From:</em> Mark H Weaver</li></ul></li>
<li><strong><a name="00069" href="msg00069.html">Re: First impressions of the specification</a></strong>
<ul><li><em>From:</em> David A. Wheeler</li></ul></li>
<li><strong><a name="00070" href="msg00070.html">Re: First impressions of the specification</a></strong>
<ul><li><em>From:</em> Mark H Weaver</li></ul></li>
<li><strong><a name="00071" href="msg00071.html">Re: First impressions of the specification</a></strong>
<ul><li><em>From:</em> David A. Wheeler</li></ul></li>
<li><strong><a name="00072" href="msg00072.html">Re: First impressions of the specification</a></strong>
<ul><li><em>From:</em> Mark H Weaver</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00072.html">Re: First impressions of the specification</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00074.html">Re: First impressions of the specification</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00072.html">Re: First impressions of the specification</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00074.html">Re: First impressions of the specification</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00073"><strong>Date</strong></a></li>
<li><a href="threads.html#00073"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
