<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: LET&#45;VALUES concerns -->
<!--X-From-R13: Znef Fubznf Vnafra <yguNppf.arh.rqh> -->
<!--X-Date: Mon, 1 Nov 1999 09:34:54 &#45;0600 (CST) -->
<!--X-Message-Id: 199911011534.KAA16706@vega.ccs.neu.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: LET-VALUES concerns</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00004.html">Date Prev</a>][<a href="msg00006.html">Date Next</a>][<a href="msg00001.html">Thread Prev</a>][<a href="msg00002.html">Thread Next</a>][<a href="maillist.html#00005">Date Index</a>][<a href="threads.html#00005">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: LET-VALUES concerns</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-11">SRFI 11</a> from before July 7th, 2015.  The new archives for SRFI 11 are <a href="http://srfi-email.schemers.org/srfi-11/">here</a>.  The new archives contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-11@DOMAIN.HIDDEN">srfi-11@xxxxxxxxxxxxxxxxx</a>, <a href="mailto:sperber@DOMAIN.HIDDEN">sperber@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: LET-VALUES concerns</li>
<li><em>From</em>: Lars Thomas Hansen &lt;<a href="mailto:lth@DOMAIN.HIDDEN">lth@xxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Mon, 01 Nov 1999 10:34:40 -0500</li>
<li><em>Cc</em>: <a href="mailto:lth@DOMAIN.HIDDEN">lth@xxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
On 14 Sep 1999 sperber@xxxxxxxxxxxxxxxxxxxxxxxxxxx wrote

 &gt; I'm a bit concerned about the syntax of LET-VALUES:
 &gt; 
 &gt;    (LET-VALUES (&lt;formals&gt; &lt;expression&gt;) &lt;body&gt;)
 &gt;           Syntax
 &gt;           &lt;Formals&gt; should be a formal arguments list as for a LAMBDA  
 &gt;           expression, cf section 4.1.4 of the R5RS.
 &gt; 
 &gt; This means 
 &gt; 
 &gt; (let-values (a &lt;expression a single value&gt; )
 &gt;   ...)
 &gt; 
 &gt; will bind A to a list containing the single value.  I believe this
 &gt; will likely be a common mistake producing an unexpected result.

Alternatively, it allows the programmer to evaluate expressions that
return a variable number of results, in the same manner that

	(let-values ((a b c . d) &lt;expression&gt;) 
	   ...)

allows one to evaluate expressions that return at least three results.

Your change either suggests a special case for expressions that returns
a single value (obviously undesirable, as the meaning of

	(let-values (a &lt;expr&gt;) ...) 

would depend on the number of values returned by &lt;expr&gt;), or would
prohibit outright LET-VALUES to bind a variable to a list containing the
remaining unmatched return values.  I'll happily concede that returning
a variable number of results is not something I do every day, but
I don't mind admitting the possibility that it's occasionally useful.

 &gt; MzScheme's LET-VALUES requires &lt;formals&gt; to be parenthesized.

MzScheme's LET-VALUES does not allow LET-VALUES to bind a variable to a
list containing the remaining unmatched return values; the number of
values returned by an expression must be known by the receiving form.

 &gt; I would also like to see LET-VALUES allow more bindings to be
 &gt; consistent with LET. 

I considered that and decided that I very rarely use nested LET-VALUES
as specified above, thus the extra level of parentheses you'd get when
you allow that (ie., clutter) didn't seem worth the benefit.


With regard to the compatibility of my proposed LET-VALUES and
MzScheme's LET-VALUES, observe that MzScheme's let-values requires a
structure of the form

	(let-values ([(i1 i2 ...) expr) ...) ...)

whereas my let-values requires a structure of one of the forms

	(let-values (i1 expr) ...)
	(let-values ((i1 i2 ... ) expr) ...)
	(let-values ((i1 i2 ... . in) expr) ...)

that is, they can be distinguished syntactically and an implementation
can support both.  (As with C++, it may be a mistake to assign meaning
to too many forms where one is a simple mistyping of the other, however :-)

--lars

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00004.html">Re: why not 3 different SRFIs</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00006.html">Re: Existing implementations</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00001.html">LET-VALUES concerns</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00002.html">why not 3 different SRFIs</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00005"><strong>Date</strong></a></li>
<li><a href="threads.html#00005"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
