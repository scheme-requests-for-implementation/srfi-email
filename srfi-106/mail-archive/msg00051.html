<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Last call -->
<!--X-From-R13: Euveb Ynjnv <fuvebNynin.arg> -->
<!--X-Date: Sun, 30 Jun 2013 13:44:43 +0200 (MST) -->
<!--X-Message-Id: 20130630.013821.1514881622299666794.shiro@lava.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 51CFFABC.8050507@ymail.com -->
<!--X-Reference: 20130629.235433.176013877447631014.shiro@lava.net -->
<!--X-Reference: 51D00830.8070601@ymail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Last call</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00050.html">Date Prev</a>][<a href="msg00052.html">Date Next</a>][<a href="msg00050.html">Thread Prev</a>][<a href="msg00054.html">Thread Next</a>][<a href="maillist.html#00051">Date Index</a>][<a href="threads.html#00051">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Last call</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-106">SRFI 106</a> from before July 7th, 2015.  The new archives for SRFI 106 are <a href="http://srfi-email.schemers.org/srfi-106/">here</a>.  The new archives contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:ktakashi@DOMAIN.HIDDEN">ktakashi@xxxxxxxxx</a></li>
<li><em>Subject</em>: Re: Last call</li>
<li><em>From</em>: Shiro Kawai &lt;<a href="mailto:shiro@DOMAIN.HIDDEN">shiro@xxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Sun, 30 Jun 2013 01:38:21 -1000 (HST)</li>
<li><em>Cc</em>: <a href="mailto:srfi-106@DOMAIN.HIDDEN">srfi-106@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-106@DOMAIN.HIDDEN">srfi-106@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:51D00830.8070601@DOMAIN.HIDDEN">51D00830.8070601@xxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:51CFFABC.8050507@DOMAIN.HIDDEN">51CFFABC.8050507@xxxxxxxxx</a>&gt;	&lt;<a href="mailto:20130629.235433.176013877447631014.shiro@DOMAIN.HIDDEN">20130629.235433.176013877447631014.shiro@xxxxxxxx</a>&gt;	&lt;<a href="mailto:51D00830.8070601@DOMAIN.HIDDEN">51D00830.8070601@xxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Good question.  IIRC, not doing shutdown(2) doesn't do any harm
if the socket is used by a single process, for the reader of
the other end gets EOF when the only process using this side
closes its fd (correct me if I'm wrong).
So my bet is call-with-socket shouldn't shutdown the socket.

The possible problem is when a child process is spawned
during the dynamic extent of call-with-socket and it keeps the
reference to the opened socket inadvertently.  But that's rather
an issue of process handling (e.g. process spawn API can
provide a way to guarantee to close all fds other than explicitly
declared to be shared).

--shiro

From: Takashi Kato &lt;ktakashi@xxxxxxxxx&gt;
Subject: Re: Last call
Date: Sun, 30 Jun 2013 12:28:00 +0200

&gt; Thanks!
&gt; 
&gt; Now, I've got a question about 'call-with-socket'. Should this
&gt; procedure shutdown the given socket as well? Since it's closed and
&gt; once it's done there is no way to grantee to call socket-shutdown with
&gt; the given socket. Or just mention that shutting down a socket is
&gt; users' responsibility is enough.
&gt; 
&gt; 
&gt; _/_/
&gt; Takashi Kato
&gt; E-mail: ktakashi@xxxxxxxxx

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00054" href="msg00054.html">Re: Last call</a></strong>
<ul><li><em>From:</em> Takashi Kato</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00048" href="msg00048.html">Re: Last call</a></strong>
<ul><li><em>From:</em> Takashi Kato</li></ul></li>
<li><strong><a name="00049" href="msg00049.html">Re: Last call</a></strong>
<ul><li><em>From:</em> Shiro Kawai</li></ul></li>
<li><strong><a name="00050" href="msg00050.html">Re: Last call</a></strong>
<ul><li><em>From:</em> Takashi Kato</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00050.html">Re: Last call</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00052.html">Re: Last call</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00050.html">Re: Last call</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00054.html">Re: Last call</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00051"><strong>Date</strong></a></li>
<li><a href="threads.html#00051"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
