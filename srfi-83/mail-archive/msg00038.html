<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: put library <body> at top&#45;level -->
<!--X-From-R13: Bre Pbguare <creNobguare.pbz> -->
<!--X-Date: Sat,  3 Dec 2005 17:16:18 +0100 (CET) -->
<!--X-Message-Id: y9lu0dqgnqu.fsf@informatik.uni&#45;tuebingen.de -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 438E0CA1.5020406@bothner.com -->
<!--X-Reference: 438E9512.30901@kcbbs.gen.nz -->
<!--X-Reference: 438E9A56.5060804@bothner.com -->
<!--X-Reference: 438ECF9B.8030707@soegaard.net -->
<!--X-Reference: 438ED22B.60304@soegaard.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: put library &lt;body&gt; at top-level</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00037.html">Date Prev</a>][<a href="msg00039.html">Date Next</a>][<a href="msg00016.html">Thread Prev</a>][<a href="msg00041.html">Thread Next</a>][<a href="maillist.html#00038">Date Index</a>][<a href="threads.html#00038">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: put library &lt;body&gt; at top-level</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-83">SRFI 83</a> from before July 7th, 2015.  The new archives for SRFI 83 are <a href="http://srfi-email.schemers.org/srfi-83/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-83@DOMAIN.HIDDEN">srfi-83@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: put library &lt;body&gt; at top-level</li>
<li><em>From</em>: Per Bothner &lt;<a href="mailto:per@DOMAIN.HIDDEN">per@xxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Thu, 01 Dec 2005 10:16:56 -0800</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-83@DOMAIN.HIDDEN">srfi-83@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:438ED22B.60304@DOMAIN.HIDDEN">438ED22B.60304@xxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:438E0CA1.5020406@DOMAIN.HIDDEN">438E0CA1.5020406@xxxxxxxxxxx</a>&gt; &lt;<a href="mailto:438E9512.30901@DOMAIN.HIDDEN">438E9512.30901@xxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:438E9A56.5060804@DOMAIN.HIDDEN">438E9A56.5060804@xxxxxxxxxxx</a>&gt; &lt;<a href="mailto:438ECF9B.8030707@DOMAIN.HIDDEN">438ECF9B.8030707@xxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:438ED22B.60304@DOMAIN.HIDDEN">438ED22B.60304@xxxxxxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Gnus/5.110003 (No Gnus v0.3) XEmacs/21.5-b21 (darwin)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Jens Axel S&#xF8;gaard wrote:
&gt;  Per Bothner wrote:
&gt; 
&gt;&gt; Tony Garnock-Jones wrote:
&gt;&gt;
&gt;&gt;&gt; - sometimes many small libraries are best expressed in a single file,
&gt;&gt;
&gt;&gt;
&gt;&gt; I think this is fairly rare, and not a very important use case.
&gt;&gt; If they're small, why should they be separate libraries?
&gt; 
&gt; 
&gt;  From a philosphical viewpoint:
&gt; 
&gt;   Since libraries in the context of this srfi is new &quot;languages&quot;,
&gt;   a small library is needed to specify a language that differ
&gt;   only slightly from an existing language.
&gt; 
&gt;  From a practical viewpoint:
&gt; 
&gt;   During initial development, it is very practical to have
&gt;   all code in a single file, divided into seperate libraries.
&gt;   When the size of the code grows, it becomes practical
&gt;   to put the libraries in seperate files.
&gt; 
&gt;   Since &quot;wrapper&quot; libraries are common (for, say, renaming a
&gt;   function, restricting the exports, adding error checks etc),
&gt;   small libraries occur often and should be easy to write and
&gt;   test.

Clearly there is no loss of functionality in requiring each library
to be in a separate file (as long we can't nest libraries).

So allowing multiple small libraries is question of convenience in
some cases.  You have to balance this against other factors of
convenience.  The main factor is how the implementation and the
user can *find* a library.  If library-name == URI, then
finding and installing libraries is very easy for both computers
and humans.  If a &quot;file&quot; contains multiple libraries then a
more complicated mechanism must be used.

The specification seems to require some kind of active &quot;install&quot;
concept, to install a file containing a collection of libraries
into a &quot;database&quot; before the library can be imported.  If
instead we have library-name == URI, then &quot;installing&quot; a library
is a more passive concept of just making it in its proper location
in the search-path.

There are other convenience factors, such as the syntactic issue
of having definition in a library &lt;body&gt; not be nested, which
makes it easier to move existig code into libraries.
-- 
	--Per Bothner
per@xxxxxxxxxxx   <a  rel="nofollow" href="http://per.bothner.com/">http://per.bothner.com/</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00002" href="msg00002.html">put library &lt;body&gt; at top-level</a></strong>
<ul><li><em>From:</em> Per Bothner</li></ul></li>
<li><strong><a name="00009" href="msg00009.html">Re: put library &lt;body&gt; at top-level</a></strong>
<ul><li><em>From:</em> Tony Garnock-Jones</li></ul></li>
<li><strong><a name="00011" href="msg00011.html">Re: put library &lt;body&gt; at top-level</a></strong>
<ul><li><em>From:</em> Per Bothner</li></ul></li>
<li><strong><a name="00015" href="msg00015.html">Re: put library &lt;body&gt; at top-level</a></strong>
<ul><li><em>From:</em> Jens Axel S&#xF8;gaard</li></ul></li>
<li><strong><a name="00016" href="msg00016.html">Re: put library &lt;body&gt; at top-level</a></strong>
<ul><li><em>From:</em> Jens Axel S&#xF8;gaard</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00037.html">Re: put library &lt;body&gt; at top-level</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00039.html">import suggestion</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00016.html">Re: put library &lt;body&gt; at top-level</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00041.html">Re: put library &lt;body&gt; at top-level</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00038"><strong>Date</strong></a></li>
<li><a href="threads.html#00038"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
