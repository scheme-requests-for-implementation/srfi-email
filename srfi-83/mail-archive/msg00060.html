<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: fundamental design issues (long message) -->
<!--X-From-R13: Bre Pbguare <creNobguare.pbz> -->
<!--X-Date: Sat,  3 Dec 2005 19:50:30 +0100 (CET) -->
<!--X-Message-Id: 4391E8E6.8000307@bothner.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20051202221700.2B43C9805C@pluto.mumble.net -->
<!--X-Reference: Pine.LNX.4.58.0512021732090.631@bolt.sonic.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: fundamental design issues (long message)</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00059.html">Date Prev</a>][<a href="msg00061.html">Date Next</a>][<a href="msg00057.html">Thread Prev</a>][<a href="msg00071.html">Thread Next</a>][<a href="maillist.html#00060">Date Index</a>][<a href="threads.html#00060">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: fundamental design issues (long message)</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: bear &lt;<a href="mailto:bear@DOMAIN.HIDDEN">bear@xxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: fundamental design issues (long message)</li>
<li><em>From</em>: Per Bothner &lt;<a href="mailto:per@DOMAIN.HIDDEN">per@xxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Sat, 03 Dec 2005 10:50:14 -0800</li>
<li><em>Cc</em>: <a href="mailto:srfi-83@DOMAIN.HIDDEN">srfi-83@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-83@DOMAIN.HIDDEN">srfi-83@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:Pine.LNX.4.58.0512021732090.631@DOMAIN.HIDDEN">Pine.LNX.4.58.0512021732090.631@xxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:20051202221700.2B43C9805C@DOMAIN.HIDDEN">20051202221700.2B43C9805C@xxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:Pine.LNX.4.58.0512021732090.631@DOMAIN.HIDDEN">Pine.LNX.4.58.0512021732090.631@xxxxxxxxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Mozilla Thunderbird 1.0.6-1.1.fc4 (X11/20050720)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
bear wrote:

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Now, for the luxury of not having to actually write the
forward declarations and manually keep them in sync with
the source code, that might be worth it.  But there's a
deeper issue that messes up the compile-farm model; how
do I detect when the autogenerated forward-declaration
resources have become stale?  Since they're autogenerated
from source code, a simple dependency model indicates that
they become stale when the associated source code changes.
But that means that *EVERY* change in the source for a
module results in a new forward-declarations resource for
that module, and that triggers a recompile of *EVERY*
module that calls anything in the changed module. The
development of large projects thrashes to a halt as all
the developers run screaming.
</pre></blockquote><pre style="margin: 0em;">

When you compile libraryX you generate a compilation result
(bytecode, assembler, or maybe just a distillation of the
source).  You also get a &quot;abstract&quot; which is the &quot;forwards-
declaration resource&quot; you mention.  Other libraries that
import moduleX only use its abstract file.  To avoid a
needless cascase of recompilations, the trick is when
compiling libraryX you only update its abstract if it has
changed from the pervious version.  Alternatively, you
reset it's timestamp to an earlier version if it hasn't
changed.  Then moduleY only needs to be recompiled if
moduleX's abstract has changed, not for any change to moduleX.
--
	--Per Bothner
per@xxxxxxxxxxx   <a  rel="nofollow" href="http://per.bothner.com/">http://per.bothner.com/</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00071" href="msg00071.html">library representation (was Re: fundamental design issues)</a></strong>
<ul><li><em>From:</em> Ray Blaak</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00059.html">Re: fundamental design issues (long message) [files]</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00061.html">Re: Questions, loose ends, misprints, etc.</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00057.html">Re: fundamental design issues (long message)</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00071.html">library representation (was Re: fundamental design issues)</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00060"><strong>Date</strong></a></li>
<li><a href="threads.html#00060"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
