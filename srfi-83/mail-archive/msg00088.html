<!-- MHonArc v2.6.15 -->
<!--X-Subject: Reified modules, module = environment? -->
<!--X-From-R13: ngrujnNfnatr.sv -->
<!--X-Date: Tue, 10 Jan 2006 17:07:25 +0100 (MET) -->
<!--X-Message-Id: 20060110160722.GB476@medborgon.saunalahti.fi -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Reified modules, module = environment?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00087.html">Date Prev</a>][<a href="msg00089.html">Date Next</a>][<a href="msg00080.html">Thread Prev</a>][<a href="msg00089.html">Thread Next</a>][<a href="maillist.html#00088">Date Index</a>][<a href="threads.html#00088">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Reified modules, module = environment?</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-83">SRFI 83</a> from before July 7th, 2015.  The new archives for SRFI 83 are <a href="http://srfi-email.schemers.org/srfi-83/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-83@DOMAIN.HIDDEN">srfi-83@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Reified modules, module = environment?</li>
<li><em>From</em>: <a href="mailto:atehwa@DOMAIN.HIDDEN">atehwa@xxxxxxxx</a></li>
<li><em>Date</em>: Tue, 10 Jan 2006 18:07:22 +0200</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-83@DOMAIN.HIDDEN">srfi-83@xxxxxxxxxxxxxxxxx</a></li>
<li><em>User-agent</em>: Mutt/1.5.6i</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>I'm not sure what to think about this proposal.  On the one hand, it
provides a long-yearned facility with a standard syntax, simple, easy to
understand and relatively generic.  On the other hand, it is
un-Scheme-like in many ways -- probably because many of the existing
implementations, after which this SRFI has been modelled, are that too.
Modules are not objects.  They are identified by strings, not even
symbols.  The syntax doesn't seem to be very generic nor neutral about
execution phases: it presupposes there to be two.  The library system is
accessible to neither phase; both phases must operate &quot;within it&quot;.  The
syntax is not integrated with the core language, but is an add-on.

What I find particularly problematic is that here _protocol_ is
specified before _mechanism_.  First-class reified continuations were
specified before exception and indeterminism facilities, because
continuations are the mechanism, and exceptions are a protocol for using
that mechanism.  Vectors were specified before records, because vectors
are the mechanism and records are a protocol for using that mechanism.
Admittedly, define-syntax (a protocol) was specified before specifying
what syntax transformers are, but now we have Andre's simple, elegant
and versatile macro mechanism that allows us to bring syntax and syntax
transformers back into the realm of Scheme basic data types.

Remember this sentence?  &quot;Programming languages should be designed not
by piling feature on top of feature, but by removing the weaknesses and
restrictions that make additional features appear necessary.&quot;  Scheme
people should think as much as possible how to provide a powerful enough
core that extensions can be made in Scheme.  Having devised sufficient
facilities for libraries in the core, SRFI's can standardise on a
library syntax.  By removing restrictions, such as the artificial
barrier between the library engine and the evaluation engine, we obtain
a language that is both more expressive and simpler.

It happens that R5RS already has a facility that _almost_ implements
modules.  This facility is called an &quot;environment&quot;.  Environments
contain values for symbols, exactly like modules do.  They only lack a
few properties to be used as full-fledged modules: the ability to create
new, empty environments and the possibility to query an environment for
the bindings it contains.  If we continue on the track now chosen, we
will have a language full of half-fledged utilities, all somewhat
similar, all restricted in different ways: environments, modules, hash
tables, objects, and records.

That's not a nice state to be in.  How about specifying the mechanism in
the report, and leave protocol to SRFI's?  It's slow, but that's the
Scheme way, at least it has been.  It has the additional bonus that the
language gets more powerful, more SRFI's can be written in pure Scheme
(because of the reflective abilities), and programmers that really
dislike the library syntax can fix it.  IOW, freedom, and possibility to
continue language research, in Scheme.

Panu

-- 
personal contact:	panu.kalliokoski@xxxxxxxxxxx, +35841 5323835
technical contact:	atehwa@xxxxxx, <a  rel="nofollow" href="http://www.iki.fi/atehwa/">http://www.iki.fi/atehwa/</a>
PGP fingerprint:	0EA5 9D33 6590 FFD4 921C  5A5F BE85 08F1 3169 70EC

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00089" href="msg00089.html">Re: Reified modules, module = environment?</a></strong>
<ul><li><em>From:</em> bear</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00087.html">Re: Independent optimizing compilation</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00089.html">Re: Reified modules, module = environment?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00080.html">Reference implementation available?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00089.html">Re: Reified modules, module = environment?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00088"><strong>Date</strong></a></li>
<li><a href="threads.html#00088"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
