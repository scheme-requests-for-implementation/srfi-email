<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Questions, loose ends, misprints, etc. -->
<!--X-From-R13: Bre Pbguare <creNobguare.pbz> -->
<!--X-Date: Thu,  1 Dec 2005 18:21:14 +0100 (CET) -->
<!--X-Message-Id: 438F30F2.3060005@bothner.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 200512011500.jB1F0UjA024500@later.het.brown.edu -->
<!--X-Reference: 200512011559.jB1FxmQm025955@slow.flux.utah.edu -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Questions, loose ends, misprints, etc.</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00029.html">Date Prev</a>][<a href="msg00031.html">Date Next</a>][<a href="msg00020.html">Thread Prev</a>][<a href="msg00031.html">Thread Next</a>][<a href="maillist.html#00030">Date Index</a>][<a href="threads.html#00030">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Questions, loose ends, misprints, etc.</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-83">SRFI 83</a> from before July 7th, 2015.  The new archives for SRFI 83 are <a href="http://srfi-email.schemers.org/srfi-83/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Matthew Flatt &lt;<a href="mailto:mflatt@DOMAIN.HIDDEN">mflatt@xxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: Questions, loose ends, misprints, etc.</li>
<li><em>From</em>: Per Bothner &lt;<a href="mailto:per@DOMAIN.HIDDEN">per@xxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Thu, 01 Dec 2005 09:20:50 -0800</li>
<li><em>Cc</em>: Andre van Tonder &lt;<a href="mailto:andre@DOMAIN.HIDDEN">andre@xxxxxxxxxxxxxxxxxxx</a>&gt;,	<a href="mailto:srfi-83@DOMAIN.HIDDEN">srfi-83@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-83@DOMAIN.HIDDEN">srfi-83@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:200512011559.jB1FxmQm025955@DOMAIN.HIDDEN">200512011559.jB1FxmQm025955@xxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:200512011500.jB1F0UjA024500@DOMAIN.HIDDEN">200512011500.jB1F0UjA024500@xxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:200512011559.jB1FxmQm025955@DOMAIN.HIDDEN">200512011559.jB1FxmQm025955@xxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Mozilla Thunderbird 1.0.6-1.1.fc4 (X11/20050720)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Andre van Tonder wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><tt>- Would it be possible to provide a rationale for the notion of 
</tt><tt> indirect exports
</tt></blockquote><pre style="margin: 0em;">

Matthew Flatt wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Indirect exports ensure that that all access and mutations to
unexported bindings are apparent within the module (afer macro
expansion). Consequently, the programmer and the compiler can
potentially prove that certain bindings are always used in a certain
way, such as &quot;this unexported function is never called with the wrong
number of arguments&quot;. This potential is particularly important for
optimizing compilers.
</pre></blockquote><pre style="margin: 0em;">

I don't understand.  Doesn't lexical scoping do that?
If I do:

(library &quot;foo-counter&quot; &quot;scheme://r6rs&quot;
  (export get-foo incr-foo)
  (define foo 1)
  (define-syntax get-foo
    (syntax-rules ()
      ((get-foo)
       foo)))
  (define-syntax incr-foo
    (syntax-rules ()
      ((incr-foo)
       (set! foo (+ foo 1))))))

[Not sure about the exact syntax for 'exports' - srfi-83.html
is inaccessible right now.]

In the example, get-foo and incr-foo are exported, but foo itself is
not.  The compiler can prove that foo is never modified expect by
using incr-foo.  No indirect-exports declaration seems to be needed.

Or is indirect-exports meant for something different?

Kawa's module system allows get-foo and incr-foo to be exported
without foo, essentially as above.

--
	--Per Bothner
per@xxxxxxxxxxx   <a  rel="nofollow" href="http://per.bothner.com/">http://per.bothner.com/</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00031" href="msg00031.html">Re: Questions, loose ends, misprints, etc.</a></strong>
<ul><li><em>From:</em> Matthew Flatt</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00018" href="msg00018.html">Questions, loose ends, misprints, etc.</a></strong>
<ul><li><em>From:</em> Andre van Tonder</li></ul></li>
<li><strong><a name="00020" href="msg00020.html">Re: Questions, loose ends, misprints, etc.</a></strong>
<ul><li><em>From:</em> Matthew Flatt</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00029.html">Re: indirect-export in macro</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00031.html">Re: Questions, loose ends, misprints, etc.</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00020.html">Re: Questions, loose ends, misprints, etc.</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00031.html">Re: Questions, loose ends, misprints, etc.</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00030"><strong>Date</strong></a></li>
<li><a href="threads.html#00030"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
