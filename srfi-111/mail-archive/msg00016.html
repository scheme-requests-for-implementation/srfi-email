<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Lexical syntax for boxes -->
<!--X-From-R13: Oyrkrl Dnqhy <nkbspuNtznvy.pbz> -->
<!--X-Date: Tue, 21 May 2013 14:24:51 +0200 (MST) -->
<!--X-Message-Id: CAPKQtS_5sNx1JqaBwW8+5=Qb&#45;vCDgP_y3jG2DbhY1wQzQBRujA@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20130517180907.GB16894@mercury.ccil.org -->
<!--X-Reference: CAOBNZ7atriJgsf&#45;XyFkD0sFBabZ99v+qoGJyW&#45;8gC9NZULPeFg@mail.gmail.com -->
<!--X-Reference: 20130517200314.GE16894@mercury.ccil.org -->
<!--X-Reference: 5196935E.6060909@bothner.com -->
<!--X-Reference: CAMMPzYPr5xn9_hyuEjkVJXP8Z=Bfao4JVEj3RH9H6ms22ue0gw@mail.gmail.com -->
<!--X-Reference: 79EBCE44&#45;5116&#45;482E&#45;BB67&#45;569C30E525F8@alan&#45;watson.org -->
<!--X-Reference: 20130521053814.GA9643@mercury.ccil.org -->
<!--X-Reference: 5D9C8708&#45;4AFF&#45;4E72&#45;B106&#45;ED8750B33ABB@alan&#45;watson.org -->
<!--X-Reference: 20130521061732.GC9643@mercury.ccil.org -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Lexical syntax for boxes</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00015.html">Date Prev</a>][<a href="msg00017.html">Date Next</a>][<a href="msg00013.html">Thread Prev</a>][<a href="msg00018.html">Thread Next</a>][<a href="maillist.html#00016">Date Index</a>][<a href="threads.html#00016">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Lexical syntax for boxes</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: John Cowan &lt;<a href="mailto:cowan@DOMAIN.HIDDEN">cowan@xxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: Lexical syntax for boxes</li>
<li><em>From</em>: Alexey Radul &lt;<a href="mailto:axofch@DOMAIN.HIDDEN">axofch@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Tue, 21 May 2013 08:19:35 -0400</li>
<li><em>Cc</em>: Alan Watson &lt;<a href="mailto:alan@DOMAIN.HIDDEN">alan@xxxxxxxxxxxxxxx</a>&gt;, <a href="mailto:srfi-111@DOMAIN.HIDDEN">srfi-111@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-111@DOMAIN.HIDDEN">srfi-111@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=20120113;        h=mime-version:in-reply-to:references:date:message-id:subject:from:to         :cc:content-type;        bh=RypU/GUAj8cfCS3zdhe6iIy+02HtcGoCUMhnV1tYjO0=;        b=NFB0U8Pn6nF9JpvAAmVtcvB+HX8SThW2YDnX/JQ4ka13UneMhDXlswecJGdDoB5382         w17thtGIYPAfJ/TEusbeyLO6TLMgMEf4TQDxDvnVQGs/br7woPj4T0N6kroAGAxLw/QL         oAcyQkAO40MdyHfPt+8P/Diwtse/kiYAlfnfYDupgh0LMGMdSQzkXNB3sOv61fyd4JYA         VJ5QipinSLbPGy+Lz1i2r1TPWjLzLbY8xCF50Sxw6+rvjp4moxDqAue39Iz7/qg4vxDP         spDWeD654vwkoT4189UpdXT0I+PNhtLFo7AB6AWMG/SdmFpCe/RScgqMBOmTs54zbrZ7         ZgkA==</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:20130521061732.GC9643@DOMAIN.HIDDEN">20130521061732.GC9643@xxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:20130517180907.GB16894@DOMAIN.HIDDEN">20130517180907.GB16894@xxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:CAOBNZ7atriJgsf-XyFkD0sFBabZ99v%2BqoGJyW-8gC9NZULPeFg@DOMAIN.HIDDEN">CAOBNZ7atriJgsf-XyFkD0sFBabZ99v+qoGJyW-8gC9NZULPeFg@xxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:20130517200314.GE16894@DOMAIN.HIDDEN">20130517200314.GE16894@xxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:5196935E.6060909@DOMAIN.HIDDEN">5196935E.6060909@xxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:CAMMPzYPr5xn9_hyuEjkVJXP8Z%3DBfao4JVEj3RH9H6ms22ue0gw@DOMAIN.HIDDEN">CAMMPzYPr5xn9_hyuEjkVJXP8Z=Bfao4JVEj3RH9H6ms22ue0gw@xxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:79EBCE44-5116-482E-BB67-569C30E525F8@DOMAIN.HIDDEN">79EBCE44-5116-482E-BB67-569C30E525F8@xxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:20130521053814.GA9643@DOMAIN.HIDDEN">20130521053814.GA9643@xxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:5D9C8708-4AFF-4E72-B106-ED8750B33ABB@DOMAIN.HIDDEN">5D9C8708-4AFF-4E72-B106-ED8750B33ABB@xxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:20130521061732.GC9643@DOMAIN.HIDDEN">20130521061732.GC9643@xxxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Tue, May 21, 2013 at 2:17 AM, John Cowan &lt;cowan@xxxxxxxxxxxxxxxx&gt; wrote:
&gt; Alan Watson scripsit:
&gt;&gt; Defining `equal?` on boxes to be more like `equal?` on vectors of
&gt;&gt; length 1 would be more useful, I think.
&gt;
&gt; It might or it might not be, depending on one's needs.  You might want
&gt; `equal?` to look right through boxes, or you might want to insist that
&gt; boxes are `equal?` only if they are `eqv?`.  That's why a generalized
&gt; equality predicate that can, but need not, descend into various things
&gt; is so useful: you can tailor it to your needs and easily create your own
&gt; best equality predicate(s) for each new circumstance.  That allows the
&gt; exact details of what `equal?` does to be of mostly historical interest:
&gt; it does the right thing in simple cases, and is implementation-dependent
&gt; elsewhere.

I don't think that's right.  The whole point of boxes is to be
mutable; which means the correct treatment [1] thereof by equality
predicates is to compare by identity.  The only situation in which it
might be reasonable for an equality predicate to compare the contents
of boxes would be if they were both immutable.  In this case, however,
it may not be unreasonable to permit even eqv? and eq? to compare the
boxes' contents, on the grounds that an immutable box is a complete
no-op whose runtime representation may be worth eliding.  That sounds
too complicated to bring up, though.

[1] <a  rel="nofollow" href="http://www.pipeline.com/~hbaker1/ObjectIdentity.html">http://www.pipeline.com/~hbaker1/ObjectIdentity.html</a>

~Alexey

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00018" href="msg00018.html">Re: Lexical syntax for boxes</a></strong>
<ul><li><em>From:</em> John Cowan</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00000" href="msg00000.html">Boxes: halfway through the comment period and no comments</a></strong>
<ul><li><em>From:</em> John Cowan</li></ul></li>
<li><strong><a name="00003" href="msg00003.html">Re: Boxes: halfway through the comment period and no comments</a></strong>
<ul><li><em>From:</em> David Banks</li></ul></li>
<li><strong><a name="00004" href="msg00004.html">Re: Boxes: halfway through the comment period and no comments</a></strong>
<ul><li><em>From:</em> John Cowan</li></ul></li>
<li><strong><a name="00005" href="msg00005.html">Lexical syntax for boxes</a></strong>
<ul><li><em>From:</em> Per Bothner</li></ul></li>
<li><strong><a name="00009" href="msg00009.html">Re: Lexical syntax for boxes</a></strong>
<ul><li><em>From:</em> Alex Shinn</li></ul></li>
<li><strong><a name="00010" href="msg00010.html">Re: Lexical syntax for boxes</a></strong>
<ul><li><em>From:</em> Alan Watson</li></ul></li>
<li><strong><a name="00011" href="msg00011.html">Re: Lexical syntax for boxes</a></strong>
<ul><li><em>From:</em> John Cowan</li></ul></li>
<li><strong><a name="00012" href="msg00012.html">Re: Lexical syntax for boxes</a></strong>
<ul><li><em>From:</em> Alan Watson</li></ul></li>
<li><strong><a name="00013" href="msg00013.html">Re: Lexical syntax for boxes</a></strong>
<ul><li><em>From:</em> John Cowan</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00015.html">Re: Lexical syntax for boxes</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00017.html">Re: Lexical syntax for boxes</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00013.html">Re: Lexical syntax for boxes</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00018.html">Re: Lexical syntax for boxes</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00016"><strong>Date</strong></a></li>
<li><a href="threads.html#00016"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
