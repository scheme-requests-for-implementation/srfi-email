<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Shared substrings -->
<!--X-From-R13: revx uvyfqnyr <ruvyfqnyNpf.vaqvnan.rqh> -->
<!--X-Date: Thu, 4 May 2000 10:53:58 &#45;0500 (CDT) -->
<!--X-Message-Id: lhug0ryz4z1.fsf@gont.parc.xerox.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 9XCE58XCDXSG092yn@d.kth.se -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Shared substrings</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00090.html">Date Prev</a>][<a href="msg00094.html">Date Next</a>][<a href="msg00091.html">Thread Prev</a>][<a href="msg00098.html">Thread Next</a>][<a href="maillist.html#00093">Date Index</a>][<a href="threads.html#00093">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Shared substrings</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:d96-mst-ingen-reklam@DOMAIN.HIDDEN">d96-mst-ingen-reklam@xxxxxxxx</a> (Mikael St&#xE5;ldal)</li>
<li><em>Subject</em>: Re: Shared substrings</li>
<li><em>From</em>: erik hilsdale &lt;<a href="mailto:ehilsdal@DOMAIN.HIDDEN">ehilsdal@xxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Thu, 4 May 2000 08:53:46 PDT</li>
<li><em>Cc</em>: <a href="mailto:srfi-13@DOMAIN.HIDDEN">srfi-13@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: <a href="mailto:d96-mst-ingen-reklam@DOMAIN.HIDDEN">d96-mst-ingen-reklam@xxxxxxxx</a>'s message of &quot;Wed, 03 May 2000 14:13:33 +0100&quot;</li>
<li><em>Original-sender</em>: Erik Hilsdale &lt;<a href="mailto:hilsdale@DOMAIN.HIDDEN">hilsdale@xxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:9XCE58XCDXSG092yn@DOMAIN.HIDDEN">9XCE58XCDXSG092yn@xxxxxxxx</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:eh@DOMAIN.HIDDEN">eh@xxxxxxxxxxxxxx</a></li>
<li><em>User-agent</em>: Gnus/5.0803 (Gnus v5.8.3) Emacs/20.5</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
ms == d96-mst-ingen-reklam@xxxxxxxx (Mikael St&#xE5;ldal)

  ms&gt; I still don't like the current practice of allowing START and
  ms&gt; END parameters to almost every procedures, since this encourage
  ms&gt; a bad programming style. If you need the performance of shared
  ms&gt; substrings, you should use a Scheme implementation which have
  ms&gt; that, or write your programs in C instead, IMHO.

If we were writing a language spec then I might fight to keep these
optional parameters out.  Then I would have the power to require all
implementors of the language to implement shared substrings.  I might
even require them to optimize

        (string-foo (substring mystr 33 99))
        ==&gt; (%string-foo mystr 33 99)

so even programmers who are as miserly about generating garbage as I
am would be comfortable with using shared substrings, knowing that the
sharing would only be virtual in the common case.

But we're not writing (well, editing? taking pot shots at?) a language
spec.  We're writing a library spec, and one that should be useful to
even those few unimportant Scheme implementations developed by people
who for some reason or another had better things to do than add shared
substring support to their runtime.

I wish that I could treat the three elements of a substring as one
argument and yet be guaranteed it would be passed in three
registers/framelocs/whatever in the common non-heap-allocated case.
That is, I wish Scheme had/required ML's tuple unpacking.  It (the
language, and all implementations of it that I'm aware of) doesn't and
it (the language) never will.

But I sometimes need the speed that such unpacking would give me.  I
like the optional arguments.  I'll use them when I need such
efficiency.  Heck, I've already used versions of half of them
(versions that, alas, didn't have the benefit of Olin's consistent
design) in my CGI scripting in Chez Scheme.  Bad programming style?
I'm not convinced.  An idiom forced upon us to get efficiency out of a
non-statically-typed-and-frequently-incrementally-compiled language?
Sure.

  ms&gt; However, I have a compromise idea. Instead of the optional START
  ms&gt; and END parameters, allow using a list '(s start end) instead of
  ms&gt; the string parameter. 

I'm not sure I understand how this is a win over the optional
start/end parameters, apart from generating more garbage and feeling
more Lispy (&quot;Lists can do anything!  We can even treat them as
strings.  Sometimes&quot;).

-erik

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00098" href="msg00098.html">Re: Shared substrings</a></strong>
<ul><li><em>From:</em> Mikael Ståldal</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00091" href="msg00091.html">Shared substrings</a></strong>
<ul><li><em>From:</em> Mikael Ståldal</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00090.html">KMP</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00094.html">Re: Shared substrings</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00091.html">Shared substrings</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00098.html">Re: Shared substrings</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00093"><strong>Date</strong></a></li>
<li><a href="threads.html#00093"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
