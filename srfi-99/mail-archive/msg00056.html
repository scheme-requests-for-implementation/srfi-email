<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: why generative? -->
<!--X-From-R13: Ivyyvnz R Qyvatre <jvyyNppf.arh.rqh> -->
<!--X-Date: Thu,  3 Sep 2009 17:10:47 +0000 (UTC) -->
<!--X-Message-Id: 24537952.481111251997839261.JavaMail.root@zimbra -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1881374.479241251990782943.JavaMail.root@zimbra -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: why generative?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00055.html">Date Prev</a>][<a href="msg00057.html">Date Next</a>][<a href="msg00064.html">Thread Prev</a>][<a href="msg00057.html">Thread Next</a>][<a href="maillist.html#00056">Date Index</a>][<a href="threads.html#00056">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: why generative?</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-99">SRFI 99</a> from before July 7th, 2015.  The new archives for SRFI 99 are <a href="http://srfi-email.schemers.org/srfi-99/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-99@DOMAIN.HIDDEN">srfi-99@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: why generative?</li>
<li><em>From</em>: William D Clinger &lt;<a href="mailto:will@DOMAIN.HIDDEN">will@xxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Thu, 3 Sep 2009 13:10:39 -0400 (EDT)</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-99@DOMAIN.HIDDEN">srfi-99@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:1881374.479241251990782943.JavaMail.root@DOMAIN.HIDDEN">1881374.479241251990782943.JavaMail.root@zimbra</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>I responded to Shiro, but neglected to cc srfi-99.  Here it is,
with a minor correction.

Shiro Kawai wrote:
&gt; Yeah, that was my mistake.  We don't even need to calculate
&gt; a hash value.  Make-rtd can create a symbol that encodes the
&gt; input values that matter (e.g. concatenating canonical
&gt; representations of each value with a special separator).
&gt; Such a symbol serves as a unique id.

Maybe, but I still don't see it.  What if one of the arguments
to make-rtd is a mutable record?  If you concatenate a flattened
representation of its current state, you won't get a match if
the same record is mutated and then used in a subsequent call
to make-rtd.

Even if all of the arguments to make-rtd are immutable, some may
contain mutable records, so you can't get around that just by
using eqv? to compare mutable fields.  I don't yet see a coherent
semantics.

&gt; It still requires one pointer dereference compared to the
&gt; eq?-style pointer comparison.

If that were all it required, I wouldn't care about that.
I'm more concerned about the semantics and what seems to me
to be an implied recursion that compares potentially circular
and potentially mutable objects.

&gt; I do see it a big disadvantage that R6RS-style nongenerative
&gt; uid implies a separate global namespace *semantically*.
&gt; We've been very careful introducing separate namespaces, and
&gt; I don't feel like this uid namespace is justified well.
&gt; Making rtd &quot;functional&quot; is one way to eliminate this separate
&gt; global namespace.

One standard justification for using generative or nominal
equality as the default instead of structural equality comes
from records whose fields have implicit units.  Consider,
for example, several record types that both contain immutable
fields x and y.  Some represent points in polar coordinates,
others in Cartesian; some use inches as the units, others use
light-years; others don't represent points at all.

With your proposal, all those record types would be treated
as the same unless the programmers remember to add a unique
object that differentiates them.  The R6RS approach of using
a uid when you want them to be the same feels less dangerous
to me.

Will

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00057" href="msg00057.html">Re: why generative?</a></strong>
<ul><li><em>From:</em> Andre van Tonder</li></ul></li>
<li><strong><a name="00058" href="msg00058.html">Re: why generative?</a></strong>
<ul><li><em>From:</em> Shiro Kawai</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00055.html">Re: why generative?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00057.html">Re: why generative?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00064.html">Re: why generative?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00057.html">Re: why generative?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00056"><strong>Date</strong></a></li>
<li><a href="threads.html#00056"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
