<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Why vectors? -->
<!--X-From-R13: Rrevpx Sqqvatgba <qrevpx.rqqvatgbaNtznvy.pbz> -->
<!--X-Date: Tue, 12 Aug 2008 02:32:38 +0200 (MST) -->
<!--X-Message-Id: 1218501154.31048.244.camel@eep -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1218433189.7249.107.camel@eep -->
<!--X-Reference: Pine.LNX.4.61.0808110032000.17650@tesseract.thetesseract.org -->
<!--X-Reference: 1218491565.31048.172.camel@eep -->
<!--X-Reference: Pine.LNX.4.61.0808111527430.17650@tesseract.thetesseract.org -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Why vectors?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00027.html">Date Prev</a>][<a href="msg00029.html">Date Next</a>][<a href="msg00020.html">Thread Prev</a>][<a href="msg00015.html">Thread Next</a>][<a href="maillist.html#00028">Date Index</a>][<a href="threads.html#00028">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Why vectors?</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-99">SRFI 99</a> from before July 7th, 2015.  The new archives for SRFI 99 are <a href="http://srfi-email.schemers.org/srfi-99/">here</a>.  The new archives contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Elf &lt;<a href="mailto:elf@DOMAIN.HIDDEN">elf@xxxxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: Why vectors?</li>
<li><em>From</em>: Derick Eddington &lt;<a href="mailto:derick.eddington@DOMAIN.HIDDEN">derick.eddington@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Mon, 11 Aug 2008 17:32:34 -0700</li>
<li><em>Cc</em>: <a href="mailto:srfi-99@DOMAIN.HIDDEN">srfi-99@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-99@DOMAIN.HIDDEN">srfi-99@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma;        h=domainkey-signature:received:received:subject:from:to:cc         :in-reply-to:references:content-type:date:message-id:mime-version         :x-mailer:content-transfer-encoding;        bh=boUun7ddmmgNuiufw0DbxpkMgEtIvhf3Ey5YGrtt36U=;        b=wUKQpEwAb+JZjhGELbxNBpyhLJsPHszkjlxZugLq7ynmVvCUjnk+RPrbAlKGx5Xv1J         lRAe5Koh3MJLlRsP/beurJv4OmMZgOtPcfDNfaYx0T+Pikarbrjnfczt1FXl4cx47jKp         X67rza2vBRgmE0kglFzsPubY/dC1zCIKG5xRE=</li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma;        h=subject:from:to:cc:in-reply-to:references:content-type:date         :message-id:mime-version:x-mailer:content-transfer-encoding;        b=RAdsC0Xt6huscv63yHOxVZLG7leDd+vwSjvnST9zpPoSIQNhDq87z40BfhEHzA+WgE         n6Nw+rkKEsGeNiwU7HSPdUeAKPWaAAQIoLZHQ8QDgOqx7c9lonyfGP2WBHA1SzrwzoAL         +ykhPTdbIvMM9iGbIMcBFpazSRAWu+FGgardI=</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:Pine.LNX.4.61.0808111527430.17650@DOMAIN.HIDDEN">Pine.LNX.4.61.0808111527430.17650@xxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:1218433189.7249.107.camel@DOMAIN.HIDDEN"><a href="msg00007.html">1218433189.7249.107.camel@eep</a></a>&gt;	 &lt;<a href="mailto:Pine.LNX.4.61.0808110032000.17650@DOMAIN.HIDDEN">Pine.LNX.4.61.0808110032000.17650@xxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;	 &lt;<a href="mailto:1218491565.31048.172.camel@DOMAIN.HIDDEN"><a href="msg00017.html">1218491565.31048.172.camel@eep</a></a>&gt;	 &lt;<a href="mailto:Pine.LNX.4.61.0808111527430.17650@DOMAIN.HIDDEN">Pine.LNX.4.61.0808111527430.17650@xxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Mon, 2008-08-11 at 15:29 -0700, Elf wrote:
&gt; On Mon, 11 Aug 2008, Derick Eddington wrote:
&gt; 
&gt; &gt; On Mon, 2008-08-11 at 00:38 -0700, Elf wrote:
&gt; &gt;&gt; On Sun, 10 Aug 2008, Derick Eddington wrote:
&gt; &gt;&gt;
&gt; &gt;&gt;&gt; Why are vectors and not lists used for make-rtd's and rtd-constructor's
&gt; &gt;&gt;&gt; fieldspecs arguments and for rtd-field-names's and rtd-all-field-names's
&gt; &gt;&gt;&gt; return values?  Is the only reason to follow R6RS's use of vectors?  If
&gt; &gt;&gt;&gt; so, I request lists be used instead because they're easier to deal with,
&gt; &gt;&gt;&gt; as shown by how much list&lt;-&gt;vector conversion is done in the ERR5RS
&gt; &gt;&gt;&gt; reference implementation itself.  Using lists instead would increase the
&gt; &gt;&gt;&gt; appeal of this SRFI to me, and I think to others also.  IMO,
&gt; &gt;&gt;&gt; interoperating with the R6RS records procedures that deal in vectors
&gt; &gt;&gt;&gt; without having to convert list&lt;-&gt;vector is not a good enough reason
&gt; &gt;&gt;&gt; compared to the benefit of using lists with one's primary record system
&gt; &gt;&gt;&gt; of use, because interoperating at the procedural level where these
&gt; &gt;&gt;&gt; vectors matter will be rare (I imagine).  Or is there a good reason to
&gt; &gt;&gt;&gt; use vectors?
&gt; &gt;&gt;
&gt; &gt;&gt; Vector referencing is in constant time.  List referencing is in linear time.
&gt; &gt;&gt; Vector mutation is in constant time.  List mutation is in linear time.
&gt; &gt;&gt;
&gt; &gt;&gt; As records are essentially vectors (constant sized, fixed order, etc) with
&gt; &gt;&gt; procedures mapping to indices, using lists would be a significant performance
&gt; &gt;&gt; cost for no benefit: one generally doesn't iterate over the elements of a
&gt; &gt;&gt; record.  Record types are for grouping related *but independently used* data
&gt; &gt;&gt; together.
&gt; &gt;
&gt; &gt; I'm suggesting lists be considered for make-rtd's and rtd-constructor's
&gt; &gt; fieldspecs arguments and for rtd-field-names' and rtd-all-field-names'
&gt; &gt; return values not to assist iterating over the elements of a record but
&gt; &gt; to assist iterating over, searching, composing, and manipulating the
&gt; &gt; API's field specifiers.
&gt; &gt;
&gt; &gt;
&gt; 
&gt; when/why/how would these operations be necessary or even useful, generally
&gt; speaking?  

When making your own layers on top of the ERR5RS records procedural and
inspection layers, which is one of the main purposes of exposing these
layers.

&gt; that would be akin to iterating, searching, composing, and
&gt; manipulating a C struct definition.  it just doesnt make sense.

Well, Scheme is all about code defining code and being able to build up
arbitrary layers on top of layers.  Why make the API's field specifiers
less convenient if it's unnecessary?  

Why are vectors necessary for the syntax of the arguments to make-rtd
and rtd-constructor?  Why are vectors needed for the return values of
rtd-field-names and rtd-all-field-names, when you're requesting a
sequence of the field names so you can work with it?

Look at the vector&lt;-&gt;list converting done in the draft's reference
implementation for an example of working with these field specifiers as
lists.

What if someone dreams up some really dynamic use of ERR5RS records
where dynamic reflection on unknown record-types is used to dynamically
generate a new record type determined by the reflection (and maybe some
other inputs).  I can imagine you'd want to be using lists to work with
the field specifiers.

-- 
: Derick
----------------------------------------------------------------

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00007" href="msg00007.html">Why vectors?</a></strong>
<ul><li><em>From:</em> Derick Eddington</li></ul></li>
<li><strong><a name="00013" href="msg00013.html">Re: Why vectors?</a></strong>
<ul><li><em>From:</em> Elf</li></ul></li>
<li><strong><a name="00017" href="msg00017.html">Re: Why vectors?</a></strong>
<ul><li><em>From:</em> Derick Eddington</li></ul></li>
<li><strong><a name="00020" href="msg00020.html">Re: Why vectors?</a></strong>
<ul><li><em>From:</em> Elf</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00027.html">Re: Why vectors?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00029.html">Re: Why vectors?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00020.html">Re: Why vectors?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00015.html">Re: Why vectors?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00028"><strong>Date</strong></a></li>
<li><a href="threads.html#00028"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
