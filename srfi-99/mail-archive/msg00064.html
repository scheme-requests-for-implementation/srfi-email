<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: why generative? -->
<!--X-From-R13: Euveb Ynjnv <fuvebNynin.arg> -->
<!--X-Date: Thu,  3 Sep 2009 20:58:12 +0000 (UTC) -->
<!--X-Message-Id: 20090903.105815.985724860189825028.shiro@lava.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 19598219.437571251730534999.JavaMail.root@zimbra -->
<!--X-Reference: 20090902.234625.218253167063573850.shiro@lava.net -->
<!--X-Reference: 4AA01D1D.30204@bothner.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: why generative?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00063.html">Date Prev</a>][<a href="msg00065.html">Date Next</a>][<a href="msg00061.html">Thread Prev</a>][<a href="msg00056.html">Thread Next</a>][<a href="maillist.html#00064">Date Index</a>][<a href="threads.html#00064">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: why generative?</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-99">SRFI 99</a> from before July 7th, 2015.  The new archives for SRFI 99 are <a href="http://srfi-email.schemers.org/srfi-99/">here</a>.  The new archives contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:per@DOMAIN.HIDDEN">per@xxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: why generative?</li>
<li><em>From</em>: Shiro Kawai &lt;<a href="mailto:shiro@DOMAIN.HIDDEN">shiro@xxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Thu, 03 Sep 2009 10:58:15 -1000 (HST)</li>
<li><em>Cc</em>: <a href="mailto:will@DOMAIN.HIDDEN">will@xxxxxxxxxxx</a>, <a href="mailto:srfi-99@DOMAIN.HIDDEN">srfi-99@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-99@DOMAIN.HIDDEN">srfi-99@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:4AA01D1D.30204@DOMAIN.HIDDEN">4AA01D1D.30204@xxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:19598219.437571251730534999.JavaMail.root@DOMAIN.HIDDEN"><a href="msg00053.html">19598219.437571251730534999.JavaMail.root@zimbra</a></a>&gt;	&lt;<a href="mailto:20090902.234625.218253167063573850.shiro@DOMAIN.HIDDEN">20090902.234625.218253167063573850.shiro@xxxxxxxx</a>&gt;	&lt;<a href="mailto:4AA01D1D.30204@DOMAIN.HIDDEN">4AA01D1D.30204@xxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>From: Per Bothner &lt;per@xxxxxxxxxxx&gt;
Subject: Re: why generative?
Date: Thu, 03 Sep 2009 12:46:37 -0700

&gt; On 09/03/2009 02:46 AM, Shiro Kawai wrote:
&gt; &gt; From: will@xxxxxxxxxxx
&gt; &gt;&gt; For record types that are not defined at top level, it is
&gt; &gt;&gt; unclear whether generative or non-generative definitions are
&gt; &gt;&gt; more common.  My intuition says it's likely to depend upon
&gt; &gt;&gt; individual programmers' preferred styles, so no general rule
&gt; &gt;&gt; applies generally.
&gt; &gt;
&gt; &gt; Probably this point is our difference.  I often like to use
&gt; &gt; locally defined records to group values semantically, and
&gt; &gt; such record types should be non-generative to avoid overhead.
&gt; &gt; But that's a matter of personal preference, so I don't push
&gt; &gt; this use case particularly.
&gt; 
&gt; Some implementations might want an extension to make-rtd or
&gt; define-record-type that would allow defining methods as well
&gt; as fields.  Or alternatively an implementation-specific
&gt; function/syntax to do so.  (Kawa has a define-class form.)
&gt; 
&gt; If so, then the method might refer variables in the lexical
&gt; scope.  In which case the record-type would presumably need
&gt; to be non-generative, since it needs to be to access the local
&gt; closure.
&gt; 
&gt; So for consistency I think the default should be generative.

I don't feel it inconsistent if the extended make-rtd behaves
generatively if the field specs including methods, and behaves
nongeneratively if the field specs in other cases.  It's 
similar to have a local functions with and without closed variables;
I would assume decent implementations will lift local functions
without closed variables, so that new procedure instance won't
be created every time lambda form is executed.

By the way, what will happen if your extended make-rtd takes
methods *and* uid simulnateously?

--shiro

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00053" href="msg00053.html">Re: why generative?</a></strong>
<ul><li><em>From:</em> will</li></ul></li>
<li><strong><a name="00055" href="msg00055.html">Re: why generative?</a></strong>
<ul><li><em>From:</em> Shiro Kawai</li></ul></li>
<li><strong><a name="00061" href="msg00061.html">Re: why generative?</a></strong>
<ul><li><em>From:</em> Per Bothner</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00063.html">Re: why generative?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00065.html">Re: why generative?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00061.html">Re: why generative?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00056.html">Re: why generative?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00064"><strong>Date</strong></a></li>
<li><a href="threads.html#00064"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
