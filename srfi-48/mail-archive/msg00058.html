<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Another alternative -->
<!--X-From-R13: Bnhy Epuyvr <fpuyvrNpbzpnfg.arg> -->
<!--X-Date: Tue, 30 Dec 2003 06:08:52 +0100 (NFT) -->
<!--X-Message-Id: BC167285.9CAC%schlie@comcast.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20031229.180109.184824031.shiro@lava.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Another alternative</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00057.html">Date Prev</a>][<a href="msg00059.html">Date Next</a>][<a href="msg00055.html">Thread Prev</a>][<a href="msg00057.html">Thread Next</a>][<a href="maillist.html#00058">Date Index</a>][<a href="threads.html#00058">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Another alternative</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-48">SRFI 48</a> from before July 7th, 2015.  The new archives for SRFI 48 are <a href="http://srfi-email.schemers.org/srfi-48/">here</a>.  The new archives contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Shiro Kawai &lt;<a href="mailto:shiro@DOMAIN.HIDDEN">shiro@xxxxxxxx</a>&gt;, &lt;<a href="mailto:srfi-48@DOMAIN.HIDDEN">srfi-48@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: Another alternative</li>
<li><em>From</em>: Paul Schlie &lt;<a href="mailto:schlie@DOMAIN.HIDDEN">schlie@xxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Tue, 30 Dec 2003 00:08:37 -0500</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-48@DOMAIN.HIDDEN">srfi-48@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:20031229.180109.184824031.shiro@DOMAIN.HIDDEN">20031229.180109.184824031.shiro@xxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Microsoft-Entourage/10.1.4.030702.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>The only reason I suggested a port, is that its already considered a unique
data-type which can be discriminated from other arbitrary procedures,
thereby allowing a generalized fmt-xxxx procedure to accept an arbitrary
scheme data type including procedure symbols, and do the right thing.

Ideally it would be nice to be able to define arbitrary new procedural data
types (actually, although many scheme implementations support the ability to
define procedures which yield ports, R5RS doesn't formally require it, so
shy of getting the scheme author team to advocate the addition of such or a
more generalized type definition facility, your suggestion may likely be the
best short term option in general).

-paul-

&gt; From: Shiro Kawai &lt;shiro@xxxxxxxx&gt;
&gt; Date: Mon, 29 Dec 2003 18:01:09 -1000 (HST)
&gt; To: srfi-48@xxxxxxxxxxxxxxxxx
&gt; Subject: Re: Another alternative
&gt; Resent-From: srfi-48@xxxxxxxxxxxxxxxxx
&gt; Resent-Date: Tue, 30 Dec 2003 05:01:32 +0100 (NFT)
&gt; 
&gt; From: Paul Schlie &lt;schlie@xxxxxxxxxxx&gt;
&gt; Subject: Re: Another alternative (Re: format strings are the Right Thing)
&gt; Date: Mon, 29 Dec 2003 20:01:06 -0500
&gt; 
&gt;&gt; However my gut feel is that format procedures/macros should likely yield
&gt;&gt; an &lt;input-ports&gt;, as opposed to directly writing to an &lt;output-port&gt;;
&gt;&gt; as it would seem that being able to produce and accept &lt;input-port&gt;
&gt;&gt; pipes as arguments would enable the ability to compose relatively
&gt;&gt; sophisticated efficient format/text-processing hierarchies quite easily,
&gt;&gt; without requiring the use of potentially inefficient and/or cumbersome
&gt;&gt; intermediate strings to buffer text between transform layers.
&gt; 
&gt; I generally agree that it would be more flexible and potentially
&gt; more efficient that the formatter returns a generator, but I wonder
&gt; if an input port is a good abstraction.
&gt; I'd rather like to have fmt-* return a lazy stream with semantics
&gt; defined specifically for this purpose, instead of a generic input
&gt; port.  Since I see a port is more than a lazy stream.
&gt; 
&gt; A port abstracts I/O as a character generator/consumer in R5RS;
&gt; although it is a nice abstraction, it is hardly enough to suffice
&gt; I/O operations required by practical applications.  Distinction
&gt; of binary and character I/O is one example.  (I won't go &quot;what
&gt; is a character&quot; discussion here, but just assume there is a difference).
&gt; Furthermore, multithreading srfis (srfi-18 and srfi-21) require
&gt; that ports need to synchronize reads and writes.  Even the programmer
&gt; knows the port fmt-* returns won't be passed to other threads,
&gt; fmt-* procedure itself doesn't know about that and must return
&gt; a thread-safe port (unless with some kind of whole program analysis).
&gt; 
&gt; If we assume fmt-* return an opaque lazy input stream which can
&gt; only be passed to other fmt-* procedures or pipe, then we can
&gt; encapsulate those dirty bits inside the implementation of those
&gt; procedures.  (For example, what if one of the formatters feeds a
&gt; binary chunk?  Currently, only the implementator knows how it
&gt; should be read out from the stream and passed to final destination
&gt; port).
&gt; 
&gt; --shiro
&gt; 

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00055" href="msg00055.html">Re: Another alternative</a></strong>
<ul><li><em>From:</em> Shiro Kawai</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00057.html">Re: Another alternative (Re: format strings are the Right Thing)</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00059.html">New draft</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00055.html">Re: Another alternative</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00057.html">Re: Another alternative (Re: format strings are the Right Thing)</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00058"><strong>Date</strong></a></li>
<li><a href="threads.html#00058"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
