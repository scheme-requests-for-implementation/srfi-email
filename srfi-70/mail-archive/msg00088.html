<!-- MHonArc v2.6.15 -->
<!--X-Subject: precise&#45;numbers -->
<!--X-From-R13: Ohoerl Xnssre <ntwNnyhz.zvg.rqh> -->
<!--X-Date: Sun, 26 Jun 2005 03:50:04 +0200 (DFT) -->
<!--X-Message-Id: 20050626014953.CA0251B77B4@voluntocracy.org -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20050531071658.EC10C1167@mx4.informatik.uni&#45;tuebingen.de -->
<!--X-Reference: 20050531234805.0EC7F1B77B4@voluntocracy.org -->
<!--X-Reference: 874qcgg4uf.fsf@becket.becket.net -->
<!--X-Reference: 20050602161228.B3E3D1B77B4@voluntocracy.org -->
<!--X-Reference: Pine.LNX.4.58.0506040915430.19280@bolt.sonic.net -->
<!--X-Reference: 20050617022326.B80B91B77B4@voluntocracy.org -->
<!--X-Reference: Pine.LNX.4.58.0506190953020.27880@bolt.sonic.net -->
<!--X-Reference: 20050620031056.EA6DF1B77B4@voluntocracy.org -->
<!--X-Reference: Pine.LNX.4.58.0506192206200.14556@bolt.sonic.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>precise-numbers</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00087.html">Date Prev</a>][<a href="msg00089.html">Date Next</a>][<a href="msg00082.html">Thread Prev</a>][<a href="msg00050.html">Thread Next</a>][<a href="maillist.html#00088">Date Index</a>][<a href="threads.html#00088">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>precise-numbers</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:bear@DOMAIN.HIDDEN">bear@xxxxxxxxx</a></li>
<li><em>Subject</em>: precise-numbers</li>
<li><em>From</em>: Aubrey Jaffer &lt;<a href="mailto:agj@DOMAIN.HIDDEN">agj@xxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Sat, 25 Jun 2005 21:49:53 -0400 (EDT)</li>
<li><em>Cc</em>: <a href="mailto:srfi-70@DOMAIN.HIDDEN">srfi-70@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-70@DOMAIN.HIDDEN">srfi-70@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:Pine.LNX.4.58.0506192206200.14556@DOMAIN.HIDDEN">Pine.LNX.4.58.0506192206200.14556@xxxxxxxxxxxxxx</a>&gt; (message from	bear on Sun, 19 Jun 2005 22:46:33 -0700 (PDT))</li>
<li><em>References</em>: &lt;<a href="mailto:20050531071658.EC10C1167@DOMAIN.HIDDEN">20050531071658.EC10C1167@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:20050531234805.0EC7F1B77B4@DOMAIN.HIDDEN">20050531234805.0EC7F1B77B4@xxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:874qcgg4uf.fsf@DOMAIN.HIDDEN">874qcgg4uf.fsf@xxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:20050602161228.B3E3D1B77B4@DOMAIN.HIDDEN">20050602161228.B3E3D1B77B4@xxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:Pine.LNX.4.58.0506040915430.19280@DOMAIN.HIDDEN">Pine.LNX.4.58.0506040915430.19280@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:20050617022326.B80B91B77B4@DOMAIN.HIDDEN">20050617022326.B80B91B77B4@xxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:Pine.LNX.4.58.0506190953020.27880@DOMAIN.HIDDEN">Pine.LNX.4.58.0506190953020.27880@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:20050620031056.EA6DF1B77B4@DOMAIN.HIDDEN">20050620031056.EA6DF1B77B4@xxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:Pine.LNX.4.58.0506192206200.14556@DOMAIN.HIDDEN">Pine.LNX.4.58.0506192206200.14556@xxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre> | Date: Sun, 19 Jun 2005 22:46:33 -0700 (PDT)
 | From: bear &lt;bear@xxxxxxxxx&gt;
 | 
 | On Sun, 19 Jun 2005, Aubrey Jaffer wrote:
 | 
 | &gt; | It often happens in neural networks (read: my day job) that
 | &gt; | being able to store a bunch of floats compactly (level-2
 | &gt; | cache size) results in dramatic speedups, and in such cases
 | &gt; | (in C) I use arrays of 32-bit floats rather than 64-bit
 | &gt; | doubles.
 | 
 | &gt; | But a couple of years ago, I had a (toy) project where I was
 | &gt; | &lt;clip&gt;. And in that project, having 512-bit precise reals &lt;clip&gt;
 | &gt; | was *NECESSARY*, since even with scaling, using &quot;doubles&quot; would
 | &gt; | have lost crucial information in the underflow.
 | 
 | &gt; Would weakening the &quot;most precise&quot; requirement to a recommendation
 | &gt; improve Scheme as a platform for such arithmetics?
 | 
 | It's hard to know what to do.  No portable code relying on
 | particular float sizes can be written on the basis of R5RS.

That sounds like the wrong goal!  What one wants for reduced precision
floats is to write R5RS code which will run with reduced precision in
implementations which support it -- and run with R5RS (full) precision
in other implementations.  SRFI-63 provides this mechanism.

Calculating with 512-bit floats seems too esoteric to be a core
language feature; but it is reasonable that R6RS should not obstruct
implementations wishing to support it.

 | The suggested change of weakening the requirement to a
 | recommendation would not enable such code, so the situation
 | for specialized calculations would not be improved.

I am not understanding you here.  If &quot;most precise&quot; is a
recommendation (not a requirement), then an implementation could have
an extension where greater precision was available, but not used for
all calculations.

 | But I think maybe code like that *ought* to be the domain of
 | implementation-specific extensions rather than scheme itself.

PARI/GP (<a  rel="nofollow" href="http://pari.math.u-bordeaux.fr/">http://pari.math.u-bordeaux.fr/</a>) has a numeric C-library
where the numeric precision is an argument to each transcendental
function.

 | Because I don't think that scheme ought to concern itself overmuch
 | with the underlying hardware representations, I wouldn't like the
 | specification of an exact floating point representation to become
 | part of the language standard.  But I would like to be able to tell
 | the system what minimum precision I need and let it decide what
 | underlying representation it can use to most economically and
 | effectively meet that requirement. ...

Declaring minimum precisions doesn't seem to play well with Scheme's
latent types.  What about latent precision?  &quot;Precise-numbers&quot; would
have an accessible precision:

 (precision w)

which would return the precision of precise-number `w'.

Given precise-number arguments, numerical operations would return a
precise-number with precision dependent on the arguments, according to
rules which work most of the time (biased toward higher precision).

For those cases where the rules might not work as desired, there would
be a procedure:

 (in-precision w k)

which would return a precise-number having value near `w' and having
precision `k'.

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00046" href="msg00046.html">Re: infinities reformulated</a></strong>
<ul><li><em>From:</em> Chongkai Zhu</li></ul></li>
<li><strong><a name="00049" href="msg00049.html">Re: infinities reformulated</a></strong>
<ul><li><em>From:</em> Aubrey Jaffer</li></ul></li>
<li><strong><a name="00051" href="msg00051.html">Re: infinities reformulated</a></strong>
<ul><li><em>From:</em> Thomas Bushnell BSG</li></ul></li>
<li><strong><a name="00052" href="msg00052.html">Re: infinities reformulated</a></strong>
<ul><li><em>From:</em> Aubrey Jaffer</li></ul></li>
<li><strong><a name="00064" href="msg00064.html">Re: infinities reformulated</a></strong>
<ul><li><em>From:</em> bear</li></ul></li>
<li><strong><a name="00074" href="msg00074.html">Re: infinities reformulated</a></strong>
<ul><li><em>From:</em> Aubrey Jaffer</li></ul></li>
<li><strong><a name="00078" href="msg00078.html">Re: infinities reformulated</a></strong>
<ul><li><em>From:</em> bear</li></ul></li>
<li><strong><a name="00081" href="msg00081.html">Re: infinities reformulated</a></strong>
<ul><li><em>From:</em> Aubrey Jaffer</li></ul></li>
<li><strong><a name="00082" href="msg00082.html">Re: infinities reformulated</a></strong>
<ul><li><em>From:</em> bear</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00087.html">Re: external representations</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00089.html">Re: external representations</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00082.html">Re: infinities reformulated</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00050.html">Re: Re: infinities reformulated</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00088"><strong>Date</strong></a></li>
<li><a href="threads.html#00088"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
