<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: immutable pairs in existing implementations -->
<!--X-From-R13: Xbua Qbjna <pbjnaNzrephel.ppvy.bet> -->
<!--X-Date: Wed, 17 Sep 2014 17:45:18 +0000 (UTC) -->
<!--X-Message-Id: 20140917174512.GF4261@mercury.ccil.org -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 5419BBB5.60905@bothner.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: immutable pairs in existing implementations</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00005.html">Date Prev</a>][<a href="msg00007.html">Date Next</a>][<a href="msg00003.html">Thread Prev</a>][<a href="msg00008.html">Thread Next</a>][<a href="maillist.html#00006">Date Index</a>][<a href="threads.html#00006">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: immutable pairs in existing implementations</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-116">SRFI 116</a> from before July 7th, 2015.  The new archives for SRFI 116 are <a href="http://srfi-email.schemers.org/srfi-116/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Per Bothner &lt;<a href="mailto:per@DOMAIN.HIDDEN">per@xxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: immutable pairs in existing implementations</li>
<li><em>From</em>: John Cowan &lt;<a href="mailto:cowan@DOMAIN.HIDDEN">cowan@xxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Wed, 17 Sep 2014 13:45:12 -0400</li>
<li><em>Cc</em>: <a href="mailto:srfi-116@DOMAIN.HIDDEN">srfi-116@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-116@DOMAIN.HIDDEN">srfi-116@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="msg00003.html">5419BBB5.60905@bothner.com</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg00003.html">5419BBB5.60905@bothner.com</a>&gt;</li>
<li><em>Sender</em>: John Cowan &lt;<a href="mailto:cowan@DOMAIN.HIDDEN">cowan@xxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Mutt/1.5.20 (2009-06-14)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Per Bothner scripsit:

&gt; It seems very desirable to use the existing immutable pair data
&gt; structures for SRFI-116 immutable pairs.  However, SRFI-116 causes
&gt; some problems.

I think all the problems are in the realm of what Anglo-American lawyers
call &quot;dictum&quot;; that is, they are pronouncements by a judge on matters
which are not part of the issues currently being decided.  AFAICT, the
only such dicta are the claim that `pair?` returns #f on an immutable
pair, and that `write` should not output immutable lists as lists.  I'm
going to remove these and extend the specification to discuss how this
SRFI should work on Schemes that treat quoted lists as immutable.

&gt; Consider the analogy with immutable and immutable strings.  Functions
&gt; like string-ref can be applied to either kind of string.  It seems
&gt; reasonable to let car and cdr apply to both mutable and immutable
&gt; strings, at least as an implementation option.

That is already the case for R[457]RS, because implementations are
allowed to extend the domain of the standard procedures.  It is also
true for R6RS if the implementation treats quoted lists as immutable.
I don't think there's anything further to say here.

&gt; In an implementation with &quot;native&quot; immutable pairs, a quoted list
&gt; should return an immutable list.  For consistency, a quasi-quoted list
&gt; should also return an immutable list.

Same comment.

&gt; For quote/read identity (which is not essential but is desirable,
&gt; especially if you might have circular lists) read should be allowed to
&gt; return an immutable list.

I see that Kawa does so, but I think it's not conformant to RnRS: the (
... ) syntax in `read` should return mutable lists.

-- 
John Cowan          <a  rel="nofollow" href="http://www.ccil.org/~cowan">http://www.ccil.org/~cowan</a>        cowan@xxxxxxxx
&quot;But I am the real Strider, fortunately,&quot; he said, looking down at them
with his face softened by a sudden smile.  &quot;I am Aragorn son of Arathorn,
and if by life or death I can save you, I will.&quot;

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00008" href="msg00008.html">Re: immutable pairs in existing implementations</a></strong>
<ul><li><em>From:</em> Per Bothner</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00003" href="msg00003.html">immutable pairs in existing implementations</a></strong>
<ul><li><em>From:</em> Per Bothner</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00005.html">Re: library for immutate base</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00007.html">New text on Quotation</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00003.html">immutable pairs in existing implementations</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00008.html">Re: immutable pairs in existing implementations</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00006"><strong>Date</strong></a></li>
<li><a href="threads.html#00006"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
