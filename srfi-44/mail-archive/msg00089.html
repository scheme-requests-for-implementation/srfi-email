<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Bidirectionality and other comments -->
<!--X-From-R13: Fnlybe Qnzcoryy <pnzcoryyNriqri.ngu.pk> -->
<!--X-Date: Thu, 16 Oct 2003 21:17:51 +0200 (DFT) -->
<!--X-Message-Id: 5F50B934&#45;000D&#45;11D8&#45;96A9&#45;000A95CCCEE4@evdev.ath.cx -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20031016170717.GA9033@freenetproject.org -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Bidirectionality and other comments</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00088.html">Date Prev</a>][<a href="msg00090.html">Date Next</a>][<a href="msg00086.html">Thread Prev</a>][<a href="msg00091.html">Thread Next</a>][<a href="maillist.html#00089">Date Index</a>][<a href="threads.html#00089">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Bidirectionality and other comments</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-44">SRFI 44</a> from before July 7th, 2015.  The new archives for SRFI 44 are <a href="http://srfi-email.schemers.org/srfi-44/">here</a>.  The new archives contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-44@DOMAIN.HIDDEN">srfi-44@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: Bidirectionality and other comments</li>
<li><em>From</em>: Taylor Campbell &lt;<a href="mailto:campbell@DOMAIN.HIDDEN">campbell@xxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Thu, 16 Oct 2003 15:17:24 -0400</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-44@DOMAIN.HIDDEN">srfi-44@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:20031016170717.GA9033@DOMAIN.HIDDEN">20031016170717.GA9033@xxxxxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">

</pre><tt>On Thursday, Oct 16, 2003, at 13:07 US/Eastern, 
</tt><tt>scgmille@xxxxxxxxxxxxxxxxxx wrote:
</tt><pre style="margin: 0em;">

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
On Thu, Oct 16, 2003 at 03:59:59AM -0700, Bradd W. Szonye wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><tt>Overall, I'm very pleased with this SRFI, and I'm looking forward to 
</tt><tt>its
</tt><pre style="margin: 0em;">
finalization. Unfortunately, I have a few issues with it. Some of it's
just minor editorial stuff, but I have two major issues.
</pre></blockquote></blockquote><pre style="margin: 0em;">

And we were just about to finalize it...damn...

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
MAJOR ISSUES

1. Bidirectionality and folding

The SRFI conflates &quot;order&quot; and &quot;bidirectionality.&quot; While it does
recognize that some bidirectional collections are unordered --
</pre><tt>collection-fold-right works on sequences -- it incorrectly assumes 
</tt><tt>that
</tt><tt>all ordered collections are bidirectional. For example, a sorted list 
</tt><tt>is
</tt><pre style="margin: 0em;">
ordered but not bidirectional.
</pre></blockquote></blockquote><pre style="margin: 0em;">

Perhaps I'm misunderstanding what 'bidirectional' means here, but
FOLD-RIGHT is definitely well-defined on lists; or this is just a bad
example.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Related to this, I find the enumerator names confusing. I realize that
you wanted them to parallel *-get-left, *-get-right, and similar
procedures. However, collection-fold-left implies to me that the
</pre><tt>enumeration proceeds *toward* the left, not *from* the left. Also, 
</tt><tt>it's
</tt><pre style="margin: 0em;">
a very cumbersome name for what should be a common operation. Based on
this and the idea of bidirectional or &quot;reversible&quot; containers, I
recommend changing the names to:

    collection-fold             in-order (or unordered) traversal
    collection-reverse-fold     reverse-order traversal
</pre></blockquote><pre style="margin: 0em;">

The argument for a more concise function name is more persuasive to me
than any confusion that might arise from left/right distinctions.  I'm
receptive to the idea, and will change it if there is a second from
anyone else on the list.
</pre></blockquote><pre style="margin: 0em;">

For the sake of consistency, I'm _vehemently_ against this:
_everywhere_ that I've seen some form of folding or reducing, there is
either a FOLD or a FOLD-LEFT and a FOLD-RIGHT; _never_ have I seen a
situation in which FOLD-RIGHT means 'go _to_ the right.'

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><tt>For most unidirectional collections, collection-reverse-fold could be 
</tt><tt>an
</tt><pre style="margin: 0em;">
alias for collection-fold. For some of them, like unidirectional
sequences (i.e., lists), it can provide an inefficient reverse fold.
</pre></blockquote><pre style="margin: 0em;">

I don't like that as much.  Reverse fold should be undefined if its
semantics are the same as ordinary fold.  For sequences it should
probably be defined even if inefficiently.  The programmer can use
the bidirectional attribute to figure out if this is going to be cost
prohibitive.
</pre></blockquote><pre style="margin: 0em;">

I agree that COLLECTION-FOLD-RIGHT (-REVERSE-FOLD?) should be, rather
than equivalent to COLLECTION-FOLD-LEFT, undefined on bidirectional
collections.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">

Why is this a problem for alists but not for plain lists? I don't see
how it's a problem at all -- alists are not mutable collections. In
</pre><tt>functional programming style, the &quot;empty list&quot; problem is not a 
</tt><tt>problem
</tt><tt>at all. Now, storing metadata in the list head is a good idea, but 
</tt><tt>this
</tt><pre style="margin: 0em;">
&quot;need set-cdr!&quot; explanation doesn't hold water.
</pre></blockquote><pre style="margin: 0em;">

Taylor, can you comment on this?
</pre></blockquote><pre style="margin: 0em;">

Yes.  I don't like the wording of that.  I'd prefer that you just left
it that NULL? might not return #T for what (alist) returns and that
ALIST-EMPTY? shall be used instead, because I find the metadata useful
and the ability to modify the CDR of an empty alist only marginally
convenient in linear update procedures.

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00091" href="msg00091.html">Re: Bidirectionality and other comments</a></strong>
<ul><li><em>From:</em> Bradd W. Szonye</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00086" href="msg00086.html">Re: Bidirectionality and other comments</a></strong>
<ul><li><em>From:</em> scgmille</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00088.html">Re: More minor issues</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00090.html">Traits, dictionaries</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00086.html">Re: Bidirectionality and other comments</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00091.html">Re: Bidirectionality and other comments</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00089"><strong>Date</strong></a></li>
<li><a href="threads.html#00089"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
