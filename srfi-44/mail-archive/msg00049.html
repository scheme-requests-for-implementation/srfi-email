<!-- MHonArc v2.6.15 -->
<!--X-Subject: Reconciling mutable collections -->
<!--X-From-R13: fptzvyyrNserrargcebwrpg.bet -->
<!--X-Date: Tue, 29 Jul 2003 05:31:51 +0200 (DFT) -->
<!--X-Message-Id: 20030729031621.GB11125@freenetproject.org -->
<!--X-Content-Type: multipart/signed -->
<!--X-Derived: pgpeNbi0USS0M.pgp -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Reconciling mutable collections</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00048.html">Date Prev</a>][<a href="msg00050.html">Date Next</a>][<a href="msg00038.html">Thread Prev</a>][<a href="msg00050.html">Thread Next</a>][<a href="maillist.html#00049">Date Index</a>][<a href="threads.html#00049">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Reconciling mutable collections</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-44">SRFI 44</a> from before July 7th, 2015.  The new archives for SRFI 44 are <a href="http://srfi-email.schemers.org/srfi-44/">here</a>.  The new archives contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-44@DOMAIN.HIDDEN">srfi-44@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Reconciling mutable collections</li>
<li><em>From</em>: <a href="mailto:scgmille@DOMAIN.HIDDEN">scgmille@xxxxxxxxxxxxxxxxxx</a></li>
<li><em>Date</em>: Mon, 28 Jul 2003 22:16:21 -0500</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-44@DOMAIN.HIDDEN">srfi-44@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Mail-followup-to</em>: <a href="mailto:scgmille@DOMAIN.HIDDEN">scgmille@xxxxxxxxxxxxxxxxx</a>,	<a href="mailto:srfi-44@DOMAIN.HIDDEN">srfi-44@xxxxxxxxxxxxxxxxx</a></li>
<li><em>User-agent</em>: Mutt/1.5.4i</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Matthias raised some concerns about the collection making 'purely 
mutable', i.e. collections who can only be updated through side effects, 
and for which (eq? old new) is always #t.  

After some discussion on #scheme, this proposal came out.

Mutability would be come an attribute of collections, just as
orderedness is at the moment.  Attributes inform the programmer when 
certain functions are defined.  For example, collection-fold-right is 
defined when ordered-collection? returns #t.  

Purely mutable collections would return #t from mutable-collection?, and 
when present, an additional form of each update procedure would exist 
and would be defined on that collection, such as *-add!!.  The procedure 
takes a collection as input and its return value is undefined.  *-add! 
and *-add would also still be defined.  *-add may require cloning to 
operate, and *-add! could be equivalent to *-add!!, but would return the 
input collection as output.  

This is necessary in order to both support purely mutable collections 
and to allow portable code to be written to such collections and still 
be efficient in the absence of an omniscient compiler.  Furthermore, the 
programmer need not know that a specific collection is being used, only 
that its mutable.

</pre><p><strong>Attachment:
<a href="pgpeNbi0USS0M.pgp" ><tt>pgpeNbi0USS0M.pgp</tt></a></strong><br>
<em>Description:</em> PGP signature</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00050" href="msg00050.html">Re: Reconciling mutable collections</a></strong>
<ul><li><em>From:</em> Matthias Radestock</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00048.html">Re: Shorthand procedures?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00050.html">Re: Reconciling mutable collections</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00038.html">Comparison of elements/keys</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00050.html">Re: Reconciling mutable collections</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00049"><strong>Date</strong></a></li>
<li><a href="threads.html#00049"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
