<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: API conflicts -->
<!--X-From-R13: Euveb Ynjnv <fuvebNynin.arg> -->
<!--X-Date: Thu, 30 Oct 2003 00:19:44 +0100 (NFT) -->
<!--X-Message-Id: 20031029.131936.336478417.shiro@lava.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20031028.194837.304105351.shiro@lava.net -->
<!--X-Reference: 6F15F131&#45;0A58&#45;11D8&#45;8E6E&#45;000A95CCCEE4@evdev.ath.cx -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: API conflicts</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00291.html">Date Prev</a>][<a href="msg00293.html">Date Next</a>][<a href="msg00380.html">Thread Prev</a>][<a href="msg00295.html">Thread Next</a>][<a href="maillist.html#00292">Date Index</a>][<a href="threads.html#00292">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: API conflicts</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-44@DOMAIN.HIDDEN">srfi-44@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: API conflicts</li>
<li><em>From</em>: Shiro Kawai &lt;<a href="mailto:shiro@DOMAIN.HIDDEN">shiro@xxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Wed, 29 Oct 2003 13:19:36 -1000 (HST)</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-44@DOMAIN.HIDDEN">srfi-44@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:6F15F131-0A58-11D8-8E6E-000A95CCCEE4@DOMAIN.HIDDEN">6F15F131-0A58-11D8-8E6E-000A95CCCEE4@xxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:20031028.194837.304105351.shiro@DOMAIN.HIDDEN">20031028.194837.304105351.shiro@xxxxxxxx</a>&gt;	&lt;<a href="mailto:6F15F131-0A58-11D8-8E6E-000A95CCCEE4@DOMAIN.HIDDEN">6F15F131-0A58-11D8-8E6E-000A95CCCEE4@xxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>From: Taylor Campbell &lt;campbell@xxxxxxxxxxxx&gt;
Subject: Re: API conflicts (Was: Re: Reasons for withdrawal)
Date: Wed, 29 Oct 2003 16:39:54 -0500

&gt; LIST= should be n-ary.  I'm not sure why it isn't.  (probably a typo;
&gt; there are lots of those in the document, due to the tedium in writing
&gt; it)

See my mail &lt;20031028.200305.229729887.shiro@xxxxxxxx&gt;

&gt; A couple of problems with alists have been mentioned.  Three solutions
&gt; came up on IRC:

&gt;    - Create an abstract type for alists.
[...]
&gt;    - Add a unique token to the head of the alist.
[...]
&gt;    - Add a metadata _association_ to the list, with a unique token
&gt;      visible only to the implementation.
[...]

The fundamental problem I see is that what Scheme/Lisp programmer
thinks as &quot;alist&quot; is just a list of pairs and nothing more,
no hidden structure, no magic tags; it doesn't fit well in the view
of &quot;dictionary&quot; in srfi-44.   For example, one of alist's nice
properties is that you can add the pair to the head of existing
alist non-destructively, effectively shadowing entries with the
same key.   The power of alist is in its simple and flexible structure.

The alist dictionary is just one of special application of alist,
and not all alists fit that view.  So I suggest we define an abstract
type for alist-dictionary, which happens to use alist to store data
internally, but alist-dictionary itself is a different object,
maybe implemented by srfi-9 record type.

&gt; It's pretty easy to avoid this conflict by either not explicitly using
&gt; SRFI 44 or explicitly using those implementations' libraries, or
&gt; having a simple SRFI 44 wrapper around hash tables of those
&gt; implementations when you do explicitly use SRFI 44.

The primary point of the section is to warn users, so that they
can take the strategy like you described here.

There's another point, though.  There are two camps in Scheme
implementations regarding how to give the &quot;fallback&quot; value,
both have their own ground.  If srfi-44 gives a convincing
rationale for thunk approach, and becomes widely spread,
it may be possible that eventually the convention of
giving fallback value converges to thunk approach.

--shiro

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00295" href="msg00295.html">Re: API conflicts</a></strong>
<ul><li><em>From:</em> scgmille</li></ul></li>
<li><strong><a name="00300" href="msg00300.html">Re: API conflicts</a></strong>
<ul><li><em>From:</em> Bradd W. Szonye</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00261" href="msg00261.html">API conflicts (Was: Re: Reasons for withdrawal)</a></strong>
<ul><li><em>From:</em> Shiro Kawai</li></ul></li>
<li><strong><a name="00288" href="msg00288.html">Re: API conflicts (Was: Re: Reasons for withdrawal)</a></strong>
<ul><li><em>From:</em> Taylor Campbell</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00291.html">A possible solution?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00293.html">Re: Fundamental design flaws</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00380.html">Re: A possible solution?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00295.html">Re: API conflicts</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00292"><strong>Date</strong></a></li>
<li><a href="threads.html#00292"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
