<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Various comments -->
<!--X-From-R13: fptzvyyrNserrargcebwrpg.bet -->
<!--X-Date: Thu,  1 May 2003 22:38:56 +0200 (DFT) -->
<!--X-Message-Id: 20030501203813.GA27047@freenetproject.org -->
<!--X-Content-Type: multipart/signed -->
<!--X-Reference: 86llxsnjjq.fsf@admin.fciencias.unam.mx -->
<!--X-Reference: 000601c30f28$334f9d70$920115ac@EDV46 -->
<!--X-Derived: pgpNsixSk4ykB.pgp -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Various comments</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00014.html">Date Prev</a>][<a href="msg00016.html">Date Next</a>][<a href="msg00013.html">Thread Prev</a>][<a href="msg00018.html">Thread Next</a>][<a href="maillist.html#00015">Date Index</a>][<a href="threads.html#00015">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Various comments</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-44">SRFI 44</a> from before July 7th, 2015.  The new archives for SRFI 44 are <a href="http://srfi-email.schemers.org/srfi-44/">here</a>.  The new archives contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-44@DOMAIN.HIDDEN">srfi-44@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: Various comments</li>
<li><em>From</em>: <a href="mailto:scgmille@DOMAIN.HIDDEN">scgmille@xxxxxxxxxxxxxxxxxx</a></li>
<li><em>Date</em>: Thu, 1 May 2003 15:38:13 -0500</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-44@DOMAIN.HIDDEN">srfi-44@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:000601c30f28%24334f9d70%24920115ac@DOMAIN.HIDDEN"><a href="msg00013.html">000601c30f28$334f9d70$920115ac@EDV46</a></a>&gt;</li>
<li><em>Mail-followup-to</em>: <a href="mailto:scgmille@DOMAIN.HIDDEN">scgmille@xxxxxxxxxxxxxxxxx</a>,	<a href="mailto:srfi-44@DOMAIN.HIDDEN">srfi-44@xxxxxxxxxxxxxxxxx</a></li>
<li><em>References</em>: &lt;<a href="mailto:86llxsnjjq.fsf@DOMAIN.HIDDEN">86llxsnjjq.fsf@xxxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:000601c30f28%24334f9d70%24920115ac@DOMAIN.HIDDEN"><a href="msg00013.html">000601c30f28$334f9d70$920115ac@EDV46</a></a>&gt;</li>
<li><em>User-agent</em>: Mutt/1.4i</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Wed, Apr 30, 2003 at 04:53:01PM +0200, Michael Burschik wrote:
&gt; &gt; There's this note:
&gt; &gt;
&gt; &gt;    When % is encountered in the definitions below, the actual name of
&gt; &gt;    the collection is implied.
&gt; &gt;
&gt; &gt; so, no, they are not supposed to be `*'.
&gt; 
&gt; Sorry, I missed that. And I think it should be &quot;collection's supertypes&quot;
&gt; instead of &quot;collections supertypes&quot; in the paragraph explaining the use of
&gt; &quot;*&quot;.
&gt; 
&gt; &gt; &gt; Although it is customary not to define the return value of
&gt; &gt; &gt; destructive functions, the *-remove! functions might return #f or #t
&gt; &gt; &gt; to indicate whether the collection was actually modified, since
&gt; &gt; &gt; removing a value that is not present is not defined as an error.
&gt; &gt;
&gt; &gt; I would say that if you *have* an iterator (and the collection is
&gt; &gt; mutable), then you have a value that can be removed.  So, IMHO,
&gt; &gt; sticking with the undefined returned value is correct, and concurs
&gt; &gt; with most other SRFIs that include destructive ops (except, perhaps
&gt; &gt; SRFI-1 where these are called linear updates).
&gt; &gt;
&gt; &gt; (Besides tradition, I've nothing against returning useful values from
&gt; &gt; destructive ops, though.)
&gt; 
&gt; I totally agree with you, but the procedures in question do not require an
&gt; iterator. I am thinking of (list-remove! (list 1 2 3) 44), for instance.

Yeah, its probably reasonable to return false if nothing was removed.
&gt; 
&gt; And come to think of it, why define destructive procedures rather than
&gt; non-destructive ones in the first place? Especially after going to such
&gt; lengths to define purely functional iterators.

The short answer is that while an iterator can easily be functional and 
efficient (because it usually only needs a small amount of state, like a 
pointer), a datastructure may not be.  Take as an example an actively 
balanced tree.  A functional version of remove may have to do a lot of 
work to modify the tree, but even more if its not allowed to affect the 
original (possibly as bad as copying the entire tree).  At best this 
creates a lot of extra GC pressure.  

The other answer (same as in c.l.s) is that some collections may be 
difficult to implement functionally, for example the database resultset, 
because accessing it may cross out of Scheme into a very non-functional 
land like a C-style database API.

	Scott

</pre><p><strong>Attachment:
<a href="pgpNsixSk4ykB.pgp" ><tt>pgpNsixSk4ykB.pgp</tt></a></strong><br>
<em>Description:</em> PGP signature</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00018" href="msg00018.html">Re: Various comments</a></strong>
<ul><li><em>From:</em> Jens Axel S&#xF8;gaard</li></ul></li>
<li><strong><a name="00021" href="msg00021.html">Re: Various comments</a></strong>
<ul><li><em>From:</em> Rob Mayoff</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00012" href="msg00012.html">Re: Various comments</a></strong>
<ul><li><em>From:</em> Francisco Solsona</li></ul></li>
<li><strong><a name="00013" href="msg00013.html">AW: Various comments</a></strong>
<ul><li><em>From:</em> Michael Burschik</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00014.html">*-values</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00016.html">Re: ITERATOR-REMOVE-VALUE!, *-DELETE!</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00013.html">AW: Various comments</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00018.html">Re: Various comments</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00015"><strong>Date</strong></a></li>
<li><a href="threads.html#00015"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
