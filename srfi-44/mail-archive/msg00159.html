<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Interface view of dictionaries -->
<!--X-From-R13: fptzvyyrNserrargcebwrpg.bet -->
<!--X-Date: Mon, 27 Oct 2003 20:21:40 +0100 (NFT) -->
<!--X-Message-Id: 20031027192132.GA5088@freenetproject.org -->
<!--X-Content-Type: multipart/signed -->
<!--X-Reference: 20031021072047.GB26398@loki.vpn.szonye.com -->
<!--X-Reference: 20031023010959.GA20350@freenetproject.org -->
<!--X-Reference: 20031023020257.GA6989@loki.vpn.szonye.com -->
<!--X-Reference: 20031023024351.GA21257@freenetproject.org -->
<!--X-Reference: 20031023033542.GB6989@loki.vpn.szonye.com -->
<!--X-Reference: 20031025035254.GB26663@freenetproject.org -->
<!--X-Reference: 20031025165854.GA18773@loki.vpn.szonye.com -->
<!--X-Reference: Pine.LNX.4.58.0310251010190.5625@bolt.sonic.net -->
<!--X-Reference: 20031026042704.GA22624@freenetproject.org -->
<!--X-Reference: 20031026045544.GP18773@loki.vpn.szonye.com -->
<!--X-Derived: pgpElQN4QKEj8.pgp -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Interface view of dictionaries</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00158.html">Date Prev</a>][<a href="msg00160.html">Date Next</a>][<a href="msg00154.html">Thread Prev</a>][<a href="msg00160.html">Thread Next</a>][<a href="maillist.html#00159">Date Index</a>][<a href="threads.html#00159">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Interface view of dictionaries</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-44@DOMAIN.HIDDEN">srfi-44@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: Interface view of dictionaries</li>
<li><em>From</em>: <a href="mailto:scgmille@DOMAIN.HIDDEN">scgmille@xxxxxxxxxxxxxxxxxx</a></li>
<li><em>Date</em>: Mon, 27 Oct 2003 13:21:32 -0600</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-44@DOMAIN.HIDDEN">srfi-44@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:20031026045544.GP18773@DOMAIN.HIDDEN">20031026045544.GP18773@xxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Mail-followup-to</em>: <a href="mailto:scgmille@DOMAIN.HIDDEN">scgmille@xxxxxxxxxxxxxxxxx</a>,	<a href="mailto:srfi-44@DOMAIN.HIDDEN">srfi-44@xxxxxxxxxxxxxxxxx</a></li>
<li><em>References</em>: &lt;<a href="mailto:20031021072047.GB26398@DOMAIN.HIDDEN">20031021072047.GB26398@xxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:20031023010959.GA20350@DOMAIN.HIDDEN">20031023010959.GA20350@xxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:20031023020257.GA6989@DOMAIN.HIDDEN">20031023020257.GA6989@xxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:20031023024351.GA21257@DOMAIN.HIDDEN">20031023024351.GA21257@xxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:20031023033542.GB6989@DOMAIN.HIDDEN">20031023033542.GB6989@xxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:20031025035254.GB26663@DOMAIN.HIDDEN">20031025035254.GB26663@xxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:20031025165854.GA18773@DOMAIN.HIDDEN">20031025165854.GA18773@xxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:Pine.LNX.4.58.0310251010190.5625@DOMAIN.HIDDEN">Pine.LNX.4.58.0310251010190.5625@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:20031026042704.GA22624@DOMAIN.HIDDEN">20031026042704.GA22624@xxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:20031026045544.GP18773@DOMAIN.HIDDEN">20031026045544.GP18773@xxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Mutt/1.5.4i</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Sat, Oct 25, 2003 at 09:55:44PM -0700, Bradd W. Szonye wrote:
&gt; scgmille@xxxxxxxxxxxxxxxxxx wrote:
&gt; &gt;&gt; (*-nextkey dict) ;; same as function returned from get-iterator
&gt; &gt;&gt; (*-nextkey dict key) ;; same as returned from the get-iterator func above
&gt; &gt;&gt; (*-lastkey dict)     ;; same as returned from the get-reversed-iterator func
&gt; &gt;&gt; (get-reversed-iterator dict)
&gt; 
&gt; &gt; See Olegs post on the hazards of iterators.
&gt; 
&gt; Oleg makes a good point, but you should quit taking it as gospel. Can
&gt; you clearly explain the advantages and disadvantages yourself? Do you
&gt; understand the underlying theory? And, most importantly, can you show
&gt; how to implement a multiple-collection fold without cursors?
&gt; 
&gt;     (nfold f seed c1 c2 c3 ...)

Perhaps you should read treatise linked in the post which shows how a 
cursor is trivially created from an enumeration?  I don't disagree that 
some operations would be more convenient with cursors.  After all, the 
initial draft of the SRFI specified iterators as the fundamental 
operator.  I wouldn't have agreed with a change to enumeration unless it 
preserved the functionality of iterators.

&gt; &gt; &lt;snip&gt;Efficiency procs
&gt; &gt; Best left to a separate SRFI.
&gt; 
&gt; Yes, perhaps. But you should be more careful about your design to make
&gt; sure that it isn't incompatible with them. You seem to have a mental
&gt; filter that shuts out anything performance-related, even if it has
&gt; design implications.

Can you point out how it currently is not?  That would be a concrete 
criticism worth addressing.

&gt; 
&gt; &gt;&gt; (*-fetchfirst dict number) ;; returns number entries
&gt; &gt; [B] Trivially implemented with collection-fold-left
&gt; 
&gt; Trivially and VERY SLOWLY. However, you could implement it more
&gt; efficiently with a &quot;*-get-any&quot; interface that returns all matches. Even
&gt; more efficiently with a &quot;*-get-any&quot; enumerator that uses a filtering
&gt; predicate that can stop the enumeration. You can do this for a tree ADT
&gt; in O(log N + K) time, where N is the dictionary size and K is the number
&gt; of elements returned.

I frankly don't see this at all.  Its obvious that a get-any with a
filter could be more efficient than enumeration, but fetchfirst would
only be more efficient and faster than enumeration over an ordered
dictionary (as originally stated!) only if enumeration was poorly
implemented for the dictionary.

&gt; 
&gt; But SRFI-44 doesn't include those interfaces, so you're stuck with the
&gt; O(N) enumeration algorithm. Sure, you could leave this for later, but
&gt; what's the point in having an inefficient dictionary interface at all?
&gt; There's no need for it.
&gt; 
The point is to describe the set of functionality need to use 
dictionaries at all.  Again this SRFI does not attempt to be the last 
word on APIs for any of the collection types.  Take sets for example, 
where many operations are omitted.  

For arbitrary dictionaries, one cannot guarantee that the many 
operations you'd have added can be efficiently or even possibly 
implemented.  Being too specific would in fact limit the range
dictionaries that could be used in an agnostic way, efficiently or 
outright.  When one defines a tree based dictionary as a subsequent SRFI 
or wherever, its obvious that operations will be added, as the tree 
structure facilitates them.  

&gt; 
&gt; No, it's much richer than the current SRFI, with procedures designed
&gt; around the way people actually use the collection. In some cases, it
&gt; solves problems that are poorly-defined or inefficient using the SRFI-44
&gt; interface.

I agree, and I do not claim that SRFI-44 will have a monopoly on those 
interfaces.

&gt; 
&gt; Which is ridiculous, because efficiency is the whole point of having
&gt; collections, and usability (including naming) is the whole point of
&gt; having a standard interface. I don't know what your design goals were,
&gt; but I'd be curious to hear them.

The design goals are stated pretty clearly at the beginning of the SRFI. 
To provide a structure for agnostic use of collections and a framework
in which to define them, providing for the necessary set of operations
on them, and for interaction between them. It is not a document to
specify all possible operations on all possible datastructures.

	Scott
</pre><p><strong>Attachment:
<a href="pgpElQN4QKEj8.pgp" ><tt>pgpElQN4QKEj8.pgp</tt></a></strong><br>
<em>Description:</em> PGP signature</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00160" href="msg00160.html">Re: Interface view of dictionaries</a></strong>
<ul><li><em>From:</em> Bradd W. Szonye</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00105" href="msg00105.html">Re: Procedures (interfaces)</a></strong>
<ul><li><em>From:</em> Bradd W. Szonye</li></ul></li>
<li><strong><a name="00115" href="msg00115.html">Re: Procedures (interfaces)</a></strong>
<ul><li><em>From:</em> scgmille</li></ul></li>
<li><strong><a name="00116" href="msg00116.html">Major issues</a></strong>
<ul><li><em>From:</em> Bradd W. Szonye</li></ul></li>
<li><strong><a name="00117" href="msg00117.html">Re: Major issues</a></strong>
<ul><li><em>From:</em> scgmille</li></ul></li>
<li><strong><a name="00118" href="msg00118.html">Re: Major issues</a></strong>
<ul><li><em>From:</em> Bradd W. Szonye</li></ul></li>
<li><strong><a name="00122" href="msg00122.html">Re: Major issues</a></strong>
<ul><li><em>From:</em> scgmille</li></ul></li>
<li><strong><a name="00125" href="msg00125.html">Re: Major issues</a></strong>
<ul><li><em>From:</em> Bradd W. Szonye</li></ul></li>
<li><strong><a name="00131" href="msg00131.html">Interface view of dictionaries</a></strong>
<ul><li><em>From:</em> bear</li></ul></li>
<li><strong><a name="00152" href="msg00152.html">Re: Interface view of dictionaries</a></strong>
<ul><li><em>From:</em> scgmille</li></ul></li>
<li><strong><a name="00154" href="msg00154.html">Re: Interface view of dictionaries</a></strong>
<ul><li><em>From:</em> Bradd W. Szonye</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00158.html">Re: Interface view of dictionaries</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00160.html">Re: Interface view of dictionaries</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00154.html">Re: Interface view of dictionaries</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00160.html">Re: Interface view of dictionaries</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00159"><strong>Date</strong></a></li>
<li><a href="threads.html#00159"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
