<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: getenv vs. locale -->
<!--X-From-R13: uvtrcba <uvtrcbaNtznvy.pbz> -->
<!--X-Date: Fri, 25 Jul 2008 14:24:19 +0200 (MST) -->
<!--X-Message-Id: f07386410807250524s2417b8ffp1e3eb2c200799132@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: m2d4lbaxv3.fsf@cherry.siamics.int -->
<!--X-Reference: 20080719.212021.1010996329.shiro@lava.net -->
<!--X-Reference: f07386410807200533w4117379aiacd79e422c259079@mail.gmail.com -->
<!--X-Reference: 20080720.091203.622524227.shiro@lava.net -->
<!--X-Reference: f07386410807202300p3f4ad0e5n296fab9ef77f6056@mail.gmail.com -->
<!--X-Reference: m2od4ncsay.fsf@cherry.siamics.int -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: getenv vs. locale</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00033.html">Date Prev</a>][<a href="msg00035.html">Date Next</a>][<a href="msg00033.html">Thread Prev</a>][<a href="msg00030.html">Thread Next</a>][<a href="maillist.html#00034">Date Index</a>][<a href="threads.html#00034">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: getenv vs. locale</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-98">SRFI 98</a> from before July 7th, 2015.  The new archives for SRFI 98 are <a href="http://srfi-email.schemers.org/srfi-98/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: &quot;Ivan Shmakov&quot; &lt;<a href="mailto:oneingray@DOMAIN.HIDDEN">oneingray@xxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: getenv vs. locale</li>
<li><em>From</em>: higepon &lt;<a href="mailto:higepon@DOMAIN.HIDDEN">higepon@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Fri, 25 Jul 2008 21:24:17 +0900</li>
<li><em>Cc</em>: <a href="mailto:srfi-98@DOMAIN.HIDDEN">srfi-98@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-98@DOMAIN.HIDDEN">srfi-98@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma;        h=domainkey-signature:received:received:message-id:date:from:to         :subject:cc:in-reply-to:mime-version:content-type         :content-transfer-encoding:content-disposition:references;        bh=gX6ZuztS4ZGSjX//myeWQlrgl/02amebjlSGDxSZx3Y=;        b=JTZMn5CqZlkH9A1xT3E+IPudi7kvfREf9Q/7vsnOTo12RkrXJlEYgD91A0YCHYTIy6         I73+CqKBfHy++nwR1LfyDqR3oXCeFblttE9FwZRtuVjaiiS4KZgLASt/AAwN5pQ8UXN8         TE2EQdK68ATTlv0v1BP340HHruawhIcWRcNYE=</li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma;        h=message-id:date:from:to:subject:cc:in-reply-to:mime-version         :content-type:content-transfer-encoding:content-disposition         :references;        b=oxhm9kuf/AffpnqEeniUzk8k41O/RRl0kzjIvMsAFMPnGeCLWjoIUPqaGgSzFd5WMG         O9D2HUkKusldZvyDCqUvhoc90n3rZn8V+PTNAvr8jlcORjOS9GpeHpbtCT3X8WDE+4Ki         2hqGCHxBwO3p2ql+yfRHQL+PSUI88W6p8I+kA=</li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:m2od4ncsay.fsf@DOMAIN.HIDDEN">m2od4ncsay.fsf@xxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:m2d4lbaxv3.fsf@DOMAIN.HIDDEN">m2d4lbaxv3.fsf@xxxxxxxxxxxxxxxxxx</a>&gt;	 &lt;<a href="mailto:20080719.212021.1010996329.shiro@DOMAIN.HIDDEN">20080719.212021.1010996329.shiro@xxxxxxxx</a>&gt;	 &lt;<a href="mailto:f07386410807200533w4117379aiacd79e422c259079@DOMAIN.HIDDEN">f07386410807200533w4117379aiacd79e422c259079@xxxxxxxxxxxxxx</a>&gt;	 &lt;<a href="mailto:20080720.091203.622524227.shiro@DOMAIN.HIDDEN">20080720.091203.622524227.shiro@xxxxxxxx</a>&gt;	 &lt;<a href="mailto:f07386410807202300p3f4ad0e5n296fab9ef77f6056@DOMAIN.HIDDEN">f07386410807202300p3f4ad0e5n296fab9ef77f6056@xxxxxxxxxxxxxx</a>&gt;	 &lt;<a href="mailto:m2od4ncsay.fsf@DOMAIN.HIDDEN">m2od4ncsay.fsf@xxxxxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi.

&gt;  It also means that the reference implementation given for
&gt;  Scheme48 is invalid (for Scheme48 after 1.3.)

Thank you.
I will remove the reference implementation for Scheme48.

On Thu, Jul 24, 2008 at 10:42 PM, Ivan Shmakov &lt;ivan@xxxxxxxxxxxxx&gt; wrote:
&gt;&gt;&gt;&gt;&gt;&gt; higepon  &lt;higepon@xxxxxxxxx&gt; writes:
&gt;
&gt; [...]
&gt;
&gt;  &gt;&gt; Ultimately, the choice depends on the purpose of this srfi.  If this
&gt;  &gt;&gt; one just wants to summarize &quot;current practices&quot;, leave the behavior
&gt;  &gt;&gt; undefined and cross your fingers that it works &quot;most of the time&quot;.
&gt;  &gt;&gt; If this one wants to provide a portable and robust basis, specify
&gt;  &gt;&gt; the behavior and encourage existing implementations to follow.  I
&gt;  &gt;&gt; tend to vote the latter.
&gt;
&gt;  &gt; Thank you for your kind explanation.  It was clear enough for me to
&gt;  &gt; understand what you meant.
&gt;
&gt;  &gt; I want to summarize &quot;current practices&quot;.  So I suggest for keeping it
&gt;  &gt; simple we summarize &quot;current practices&quot; in this srfi.
&gt;
&gt;        It should be noted that `lookup-environment-variable' returns a
&gt;        byte-vector-like object, namely, an ``OS string'', in Scheme48.
&gt;        Despite the issues were already noted on the list, I'd like to
&gt;        quote a related comment:
&gt;
&gt; --cut: scheme48/scheme/rts/os-string.scm--
&gt; ; You may think that file names / environment variables / user names
&gt; ; etc. are just text, but on most platforms, that assumption is wrong:
&gt; ; They are usually NUL-terminated byte strings in some format.  The
&gt; ; bytes are invariant, but the corresponding text may depend on the
&gt; ; locale.  Also, byte sequences without a textual representation are
&gt; ; possible.
&gt;
&gt; ; We assume that OS strings are encoded in some conservative extension
&gt; ; of NUL-terminated ASCII.  On Unix, this assumption pretty much has
&gt; ; to hold true because of the various constraints of locale handling
&gt; ; there.  The Windows API uses an extension of UTF-16 that includes
&gt; ; unpaired surrogates.  For this, we use a synthetic extension of
&gt; ; UTF-8 called UTF-8of16 that also deals with unpaired surrogates.
&gt; --cut: scheme48/scheme/rts/os-string.scm--
&gt;
&gt;        It also means that the reference implementation given for
&gt;        Scheme48 is invalid (for Scheme48 after 1.3.)
&gt;
&gt;        On the other hand, SLIB provides its `getenv' on top of
&gt;        `lookup-environment-variable' for both Scheme48 1.3 and higher,
&gt;        e. g.:
&gt;
&gt; <a  rel="nofollow" href="http://cvs.savannah.gnu.org/viewvc/*checkout*/slib/scheme48.init?root=slib">http://cvs.savannah.gnu.org/viewvc/*checkout*/slib/scheme48.init?root=slib</a>
&gt;
&gt;  &gt; Fortunately, your suggestion (c) is not inconsistent with simple one,
&gt;  &gt; we can leave some rare cases to another srfi.
&gt;
&gt; [...]
&gt;
&gt;

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00025" href="msg00025.html">getenv vs. locale</a></strong>
<ul><li><em>From:</em> Ivan Shmakov</li></ul></li>
<li><strong><a name="00026" href="msg00026.html">Re: getenv vs. locale</a></strong>
<ul><li><em>From:</em> Shiro Kawai</li></ul></li>
<li><strong><a name="00027" href="msg00027.html">Re: getenv vs. locale</a></strong>
<ul><li><em>From:</em> higepon</li></ul></li>
<li><strong><a name="00029" href="msg00029.html">Re: getenv vs. locale</a></strong>
<ul><li><em>From:</em> Shiro Kawai</li></ul></li>
<li><strong><a name="00032" href="msg00032.html">Re: getenv vs. locale</a></strong>
<ul><li><em>From:</em> higepon</li></ul></li>
<li><strong><a name="00033" href="msg00033.html">Re: getenv vs. locale</a></strong>
<ul><li><em>From:</em> Ivan Shmakov</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00033.html">Re: getenv vs. locale</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00035.html">New revision of SRFI 98 which is now available</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00033.html">Re: getenv vs. locale</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00030.html">Re: getenv vs. locale</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00034"><strong>Date</strong></a></li>
<li><a href="threads.html#00034"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
