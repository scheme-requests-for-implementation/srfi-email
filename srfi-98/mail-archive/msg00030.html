<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: getenv vs. locale -->
<!--X-From-R13: Ivyyvnz R Qyvatre <jvyyNppf.arh.rqh> -->
<!--X-Date: Mon, 21 Jul 2008 00:03:54 +0200 (MST) -->
<!--X-Message-Id: E1KKglE&#45;0004Oy&#45;WF@adara.ccs.neu.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: getenv vs. locale</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00029.html">Date Prev</a>][<a href="msg00031.html">Date Next</a>][<a href="msg00034.html">Thread Prev</a>][<a href="msg00031.html">Thread Next</a>][<a href="maillist.html#00030">Date Index</a>][<a href="threads.html#00030">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: getenv vs. locale</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-98@DOMAIN.HIDDEN">srfi-98@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: getenv vs. locale</li>
<li><em>From</em>: William D Clinger &lt;<a href="mailto:will@DOMAIN.HIDDEN">will@xxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Sun, 20 Jul 2008 17:48:09 -0400</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-98@DOMAIN.HIDDEN">srfi-98@xxxxxxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Please consider having two separate SRFIs:

    one SRFI uses strings, corresponds to current practice,
    and is likely to become widely implemented and accepted

    the other SRFI uses bytevectors, does not correspond to
    current practice, is likely to be implemented only by
    some fraction of the minority of systems that implement
    either SRFI 4 or the R6RS, and is likely to be used only
    by programmers who use those systems

This is a case where solving 99.999% of the problem with a
solution that uses a data structure supported by 100% of
the leading implementations is likely to be better than
trying to solve 100% of the problem by using two different
data structures, each of which is supported by at most
25% of the leading implementations.

Abdulaziz Ghuloum asked:
&gt; As for R6RS bytevectors vs. SRFI-4 u8-vectors issue, well, you
&gt; can define this filter procedure to take either a bytevector or
&gt; a u8-vector and it won't matter much in practice: no system is
&gt; going to support both R6RS bytevectors and SRFI-4 u8-vectors at
&gt; the same time (right?)...

Wrong.  Users of both PLT Scheme and Larceny are already
writing significant programs that combine R5RS SRFIs with
ERR5RS/R6RS libraries, and that kind of interoperability
will only become more important as ERR5RS/R6RS libraries
grow in popularity.

&gt; ...and if you write a program using this
&gt; SRFI, you're going to either write it for an R6RS implementation
&gt; (in which case you'd be using a bytevector and your library will
&gt; be okay in all R6RS implementations that support this SRFI), or
&gt; you will write your code for an R5RS implementation (in which
&gt; case you'll use whatever byte array representation that your
&gt; implementation provides).

Users of PLT Scheme are already having to marshall their
lists when passing them from PLT-native code to R5RS or
R6RS code, or in the opposite direction.  Please don't
inflict that kind of marshalling on everyone who uses
getenv in an R5RS/R6RS-capable system.

Shiro Kawait wrote:
&gt; Ultimately, the choice depends on the purpose of this srfi.
&gt; If this one just wants to summarize &quot;current practices&quot;, leave
&gt; the behavior undefined and cross your fingers that it works
&gt; &quot;most of the time&quot;.  If this one wants to provide a portable
&gt; and robust basis, specify the behavior and encourage existing
&gt; implementations to follow.  I tend to vote the latter.

If you want portable and robust behavior, then you should
try to avoid data structures (such as bytevectors) that
are not even implemented by a lot of systems, and have
competing lexical syntax and semantics (SRFI 4 vs R6RS)
even when implemented.

Will

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00031" href="msg00031.html">Re: getenv vs. locale</a></strong>
<ul><li><em>From:</em> Shiro Kawai</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00029.html">Re: getenv vs. locale</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00031.html">Re: getenv vs. locale</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00034.html">Re: getenv vs. locale</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00031.html">Re: getenv vs. locale</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00030"><strong>Date</strong></a></li>
<li><a href="threads.html#00030"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
