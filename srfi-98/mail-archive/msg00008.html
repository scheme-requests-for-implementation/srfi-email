<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: setenv? -->
<!--X-From-R13: Euveb Ynjnv <fuvebNynin.arg> -->
<!--X-Date: Sun,  6 Jul 2008 03:55:54 +0200 (MST) -->
<!--X-Message-Id: 20080705.154624.294256075.shiro@lava.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 8087ACC8&#45;8C53&#45;4918&#45;9486&#45;DCCA86974415@gmail.com -->
<!--X-Reference: 20080706005550.1642751D7D7@voluntocracy.org -->
<!--X-Reference: 09F03051&#45;970C&#45;43A8&#45;B707&#45;B7E3E15C96C8@gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: setenv?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00007.html">Date Prev</a>][<a href="msg00009.html">Date Next</a>][<a href="msg00006.html">Thread Prev</a>][<a href="msg00014.html">Thread Next</a>][<a href="maillist.html#00008">Date Index</a>][<a href="threads.html#00008">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: setenv?</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-98">SRFI 98</a> from before July 7th, 2015.  The new archives for SRFI 98 are <a href="http://srfi-email.schemers.org/srfi-98/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:aghuloum@DOMAIN.HIDDEN">aghuloum@xxxxxxxxx</a></li>
<li><em>Subject</em>: Re: setenv?</li>
<li><em>From</em>: Shiro Kawai &lt;<a href="mailto:shiro@DOMAIN.HIDDEN">shiro@xxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Sat, 05 Jul 2008 15:46:24 -1000 (HST)</li>
<li><em>Cc</em>: <a href="mailto:agj@DOMAIN.HIDDEN">agj@xxxxxxxxxxxx</a>, <a href="mailto:srfi-98@DOMAIN.HIDDEN">srfi-98@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-98@DOMAIN.HIDDEN">srfi-98@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:09F03051-970C-43A8-B707-B7E3E15C96C8@DOMAIN.HIDDEN">09F03051-970C-43A8-B707-B7E3E15C96C8@xxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:8087ACC8-8C53-4918-9486-DCCA86974415@DOMAIN.HIDDEN">8087ACC8-8C53-4918-9486-DCCA86974415@xxxxxxxxx</a>&gt;	&lt;<a href="mailto:20080706005550.1642751D7D7@DOMAIN.HIDDEN">20080706005550.1642751D7D7@xxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:09F03051-970C-43A8-B707-B7E3E15C96C8@DOMAIN.HIDDEN">09F03051-970C-43A8-B707-B7E3E15C96C8@xxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>From: Abdulaziz Ghuloum &lt;aghuloum@xxxxxxxxx&gt;
Subject: Re: setenv?
Date: Sat, 5 Jul 2008 18:15:34 -0700

&gt; &gt; As for setenv, what would be the scope of the environment variables it
&gt; &gt; changes?  Would it be processes spawned the Scheme process calling
&gt; &gt; setenv?
&gt; 
&gt; That and subsequent calls to getenv.  Basically, it would do what the libc
&gt; setenv does.
&gt; 
&gt; &gt; What standing do child processes have in R6RS?
&gt; 
&gt; I don't understand your question.  Most Scheme systems provide some sort
&gt; of fork/exec/process functionality and many (I presume) already have a
&gt; setenv so it would make sense to put it under this srfi instead of having
&gt; a srfi that provides a single procedure.

If we want setenv, a few issues would arise.

- Libc's setenv() (and presumably POSIX.1-2001's) has the third
  argument to specify whether the call can overwrite the existing
  value or not.  Many existing Scheme implementation's setenv
  (actually, all of ones I'm aware of) don't have that argument.
  Which API should we follow?

- If we have setenv, how about unsetenv?  POSIX.1-2001 has it.

- If we allow modifying the environment, should we say about
  thread safety?  Most SRFIs so far don't consider multithreads
  and it's not even in r6rs, we can follow the tradition of not to
  mention about it.  But I can expect multithreaded implementations
  are getting norm, and it may be good to take it into account
  for new srfis.  (Since retrofitting MT-safety would be a great pain.)


FYI, here's setenv-like procedures of various implementations
(it may be outdated).

setenv &lt;variable&gt; &lt;name&gt;     : Chicken, Scsh, Guile
setenv! &lt;variable&gt; &lt;name&gt;    : stklos
sys-putenv &lt;variable&gt; &lt;name&gt; : Gauche
putenv &lt;variable&gt; &lt;name&gt;     : Bigloo, PLT

--shiro




  

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00014" href="msg00014.html">Re: setenv?</a></strong>
<ul><li><em>From:</em> higepon</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00004" href="msg00004.html">setenv?</a></strong>
<ul><li><em>From:</em> Abdulaziz Ghuloum</li></ul></li>
<li><strong><a name="00005" href="msg00005.html">Re: setenv?</a></strong>
<ul><li><em>From:</em> Aubrey Jaffer</li></ul></li>
<li><strong><a name="00006" href="msg00006.html">Re: setenv?</a></strong>
<ul><li><em>From:</em> Abdulaziz Ghuloum</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00007.html">SRFI-96 and SRFI-98</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00009.html">Re:invalid reference implementation</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00006.html">Re: setenv?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00014.html">Re: setenv?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00008"><strong>Date</strong></a></li>
<li><a href="threads.html#00008"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
