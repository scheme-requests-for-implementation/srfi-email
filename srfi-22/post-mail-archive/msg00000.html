<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: SRFI 22 -->
<!--X-From-R13: Ohoerl Xnssre <ntwNnyhz.zvg.rqh> -->
<!--X-Date: Sun,  9 Nov 2003 06:12:37 +0100 (NFT) -->
<!--X-Message-Id: 20031109051229.E126CC35ED@mail.voluntocracy.org -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20031108051529.A2690C35ED@mail.voluntocracy.org -->
<!--X-Reference: 200311081257.hA8Cvbww022870@baro.iro.umontreal.ca -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: SRFI 22</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[Date Prev][<a href="msg00001.html">Date Next</a>][Thread Prev][<a href="msg00001.html">Thread Next</a>][<a href="maillist.html#00000">Date Index</a>][<a href="threads.html#00000">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: SRFI 22</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-22@DOMAIN.HIDDEN">srfi-22@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: SRFI 22</li>
<li><em>From</em>: Aubrey Jaffer &lt;<a href="mailto:agj@DOMAIN.HIDDEN">agj@xxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Sun,  9 Nov 2003 00:12:29 -0500 (EST)</li>
<li><em>Cc</em>: <a href="mailto:feeley@DOMAIN.HIDDEN">feeley@xxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-22@DOMAIN.HIDDEN">srfi-22@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:200311081257.hA8Cvbww022870@DOMAIN.HIDDEN">200311081257.hA8Cvbww022870@xxxxxxxxxxxxxxxxxxxxx</a>&gt; (message from	Marc Feeley on Sat, 8 Nov 2003 07:57:37 -0500)</li>
<li><em>References</em>: &lt;<a href="mailto:20031108051529.A2690C35ED@DOMAIN.HIDDEN">20031108051529.A2690C35ED@xxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:200311081257.hA8Cvbww022870@DOMAIN.HIDDEN">200311081257.hA8Cvbww022870@xxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre> | Date: Sat, 8 Nov 2003 07:57:37 -0500
 | From: Marc Feeley &lt;feeley@xxxxxxxxxxxxxxxx&gt;
 | 
 | &gt; SRFI-22:
 | &gt; 
 | &gt;   It seems that Windows script syntax is fundamentally
 | &gt;   incompatible with Unix script syntax, so it is impossible to
 | &gt;   write a single file which will run as a script on both Unix and
 | &gt;   Windows. (See also Marc Feeley's message on the subject.)
 | &gt; 
 | &gt; It is possible with the use a small MS-DOS script named &quot;#!.bat&quot;.
 | &gt; <a  rel="nofollow" href="http://www.swiss.ai.mit.edu/~jaffer/scm_3.html#SEC37">http://www.swiss.ai.mit.edu/~jaffer/scm_3.html#SEC37</a>

The programs (#!.bat and !#.exe) are available from
<a  rel="nofollow" href="http://swissnet.ai.mit.edu/ftpdir/scm/sharpbang.zip">http://swissnet.ai.mit.edu/ftpdir/scm/sharpbang.zip</a>

 | I've considered something like this but the problem that I
 | encountered was that the batch file which calls #!.bat on the first
 | line will echo (at least) that first line when it is run.

The first line only will be echoed.  Echoing can be suppressed by
prepending @ to the first line (@#!...) of the script.

 | To me this is not an acceptable solution.  I want a script to be
 | indistinguishable from a binary executable from the user's point of
 | view.

A script must have an extension other than .EXE, so it is
distinguishable even before it is run.  Older versions of Windows will
choke on unix line-endings.  If your expectations for script
compatibility allow for automated installation, then all problems can
be solved: @ is inserted as the first character, line-endings are
windowized, and the resulting script is written to the
script-name.BAT.

 | I'm not a Windows expert so maybe your #!.bat does this properly.
 | Can you confirm?

Scripts can be written which run in both Unix and Windows using
#!.bat.  The first line of the script will be echoed unless it is
prepended with @.

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Next by Date:
<strong><a href="msg00001.html">Having multiple Schemes supporting SRFI-22 installed on the same system</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00001.html">Having multiple Schemes supporting SRFI-22 installed on the same system</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00000"><strong>Date</strong></a></li>
<li><a href="threads.html#00000"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
