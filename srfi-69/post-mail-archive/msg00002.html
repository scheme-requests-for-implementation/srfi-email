<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Are make&#45;hash&#45;table&#45;maker etc normative? -->
<!--X-From-R13: Bnah Ynyyvbxbfxv <ngrujnNfnatr.sv> -->
<!--X-Date: Mon, 17 Oct 2005 15:36:34 +0200 (MST) -->
<!--X-Message-Id: 20051017133612.GE14633@xandru.it.helsinki.fi -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4352B567.2080804@bothner.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Are make-hash-table-maker etc normative?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00001.html">Date Prev</a>][<a href="msg00003.html">Date Next</a>][<a href="msg00001.html">Thread Prev</a>][<a href="msg00003.html">Thread Next</a>][<a href="maillist.html#00002">Date Index</a>][<a href="threads.html#00002">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Are make-hash-table-maker etc normative?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Per Bothner &lt;<a href="mailto:per@DOMAIN.HIDDEN">per@xxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: Are make-hash-table-maker etc normative?</li>
<li><em>From</em>: Panu Kalliokoski &lt;<a href="mailto:atehwa@DOMAIN.HIDDEN">atehwa@xxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Mon, 17 Oct 2005 16:36:12 +0300</li>
<li><em>Cc</em>: <a href="mailto:srfi-69@DOMAIN.HIDDEN">srfi-69@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-69@DOMAIN.HIDDEN">srfi-69@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:4352B567.2080804@DOMAIN.HIDDEN">4352B567.2080804@xxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:4352B567.2080804@DOMAIN.HIDDEN">4352B567.2080804@xxxxxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Mutt/1.5.9i</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Sun, Oct 16, 2005 at 01:17:43PM -0700, Per Bothner wrote:
&gt; The reference implementation contains these functions:
[...]
&gt; They're not mentioned in the specification.  Is this a bug in the
&gt; specification or the implementation (i.e. they shouldn't be there)?

The specification is authoritative.  The implementation contains many
items not required by the specification, such as vector-hash, everything
beginning with a percent sign (about a dozen names),
hash-table-association-function, hash-table-entries,
hash-table-set-entries!, appropriate-hash-function-for, and the
shorthand functions you mention.

Some of these are used to implement the functions that _are_ dictated by
the specification.  However, some of these could be purged by writing
the implementation in a less elegant way.  The ones you mention are not
needed, directly or indirectly, to fulfill the specification.  I guess
this is why you chose these as examples of &quot;bugs&quot; in the implementation.

However, I feel that the role of the implementation in SRFIs is somewhat
unclear.  In no way will I accept that the role of the implementation
would be to reflect the specification as precisely as possible and
nothing more.  The implementation is a proof of concept that the
specification can be met; an aid for Scheme implementors to add support
for the SRFI in their systems; and an example for other Scheme authors
as to how to write code.

&gt; I also assume that the hashing function implementations are not
&gt; normative.  Specifially, in a Java environment it makes sense to
&gt; use the standard hashCode methods.

Of course.  The implementation is not normative at all.  This is
explained, I think, by the SRFI rules.  An implementation is inherently
overspecified; other things in the implementation that are not normative
include e.g.:

 - the default bound of the hash functions;
 - use of the linear congruential method for producing hash values;
 - compositionality of hash values (for instance, dependence of the hash
   value of #(345 543) on the hash values of 345 and 543);
 - the internal representation of hash tables;
 - the dependence on SRFI-9;
 - using chained hash tables instead of flat ones;
 - extra argument(s) to make-hash-table;
 - shortcomings of hash WRT the type of its argument;
 - for which equivalence functions exactly &quot;optimal&quot; hash functions will
   be picked (as well as what is considered an &quot;optimal&quot; hash function);
 - and many, many more details...

I think most of this should go without saying, as it indeed has in other
SRFI's.  It's flattering to gather such precise attention, though...

Panu

-- 
personal contact:	atehwa@xxxxxx, +35841 5323835, +3589 85619369
work contact:		panu.kalliokoski@xxxxxxxxxxx, +35850 3678003
homepage:		<a  rel="nofollow" href="http://sange.fi/~atehwa/">http://sange.fi/~atehwa/</a>
Edustajistovaalit ovat 1.11. ja 2.11.  K&#xE4;y <a  rel="nofollow" href="http://edustajistovaalit.fi/">http://edustajistovaalit.fi/</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00001" href="msg00001.html">Are make-hash-table-maker etc normative?</a></strong>
<ul><li><em>From:</em> Per Bothner</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00001.html">Are make-hash-table-maker etc normative?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00003.html">hash-by-identity guarantees of change consistency?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00001.html">Are make-hash-table-maker etc normative?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00003.html">hash-by-identity guarantees of change consistency?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00002"><strong>Date</strong></a></li>
<li><a href="threads.html#00002"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
