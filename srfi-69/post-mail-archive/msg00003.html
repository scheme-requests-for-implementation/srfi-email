<!-- MHonArc v2.6.15 -->
<!--X-Subject: hash&#45;by&#45;identity guarantees of change consistency? -->
<!--X-From-R13: Bnah Ynyyvbxbfxv <ngrujnNfnatr.sv> -->
<!--X-Date: Wed, 19 Apr 2006 23:19:26 +0200 (MST) -->
<!--X-Message-Id: 20060419211857.GD20177@juiblex.it.helsinki.fi -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>hash-by-identity guarantees of change consistency?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00002.html">Date Prev</a>][<a href="msg00004.html">Date Next</a>][<a href="msg00002.html">Thread Prev</a>][<a href="msg00004.html">Thread Next</a>][<a href="maillist.html#00003">Date Index</a>][<a href="threads.html#00003">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>hash-by-identity guarantees of change consistency?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-69@DOMAIN.HIDDEN">srfi-69@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: hash-by-identity guarantees of change consistency?</li>
<li><em>From</em>: Panu Kalliokoski &lt;<a href="mailto:atehwa@DOMAIN.HIDDEN">atehwa@xxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Thu, 20 Apr 2006 00:18:58 +0300</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-69@DOMAIN.HIDDEN">srfi-69@xxxxxxxxxxxxxxxxx</a></li>
<li><em>User-agent</em>: Mutt/1.5.9i</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>A problem in the SRFI has been brought to my attention, namely that
hash-by-identity is not required to remain the same for mutable
structures if you change their contents (and indeed won't in the
reference implementation).  Arguably this guarantee should be made, as
lack of it seriously lowers the value of eq? hash tables.

However, there is this problem that there is no way to portably provide
an appropriate hash function that will provide change consistency.  The
best one can do is to give a dummy function that returns the same hash
value for e.g. all pairs (thus making hash table lookup an O(n)
operation) or to give a assq-cache backed hashing function (thus making
hashing on O(n) operation).  Both will fail the appropriateness
requirement of the SRFI.  So there's no way to implement the SRFI
portably, if change consistency is added.

Any ideas / suggestions on how to best approach this?

Panu

-- 
personal contact:	panu.kalliokoski@xxxxxxxxxxx, +35841 5323835
technical contact:	atehwa@xxxxxx, <a  rel="nofollow" href="http://www.iki.fi/atehwa/">http://www.iki.fi/atehwa/</a>
PGP fingerprint:	0EA5 9D33 6590 FFD4 921C  5A5F BE85 08F1 3169 70EC

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00002.html">Re: Are make-hash-table-maker etc normative?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00004.html">Re: hash-by-identity guarantees of change consistency?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00002.html">Re: Are make-hash-table-maker etc normative?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00004.html">Re: hash-by-identity guarantees of change consistency?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00003"><strong>Date</strong></a></li>
<li><a href="threads.html#00003"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
