<!-- MHonArc v2.6.15 -->
<!--X-Subject: Modifications that will probably (not) go into next revision -->
<!--X-From-R13: "Bnah O. Ynyyvbxbfxv" <ngrujnNfnatr.sv> -->
<!--X-Date: Thu, 26 May 2005 14:50:59 +0200 (DFT) -->
<!--X-Message-Id: 20050526125045.GA21683@sange.fi -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Modifications that will probably (not) go into next revision</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00029.html">Date Prev</a>][<a href="msg00031.html">Date Next</a>][<a href="msg00027.html">Thread Prev</a>][<a href="msg00031.html">Thread Next</a>][<a href="maillist.html#00030">Date Index</a>][<a href="threads.html#00030">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Modifications that will probably (not) go into next revision</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-69">SRFI 69</a> from before July 7th, 2015.  The new archives for SRFI 69 are <a href="http://srfi-email.schemers.org/srfi-69/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-69@DOMAIN.HIDDEN">srfi-69@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Modifications that will probably (not) go into next revision</li>
<li><em>From</em>: &quot;Panu A. Kalliokoski&quot; &lt;<a href="mailto:atehwa@DOMAIN.HIDDEN">atehwa@xxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Thu, 26 May 2005 15:50:45 +0300</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-69@DOMAIN.HIDDEN">srfi-69@xxxxxxxxxxxxxxxxx</a></li>
<li><em>User-agent</em>: Mutt/1.5.9i</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>(For some reason, I didn't receive Sebastian's message, so I read it
from the archive.)

Modifications that will:

(1) hash functions and moduli

I think I finally get the argument about the problems with hand-picked
modulus.  On the other hand, I still think the current interface is
cleaner than one that picks an arbitrary (albeit big) bound.
Consequently, I modified the reference implementation to use the better
way: using a previously fixed modulus and only wrapping to the requested
range upon output.  (I also fixed the default bound.)

(2) hash function for eq?

I realised that it makes a lot of sense to define a hash function that
is only acceptable for eq?, because it can be implemented very
efficiently -- I'm not talking about the efficiency of hash distribution
but about the efficiency of the operation itself.

The only problem is that I'm not sure which name would be proper for
this function.  I somewhat dislike naming hash functions by equality
functions.  Currently I call it &quot;hash-by-identity&quot;, but proposals are
welcome.

(3) getting rid of compatibility names

As the SRFI seems to be drifting further away from any existing
implementation, I decided to heed the call of masses and wipe -put!,
-get and -remove! from the SRFI.  RIP.

Modifications that probably will not:

(4) order dependence of -keys and -values

If one wants to iterate over the mappings of a hash table, there is
ample support for doing so: -walk, -fold and -&gt;alist.  Using -keys and
-values for iterating over mappings is bad because they provide many
ways of getting the results out of sync even when they are formally
guaranteed to be in sync: these include (unintentional) modification of
the hash table between the calls or simultaneously with the calls (in
the presence of threads).  Can somebody see some other reason for -keys
and -values to be in sync in addition to iterating over mappings?

One cannot prevent users from relying on implementation-specific stuff,
but IMO that's not a good reason for guaranteeing a particular behavior
for which one can't see a good use.

Panu

-- 
personal contact: atehwa@xxxxxx, +35841 5323835, +3589 85619369
work contact: pkalliok@xxxxxxxxxxxxxxxx, +35850 3678003
kotisivu (henkkoht):	<a  rel="nofollow" href="http://www.iki.fi/atehwa/">http://www.iki.fi/atehwa/</a>
homepage (technical):	<a  rel="nofollow" href="http://sange.fi/~atehwa/">http://sange.fi/~atehwa/</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00029.html">Re: Discussion about your comments</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00031.html">Lambda The Ultimate: use failure-thunk instead of default value?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00027.html">Time complexity</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00031.html">Lambda The Ultimate: use failure-thunk instead of default value?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00030"><strong>Date</strong></a></li>
<li><a href="threads.html#00030"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
