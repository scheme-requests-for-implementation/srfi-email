<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: should hash function upper bound be exclusive? -->
<!--X-From-R13: Bnah Ynyyvbxbfxv <ngrujnNfnatr.sv> -->
<!--X-Date: Wed, 10 Aug 2005 08:36:28 +0200 (DFT) -->
<!--X-Message-Id: 20050810063610.GE2064@humma -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 42F8E871.5070903@bothner.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: should hash function upper bound be exclusive?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00049.html">Date Prev</a>][<a href="msg00051.html">Date Next</a>][<a href="msg00047.html">Thread Prev</a>][<a href="msg00051.html">Thread Next</a>][<a href="maillist.html#00050">Date Index</a>][<a href="threads.html#00050">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: should hash function upper bound be exclusive?</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-69">SRFI 69</a> from before July 7th, 2015.  The new archives for SRFI 69 are <a href="http://srfi-email.schemers.org/srfi-69/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Per Bothner &lt;<a href="mailto:per@DOMAIN.HIDDEN">per@xxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: should hash function upper bound be exclusive?</li>
<li><em>From</em>: Panu Kalliokoski &lt;<a href="mailto:atehwa@DOMAIN.HIDDEN">atehwa@xxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Wed, 10 Aug 2005 09:36:10 +0300</li>
<li><em>Cc</em>: <a href="mailto:srfi-69@DOMAIN.HIDDEN">srfi-69@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-69@DOMAIN.HIDDEN">srfi-69@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:42F8E871.5070903@DOMAIN.HIDDEN">42F8E871.5070903@xxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:42F8E871.5070903@DOMAIN.HIDDEN">42F8E871.5070903@xxxxxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Mutt/1.5.9i</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Tue, Aug 09, 2005 at 10:31:29AM -0700, Per Bothner wrote:
&gt; Current the 'bound' for hash functions is exclusive: the returned hash h
&gt; is such that (and (&gt;= 0 h) (&lt; h bound)).  One might want the default
&gt; bound to be such that hashes range over the positive fixnums.  But in
&gt; that case the bound would not be a fixnum: it would have to be one
&gt; larger than the largest fixnum.

I think this is an implementation detail.  If one wants hashes that
range over the positive fixnums, one should definitely not try to find
out the maximum fixnum and give that as a bound to (hash), but just use
(hash) without a bound -- that is, with the default bound.  The SRFI has
been written to account exactly for this situation (even if one can't
say anything very precise about it): it leaves for the implementation to
pick a good default bound when the user supplies none.

Besides, even if people did explicitly request a total-fixnumber-range
hash, it would do no harm to leave just a few fixnum values out.

So unless there are reasons like API intuitiveness for changing the
bound parameter to be inclusive, I'll refrain from making changes.

Panu

-- 
personal contact: atehwa@xxxxxx, +35841 5323835, +3589 85619369
work contact: panu.kalliokoski@xxxxxxxxxxx, +35850 3678003
kotisivu (henkkoht):	<a  rel="nofollow" href="http://www.iki.fi/atehwa/">http://www.iki.fi/atehwa/</a>
homepage (technical):	<a  rel="nofollow" href="http://sange.fi/~atehwa/">http://sange.fi/~atehwa/</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00045" href="msg00045.html">should hash function upper bound be exclusive?</a></strong>
<ul><li><em>From:</em> Per Bothner</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00049.html">Re: hash for eq?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00051.html">Re: error in hash table reference implementation</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00047.html">Re: should hash function upper bound be exclusive?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00051.html">Re: error in hash table reference implementation</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00050"><strong>Date</strong></a></li>
<li><a href="threads.html#00050"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
