<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: #\a octothorpe syntax vs SRFI 10 -->
<!--X-From-R13: Bre Pbguare <creNobguare.pbz> -->
<!--X-Date: Sat,  1 Jan 2005 10:52:57 +0100 (NFT) -->
<!--X-Message-Id: 41D672ED.7000309@bothner.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: Pine.LNX.4.44.0412311233180.20835&#45;100000@autodrip.bloodandcoffee.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: #\a octothorpe syntax vs SRFI 10</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00024.html">Date Prev</a>][<a href="msg00026.html">Date Next</a>][<a href="msg00023.html">Thread Prev</a>][<a href="msg00027.html">Thread Next</a>][<a href="maillist.html#00025">Date Index</a>][<a href="threads.html#00025">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: #\a octothorpe syntax vs SRFI 10</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-58">SRFI 58</a> from before July 7th, 2015.  The <a href="http://srfi-email.schemers.org/srfi-58">new archives</a> for SRFI 58 contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:campbell@DOMAIN.HIDDEN">campbell@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: #\a octothorpe syntax vs SRFI 10</li>
<li><em>From</em>: Per Bothner &lt;<a href="mailto:per@DOMAIN.HIDDEN">per@xxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Sat, 01 Jan 2005 01:52:45 -0800</li>
<li><em>Cc</em>: <a href="mailto:srfi-58@DOMAIN.HIDDEN">srfi-58@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-58@DOMAIN.HIDDEN">srfi-58@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:Pine.LNX.4.44.0412311233180.20835-100000@DOMAIN.HIDDEN">Pine.LNX.4.44.0412311233180.20835-100000@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:Pine.LNX.4.44.0412311233180.20835-100000@DOMAIN.HIDDEN">Pine.LNX.4.44.0412311233180.20835-100000@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Mozilla/5.0 (Macintosh; U; PPC Mac OS X Mach-O; en-US; rv:1.7.2) Gecko/20040803</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
campbell@xxxxxxxxxxxxxxxxxxxxxxxxxxx wrote:

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Interoperability [between Scheme and Ommon Lisp] is impossible anyway.
</pre></blockquote><pre style="margin: 0em;">

It's certainly tricky, though I try in Kawa.  I've implemented a
small subset of Common Lisp and a larger subset of Emacs Lisp.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
How do you deal with Common Lisp's package system?
</pre></blockquote><pre style="margin: 0em;">

That's not that big a problem - one can assume all Scheme symbols
belong to a single package.  Worse is dealing with #f / nil vs ()
all being different in Scheme, but not in Common Lisp.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Moreover, there _is_ a good reason for having a SRFI-10-bases syntax as
opposed to Common Lisp's #\a octothorpe reader syntax: to make Scheme's
syntax simpler &amp; more consistent.  This is not just simply a nice thing
to have, but one of the hallmarks of Scheme in the first place.  It is
_not_ a good idea to complicate it totally unnecessarily, just to
retain a vague notion of compatibility with old, crufty Lisps.
</pre></blockquote><pre style="margin: 0em;">

You're right in tha using the srfi-10 syntax for arrays is not crufty.
It's much worse than that ...

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
I think it would be perfectly fine, except for backwards compatibility
problems, to flush the #(...) vector syntax in favour of a more general
array syntax.
</pre></blockquote><pre style="margin: 0em;">

Perhaps we should should flush the (a b c) syntax for #,(list a b c) ?

  I'm confused as to why using SRFI 10 makes things
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
'second-class,' however.  What makes SRFI 10 degrade the class of what
it is used to represent?  There seems to be a great deal of aversion to
SRFI 10 here that I don't understand.
</pre></blockquote><pre style="margin: 0em;">

It's aesthetic.  If you don't understand it, I don't know how to explain
it.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
So they can keep doing so.  Making the #,(ARRAY ...) syntax standard
wouldn't hurt them.  Making the #nA...(...) syntax standard, however,
_would_ hurt simplicity &amp; consistency in Scheme's syntax.
</pre></blockquote><pre style="margin: 0em;">

We disagree.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
OK, but you still haven't given a decent justification of Common Lisp's
array syntax.  All you've said is that you like a couple of features
that Common Lisp supports.
</pre></blockquote><pre style="margin: 0em;">

It's terse.  It's stylistically consistent with vector notation:
#(a b c) - can be viewed as short-hand for #1a(a b c).  It doesn't
require me to write an extra noise keyword.  It's prior art.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Perhaps I'm missing the point you were trying to make here, but I don't
see how this is a good example of how type specifiers could work in
standard Scheme: you've demonstrated that Kawa has a syntax capable of
assigning Java classes/types to Scheme variables, which affects the
Java byte code that is generated.  This does not seem very useful for
other Scheme type systems or for array element representations.
</pre></blockquote><pre style="margin: 0em;">

A standard syntax for optional type specifiers would be extremely
useful.  Many Scheme implementations could ignore the specifiers,
but they would still be useful for documentation.  Other implementations
might check at run-time that a value matches a type specifier, which
is useful for debugging.  In that case we view type specifiers as a
limited language for machine-checkable assertions.  Some implementations
can use assertions for code optimization, and static error detection.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
I agree that optional static type annotations can be useful.  However,
they are not only _far_ outside the scope of this SRFI but also ill-
suited to the matter of describing array element representations.
</pre></blockquote><pre style="margin: 0em;">

A subset of type specifications for &quot;atomic&quot; (mostly numeric) types
is clearly useful for both.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
OK, it seems we violently agree here that the element representation
specifier should be cleanly separated from the ARRAY token, although I
don't consider ARRAY:INT32 to have a clean separation: it would read as
an atomic symbol to Scheme.
</pre></blockquote><pre style="margin: 0em;">

Why is that a problem?  But note I'm not suggesting array:int32 for
srfi-58; just that *if* a Scheme supports type specifiers, and uses
int32 as a specifier for 32-bit exact integers, then array:int32
might be one possible syntax for a type specifier for arrays whose
elements are int32.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
however, I don't see how my proposed SRFI-10-based syntax, #,(ARRAY
&lt;rank&gt; &lt;elt-rep&gt; &lt;contents&gt;), is intrinsically incompatible with all of
those systems.
</pre></blockquote><pre style="margin: 0em;">

It's not.  We could specify:
  #,(ARRAY 2 int32 ...)
rather than:
  #2A:int32(...)
The former is perfectly compatible with a type specifier model.
I still don't like it.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Or perhaps I misunderstood and you were referring to
the current #&lt;rank&gt;A&lt;abbreviated-element-representation&gt;(&lt;contents&gt;)
syntax?
</pre></blockquote><pre style="margin: 0em;">

I dilike that because it's incompatible with a type specifier model,
and I also think it's ugly.  But it is compatible with Common Lisp;
however, as you say, that's not enough.
--
	--Per Bothner
per@xxxxxxxxxxx   <a  rel="nofollow" href="http://per.bothner.com/">http://per.bothner.com/</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00027" href="msg00027.html">Re: #\a octothorpe syntax vs SRFI 10</a></strong>
<ul><li><em>From:</em> bear</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00023" href="msg00023.html">Re: #\a octothorpe syntax vs SRFI 10</a></strong>
<ul><li><em>From:</em> campbell</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00024.html">Re: #\a octothorpe syntax vs SRFI 10</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00026.html">Re: #\a octothorpe syntax vs SRFI 10</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00023.html">Re: #\a octothorpe syntax vs SRFI 10</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00027.html">Re: #\a octothorpe syntax vs SRFI 10</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00025"><strong>Date</strong></a></li>
<li><a href="threads.html#00025"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
