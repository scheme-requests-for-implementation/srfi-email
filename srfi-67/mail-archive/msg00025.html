<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: compare function return values -->
<!--X-From-R13: Bnah O Ynyyvbxbfxv <ngrujnNfnatr.sv> -->
<!--X-Date: Tue, 10 May 2005 18:41:21 +0200 (MST) -->
<!--X-Message-Id: 20050510164111.GA11297@ling.helsinki.fi -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: compare function return values</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00024.html">Date Prev</a>][<a href="msg00026.html">Date Next</a>][<a href="msg00026.html">Thread Prev</a>][<a href="msg00028.html">Thread Next</a>][<a href="maillist.html#00025">Date Index</a>][<a href="threads.html#00025">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: compare function return values</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-67">SRFI 67</a> from before July 7th, 2015.  The new archives for SRFI 67 are <a href="http://srfi-email.schemers.org/srfi-67/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-67@DOMAIN.HIDDEN">srfi-67@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: compare function return values</li>
<li><em>From</em>: Panu A Kalliokoski &lt;<a href="mailto:atehwa@DOMAIN.HIDDEN">atehwa@xxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Tue, 10 May 2005 19:41:12 +0300</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-67@DOMAIN.HIDDEN">srfi-67@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Sender</em>: Panu A Kalliokoski &lt;<a href="mailto:pkalliok@DOMAIN.HIDDEN">pkalliok@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Mutt/1.3.28i</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Sorry for bugging you so much over such a minor issue... (however, I
hope this will be changed and not left as is just for &quot;not
bothering&quot;...)

On Sun, May 08, 2005 at 10:25:28PM +0200, Jens Axel S&#xF8;gaard wrote:
&gt; The &quot;numbers can be used in index computations&quot; also refer to the fact
&gt; that one at the assembly level can dispatch to the proper branch by
&gt; doing a simple table lookup based upon the return value of a compare
&gt; function.

This can't possibly lead to any performance gain, because in the general
case, the compiler will have to bound-check the integer returned by the
compare function, which leads to two checks - the same number of
comparisons as caused by checking which symbol it is.

&gt; &gt;Besides, enumerations are generally handled in a &quot;case&quot; clause, where
&gt; &gt;symbols are automatically quoted:
&gt; &gt;
&gt; &gt;(case (compare x y)
&gt; &gt;  ((eq) ...)
&gt; &gt;  ((lt) ...)
&gt; &gt;  ((gt) ...))
&gt; 
&gt; The user of the srfi should write:
&gt; 
&gt;   (if3 (compare x y)
&gt;     (...)
&gt;     (...)
&gt;     (...))
&gt; 
&gt; The control operators provided ought to support all uses of compare
&gt; functions.

True.  I acknowledge the fact that most of the time users will not need
deal with the return values of compare functions at all.  However, in
the case that they do, I would like them to be something descriptive.
For example, if a student writes in a REPL,

(compare &quot;asia&quot; &quot;antecedent&quot;)

it would be IMO more intuitive if the answer was &gt; (or gt), not 1.

&gt; The overall idea is to provide enough constructs such that the user
&gt; of this srfi never needs to know the underlying represention of the
&gt; three cases. Thus the user is ought not to use bad practices from other
&gt; languages.

Yes.  So, my argument boils down to this:

(1) there are no good reasons for using integers as the return values.
(2) bad code should be discouraged. (eg. using compare values for
indexing, addition etc.)
(3) using symbols would lead to more descriptive user experience.
-&gt; ergo, the return values of compare functions should be symbols.

Panu

-- 
personal contact: atehwa@xxxxxx, +35841 5323835, +3589 85619369
work contact: pkalliok@xxxxxxxxxxxxxxxx, +35850 3678003
kotisivu (henkkoht):	<a  rel="nofollow" href="http://www.iki.fi/atehwa/">http://www.iki.fi/atehwa/</a>
homepage (technical):	<a  rel="nofollow" href="http://sange.fi/~atehwa/">http://sange.fi/~atehwa/</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00028" href="msg00028.html">Re: compare function return values</a></strong>
<ul><li><em>From:</em> bear</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00024.html">Re: Naming, compare function return values</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00026.html">Re: Naming, compare function return values</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00026.html">Re: Naming, compare function return values</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00028.html">Re: compare function return values</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00025"><strong>Date</strong></a></li>
<li><a href="threads.html#00025"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
