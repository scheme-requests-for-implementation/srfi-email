<!-- MHonArc v2.6.15 -->
<!--X-Subject: One more voice on "linear update" and "!" -->
<!--X-From-R13: Rna Pbeafgrva <qnashmmNzvyx.pbz> -->
<!--X-Date: Thu, 12 Aug 1999 15:02:41 &#45;0500 (CDT) -->
<!--X-Message-Id: 14259.10335.274657.958166@shell5.ba.best.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>One more voice on &quot;linear update&quot; and &quot;!&quot;</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00074.html">Date Prev</a>][<a href="msg00076.html">Date Next</a>][<a href="msg00073.html">Thread Prev</a>][<a href="msg00077.html">Thread Next</a>][<a href="maillist.html#00075">Date Index</a>][<a href="threads.html#00075">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>One more voice on &quot;linear update&quot; and &quot;!&quot;</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-1">SRFI 1</a> from before July 7th, 2015.  The new archives for SRFI 1 are <a href="http://srfi-email.schemers.org/srfi-1/">here</a>.  The new archives contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-1@DOMAIN.HIDDEN">srfi-1@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: One more voice on &quot;linear update&quot; and &quot;!&quot;</li>
<li><em>From</em>: Dan Bornstein &lt;<a href="mailto:danfuzz@DOMAIN.HIDDEN">danfuzz@xxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Thu, 12 Aug 1999 13:02:39 -0700 (PDT)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>I've been thinking a lot about the whole linear update issue, and I agree
that having a way to advise the system about object use without forcing a
particular paradigm (destructive or not) is a good thing. However, the
simple fact is that the pre-existing meaning of &quot;!&quot; in Scheme is *not*
linear update--it is destructive modification--as most obviously
demonstrated by these procedures:

    set!
    set-car!
    set-cdr!

What would each of these mean if they were linear update anyway? They all
return unspecified values, for one thing, so if they were recast in a
linear update light, that would have to change. But let's say that you did
that, then there are still problems. For example, set-cdr! is often used to
create circular lists, but if it were defined to be nondestructive in a
particular implementation, there would be no way to do this.

set! as linear update is even trickier. In terms of setting globals, you
would have to think about it in terms of being an operation on the entire
global environment (e.g., replacing the environment with an identical one
except for a new binding for the variable in question). In terms of setting
locals, you would have to think about it in terms of being an operation on
the continuation, similarly replacing the continuation with an identical
one modulo the specified variable binding. What does it mean in these cases
to be nondestructive? And in the local variable case, what are the
implications with respect to multiple calls to the same continuation in a
system that defined these procedures nondestructively?

Let me reiterate that I like the concept of linear update. (I am pre-sold
on the overall benefits to keeping data, to the extent possible, immutable,
and this is one way to make that possible without simultaneously losing
efficiency.) However, I think it's a bad idea to usurp &quot;!&quot; in Scheme for
that meaning, since it will only lead to confusion--some but not all &quot;!&quot;
procedures one encounters would be linear-update, and some would be
required-destructive. I can already hear the screams of millions of unhappy
programmers shooting themselves in the feet. I expect I'm too late to
really influence anything, but I felt that, even at the 11th hour, it was
worth it to try.

-dan

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00077" href="msg00077.html">One more vote on &quot;linear update&quot; and &quot;!&quot;</a></strong>
<ul><li><em>From:</em> shivers</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00074.html">RE: SRFI-1 final draft available</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00076.html">Re: SRFI-1 final draft available</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00073.html">TAKE, DROP &amp; sharing</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00077.html">One more vote on &quot;linear update&quot; and &quot;!&quot;</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00075"><strong>Date</strong></a></li>
<li><a href="threads.html#00075"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
