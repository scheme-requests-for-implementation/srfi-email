<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: LIST&#45;LENGTH &#38; circular lists -->
<!--X-From-R13: VXEFSW@Noybbzoret.pbz (Vneirl X. Egrva) -->
<!--X-Date: Wed, 25 Apr 2001 11:50:05 &#45;0500 (CDT) -->
<!--X-Message-Id: kiwd7a0x6u4.fsf@blinky.bloomberg.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 199902191757.MAA24323@shivers.ne.mediaone.net -->
<!--X-Reference: 20010422162708.782967.FMU5418@piglet.prv.splode.com -->
<!--X-Reference: 200104231540.LAA16084@mongkok.cc.gt.atl.ga.us -->
<!--X-Reference: 200104231600.f3NG06o11880@honti.mit.edu -->
<!--X-Reference: 200104231614.MAA16198@mongkok.cc.gt.atl.ga.us -->
<!--X-Reference: kiwbspna8pa.fsf@blinky.bloomberg.com -->
<!--X-Reference: 200104231656.MAA16403@mongkok.cc.gt.atl.ga.us -->
<!--X-Reference: 20010423155827.93236.FMU5418@piglet.prv.splode.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: LIST-LENGTH &amp; circular lists</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00102.html">Date Prev</a>][<a href="msg00104.html">Date Next</a>][<a href="msg00102.html">Thread Prev</a>][<a href="msg00043.html">Thread Next</a>][<a href="maillist.html#00103">Date Index</a>][<a href="threads.html#00103">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: LIST-LENGTH &amp; circular lists</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-1">SRFI 1</a> from before July 7th, 2015.  The <a href="http://srfi-email.schemers.org/srfi-1">new archives</a> for SRFI 1 contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Noah Friedman &lt;<a href="mailto:friedman@DOMAIN.HIDDEN">friedman@xxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: LIST-LENGTH &amp; circular lists</li>
<li><em>From</em>: <a href="mailto:HJSTEIN@DOMAIN.HIDDEN">HJSTEIN@xxxxxxxxxxxxx</a> (Harvey J. Stein)</li>
<li><em>Date</em>: 25 Apr 2001 12:49:39 -0400</li>
<li><em>Cc</em>: <a href="mailto:shivers@DOMAIN.HIDDEN">shivers@xxxxxxxxxxxxx</a>, <a href="mailto:avp@DOMAIN.HIDDEN">avp@xxxxxxxxxxxx</a>, <a href="mailto:srfi-1@DOMAIN.HIDDEN">srfi-1@xxxxxxxxxxxxxxxxx</a>,        <a href="mailto:e@DOMAIN.HIDDEN">e@xxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: Noah Friedman's message of &quot;Mon, 23 Apr 2001 15:58:27 -0700 (PDT)&quot;</li>
<li><em>References</em>: &lt;<a href="mailto:199902191757.MAA24323@DOMAIN.HIDDEN">199902191757.MAA24323@xxxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:20010422162708.782967.FMU5418@DOMAIN.HIDDEN">20010422162708.782967.FMU5418@xxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:200104231540.LAA16084@DOMAIN.HIDDEN">200104231540.LAA16084@xxxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:200104231600.f3NG06o11880@DOMAIN.HIDDEN">200104231600.f3NG06o11880@xxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:200104231614.MAA16198@DOMAIN.HIDDEN">200104231614.MAA16198@xxxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:kiwbspna8pa.fsf@DOMAIN.HIDDEN">kiwbspna8pa.fsf@xxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:200104231656.MAA16403@DOMAIN.HIDDEN">200104231656.MAA16403@xxxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:20010423155827.93236.FMU5418@DOMAIN.HIDDEN">20010423155827.93236.FMU5418@xxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:hjstein@DOMAIN.HIDDEN">hjstein@xxxxxxxxxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Noah Friedman &lt;friedman@xxxxxxxxxx&gt; writes:

 &gt; But since a couple of people made remarks on this list to effect
 &gt; that this looked like an &quot;expensive&quot; problem, I just wanted to
 &gt; point out that it's not especially so.

Its complexity isn't higher, but it's still more work.  You have two
additional variables you're maintaining &amp; and two additional tests per
loop.  It's not clear whether the extra work is worth it.  Its cost
on lists with loops ends up being proportional to 2 * (length up to
loop) + (2 or 3) * length of loop (depending on how many times the
loop is initially traversed).

Incidentally, another algorithm for length which doesn't go into an
infinite loop on circular lists is to reverse the pointers as you walk
the list.  If you get back to the head then you encountered a circular
list.  This one ends up (for lists with loops) being proportional to 4
* (length up to loop) + 2 * length of loop.  But I wouldn't recommend
it for lots of reasons...

-- 
Harvey Stein
Bloomberg LP
hjstein@xxxxxxxxxxxxx

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00042" href="msg00042.html">Re: LIST-LENGTH &amp; circular lists</a></strong>
<ul><li><em>From:</em> Olin Shivers</li></ul></li>
<li><strong><a name="00096" href="msg00096.html">Re: LIST-LENGTH &amp; circular lists</a></strong>
<ul><li><em>From:</em> Noah Friedman</li></ul></li>
<li><strong><a name="00097" href="msg00097.html">Re: LIST-LENGTH &amp; circular lists</a></strong>
<ul><li><em>From:</em> shivers</li></ul></li>
<li><strong><a name="00098" href="msg00098.html">Re: LIST-LENGTH &amp; circular lists</a></strong>
<ul><li><em>From:</em> Andrew Pochinsky</li></ul></li>
<li><strong><a name="00099" href="msg00099.html">Re: LIST-LENGTH &amp; circular lists</a></strong>
<ul><li><em>From:</em> shivers</li></ul></li>
<li><strong><a name="00100" href="msg00100.html">Re: LIST-LENGTH &amp; circular lists</a></strong>
<ul><li><em>From:</em> Harvey J. Stein</li></ul></li>
<li><strong><a name="00101" href="msg00101.html">Re: LIST-LENGTH &amp; circular lists</a></strong>
<ul><li><em>From:</em> shivers</li></ul></li>
<li><strong><a name="00102" href="msg00102.html">Re: LIST-LENGTH &amp; circular lists</a></strong>
<ul><li><em>From:</em> Noah Friedman</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00102.html">Re: LIST-LENGTH &amp; circular lists</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00104.html">SRFI 1:any? and every? take only clists?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00102.html">Re: LIST-LENGTH &amp; circular lists</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00043.html">Re: LIST-LENGTH &amp; circular lists</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00103"><strong>Date</strong></a></li>
<li><a href="threads.html#00103"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
