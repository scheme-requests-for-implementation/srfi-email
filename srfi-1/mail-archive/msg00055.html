<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Improper lists [Was: SRFI&#45;1 round 3 discussion] -->
<!--X-From-R13: Znef Fubznf Vnafra <yguNppf.arh.rqh> -->
<!--X-Date: Tue, 29 Jun 1999 09:09:42 &#45;0500 (CDT) -->
<!--X-Message-Id: 199906291409.KAA05115@vega.ccs.neu.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: y9loghzwjaq.fsf@brabantio.informatik.uni&#45;tuebingen.de -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Improper lists [Was: SRFI-1 round 3 discussion]</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00054.html">Date Prev</a>][<a href="msg00056.html">Date Next</a>][<a href="msg00053.html">Thread Prev</a>][<a href="msg00057.html">Thread Next</a>][<a href="maillist.html#00055">Date Index</a>][<a href="threads.html#00055">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Improper lists [Was: SRFI-1 round 3 discussion]</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-1">SRFI 1</a> from before July 7th, 2015.  The new archives for SRFI 1 are <a href="http://srfi-email.schemers.org/srfi-1/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-1@DOMAIN.HIDDEN">srfi-1@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: Improper lists [Was: SRFI-1 round 3 discussion]</li>
<li><em>From</em>: Lars Thomas Hansen &lt;<a href="mailto:lth@DOMAIN.HIDDEN">lth@xxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Tue, 29 Jun 1999 10:09:38 -0400</li>
<li><em>Cc</em>: <a href="mailto:lth@DOMAIN.HIDDEN">lth@xxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: Your message of &quot;29 Jun 1999 09:35:41 +0200.&quot;             &lt;<a href="mailto:y9loghzwjaq.fsf@DOMAIN.HIDDEN">y9loghzwjaq.fsf@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt; </li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Michael Sperber writes:

&gt;&gt;&gt;&gt;&gt;&gt; &quot;Sergei&quot; == Sergei Egorov &lt;esl@xxxxxxxxxxxxxxx&gt; writes:
&gt;
&gt;Sergei&gt; I think that the whole idea of &quot;robustness&quot; (meaning don't break under
&gt;Sergei&gt; any circumstances) is not in a Scheme tradition: after all these years
&gt;Sergei&gt; spent trying to convince programmers that (car '()) is an error,
&gt;Sergei&gt; we are back to (length &quot;abc&quot;) =&gt; 0. Since &quot;improper list&quot; is synonymous
&gt;Sergei&gt; to &quot;any object&quot; (anything or a pair = anything), we will end up with a
&gt;Sergei&gt; list library that accepts (and often produces) nonsensical data.
&gt;
&gt;I agree with Sergei.

As do I.

Olin Shivers writes:

&gt;Let's consider a binary (APPEND x y). Here's the traditional pattern:
&gt;
&gt;    (let recur ((x x))
&gt;      (if (null? x) 
&gt;          y
&gt;          (cons (car x) (recur (cdr x)))))
&gt;
&gt;Again, the (CAR X) and (CDR X) expressions are not guaranteed to
&gt;work. If you focus on *pairness*, they are guaranteed to work:
&gt;    
&gt;    (let recur ((x x))
&gt;      (if (pair? x) 
&gt;          (cons (car x) (recur (cdr x)))
&gt;          y))

But this borders on the absurd, because under this definition,

   (append '(a b c . d) '(e f g)) =&gt; (a b c e f g)

that is, the d is silently dropped.  What kind of sense does that make?

&gt;Now, you can focus on pairness, and still rule out improper lists by
&gt;writing this definition:
&gt;
&gt;    (let recur ((x x))
&gt;      (cond ((pair? x) (cons (car x) (recur (cdr x))))
&gt;            ((null? x) y)
&gt;            (else (error ...))))
&gt;
&gt;All this means, however, that we basically coded in a gratuitous
&gt;restriction to our definition that wasn't at all needed. It is not
&gt;one with the structure of the problem; we just bolted it on.

The restriction is not gratuitous; rather, it restricts the domain of
APPEND to those arguments for which APPEND makes sense.

You can well argue that we need richer operations for programming with
improper lists, but conflating those operations with operations on lists
makes programming with lists more error prone or surprising, and that
hardly seems desirable.

--lars

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00057" href="msg00057.html">Re: Improper lists</a></strong>
<ul><li><em>From:</em> Olin Shivers</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00053" href="msg00053.html">Improper lists [Was: SRFI-1 round 3 discussion]</a></strong>
<ul><li><em>From:</em> Michael Sperber [Mr. Preprocessor]</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00054.html">Improper lists</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00056.html">Re: Improper lists</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00053.html">Improper lists [Was: SRFI-1 round 3 discussion]</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00057.html">Re: Improper lists</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00055"><strong>Date</strong></a></li>
<li><a href="threads.html#00055"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
