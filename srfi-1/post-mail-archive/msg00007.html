<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: SRFI&#45;1's fold is not fold&#45;left! -->
<!--X-From-R13: Brgre Ybhemnabi <crgre.xbhemnabiNtznvy.pbz> -->
<!--X-Date: Sat, 10 Nov 2012 08:09:46 +0000 (UTC) -->
<!--X-Message-Id: y9lip9dhoab.fsf@deinprogramm.de -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20121103123853.E5A59604DE@jupiter.mumble.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: SRFI-1's fold is not fold-left!</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00006.html">Date Prev</a>][Date Next][<a href="msg00006.html">Thread Prev</a>][Thread Next][<a href="maillist.html#00007">Date Index</a>][<a href="threads.html#00007">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: SRFI-1's fold is not fold-left!</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-1@DOMAIN.HIDDEN">srfi-1@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: SRFI-1's fold is not fold-left!</li>
<li><em>From</em>: Peter Kourzanov &lt;<a href="mailto:peter.kourzanov@DOMAIN.HIDDEN">peter.kourzanov@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Sat, 10 Nov 2012 09:09:48 +0100</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-1@DOMAIN.HIDDEN">srfi-1@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:20121103123853.E5A59604DE@DOMAIN.HIDDEN">20121103123853.E5A59604DE@xxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Old-date</em>: Sat, 03 Nov 2012 22:29:11 +0100</li>
<li><em>References</em>: &lt;<a href="mailto:20121103123853.E5A59604DE@DOMAIN.HIDDEN">20121103123853.E5A59604DE@xxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Gnus/5.110011 (No Gnus v0.11) XEmacs/21.5-b31 (darwin)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Sat, 2012-11-03 at 12:39 +0000, Taylor R Campbell wrote: 
&gt; Date: Sat, 03 Nov 2012 13:17:22 +0100
&gt;    From: Peter Kourzanov &lt;peter.kourzanov@xxxxxxxxx&gt;
&gt; 
&gt;    &gt; While translating some OCaml code I have come across the following
&gt;    &gt; discrepancy. Although it is known, it is worthwhile to mention it, I
&gt;    &gt; think. The SRFI-1's fold is not actually a fold-left (it is mentioned 
&gt;    &gt; in passing in SRFI-1 itself that F's args are flipped w.r.t. MIT-Scheme
&gt;    &gt; and Haskell). 
&gt; 
&gt; The only flipping here is the coin you flip when deciding which order
&gt; the arguments are supposed to go in when specifying the operation.
&gt; Haskell and MIT Scheme do it one way; SML and SRFI 1 do it the other
&gt; way.  Neither one is the `actual' fold-left; I'm sure you can find
&gt; lots more examples of both, under various names including `fold' and
&gt; `foldl' and `fold-left' and `reduce'.

Yet, in many books one typically finds (fold-left f z x0 ... xn) defined as:

(f ... (f (f z x0) x1) ... xn)

and not as:

(f xn ... (f x1 (f x0 z))...)

which rather looks like a (fold-right f z (reverse x0 ... xn)).

As a bonus, BTW, the implementation of the &quot;correct&quot; generic fold-left
can avoid the linear overhead in (destructively) appending the
accumulator to the list of heads each round (I found this to be an 
issue in both SLIB and in Bigloo).

&gt; Drawing a distinction between `fold [left]' (f xi state) and `fold
&gt; left' (f state xi) is likely only to confuse matters further, I
&gt; suspect.  (E.g., already, in SML, foldl is your `fold [left]' and not
&gt; your `fold left'.)

All true. Still, when one finds himself chasing this silly issue
as the only bug left (after having done type-erasure and getting rid 
of horrific OCaml syntax), one does wish for the better.

What complicates matters too is the fact that SRFI-1 is careful enough
to avoid describing FOLD as fold-left. There goes much of the beautiful
symmetry in the underlying theory of lists. And probably many potential
users explicitly searching for a fold-left list iterator.

Kind regards,
Pjotr Kourzanov

P.S. BTW, how many programs do we expect to see converted from SML to 
     Scheme?

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00006" href="msg00006.html">Re: SRFI-1's fold is not fold-left!</a></strong>
<ul><li><em>From:</em> Taylor R Campbell</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00006.html">Re: SRFI-1's fold is not fold-left!</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00006.html">Re: SRFI-1's fold is not fold-left!</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00007"><strong>Date</strong></a></li>
<li><a href="threads.html#00007"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
