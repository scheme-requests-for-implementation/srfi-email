<!-- MHonArc v2.6.18 -->
<!--X-Subject: Documenting the `comparator&#45;register&#45;default!` procedure -->
<!--X-From-R13: Xbua Qbjna <pbjnaNzrephel.ppvy.bet> -->
<!--X-Date: Sun, 16 Nov 2014 17:49:52 +0000 (UTC) -->
<!--X-Message-Id: 20141116174951.GE13604@mercury.ccil.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Documenting the `comparator-register-default!` procedure</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00005.html">Date Prev</a>][<a href="msg00007.html">Date Next</a>][<a href="msg00002.html">Thread Prev</a>][<a href="msg00007.html">Thread Next</a>][<a href="maillist.html#00006">Date Index</a>][<a href="threads.html#00006">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Documenting the `comparator-register-default!` procedure</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-114@DOMAIN.HIDDEN">srfi-114@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Documenting the `comparator-register-default!` procedure</li>
<li><em>From</em>: John Cowan &lt;<a href="mailto:cowan@DOMAIN.HIDDEN">cowan@xxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Sun, 16 Nov 2014 12:49:51 -0500</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-114@DOMAIN.HIDDEN">srfi-114@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Sender</em>: John Cowan &lt;<a href="mailto:cowan@DOMAIN.HIDDEN">cowan@xxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Mutt/1.5.20 (2009-06-14)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>The new sample implementation of comparators exports an additional
procedure that is deliberately not provided in the SRFI, called
`comparator-register-default!`.  This is intended for other sample
implementations to register their comparator objects so that they will
be correctly used by the default comparator.  Because the whole idea
of registering comparators depends on the particulars of the sample
implementation, it is not portable to other implementations of comparators.

When `comparator-register-default!` is invoked with a single argument,
a comparator, the default comparator is extended to understand objects
that satisfy the type test of the registered comparator, and to apply it
when comparing two objects that satisfy that type test.  Such objects
are said to belong to &quot;registered types&quot;, whereas all other objects
other than the built-in R7RS-small types belong to &quot;unregistered types&quot;.
When dealing with objects of unregistered types, the default comparator
makes them compare equal and hash to 0, a safe but fairly useless default.

The effect of comparing two objects of different registered types
is only partly predictable, as it depends on the order in which
`comparator-register-default!` is called.  However, the normal guarantees
of the default comparator still apply.  In addition, Every object of a
registered type compares less than all objects of unregistered types.

-- 
John Cowan          <a  rel="nofollow" href="http://www.ccil.org/~cowan">http://www.ccil.org/~cowan</a>        cowan@xxxxxxxx
A few times, I did some exuberant stomping about, like a hippo auditioning
for Riverdance, though I stopped when I thought I heard something at
the far side of the room falling over in rhythm with my feet.  --Joseph Zitt

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00007" href="msg00007.html">Re: Documenting the `comparator-register-default!` procedure</a></strong>
<ul><li><em>From:</em> Kevin Wortman</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00005.html">Re: srfi-114 reference implementation fixes</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00007.html">Re: Documenting the `comparator-register-default!` procedure</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00002.html">In-place update to SRFI 114</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00007.html">Re: Documenting the `comparator-register-default!` procedure</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00006"><strong>Date</strong></a></li>
<li><a href="threads.html#00006"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
