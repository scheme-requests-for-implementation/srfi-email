<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: more on finalization issue, and reference implementation -->
<!--X-From-R13: Euveb Ynjnv <fuvebNynin.arg> -->
<!--X-Date: Mon, 29 Aug 2005 01:01:40 +0200 (MST) -->
<!--X-Message-Id: 20050828.130223.168073889.shiro@lava.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: y9l3boyc5rh.fsf@sams.informatik.uni&#45;tuebingen.de -->
<!--X-Reference: 20050827.015352.371671504.shiro@lava.net -->
<!--X-Reference: y9lk6i69idb.fsf@sams.informatik.uni&#45;tuebingen.de -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: more on finalization issue, and reference implementation</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00107.html">Date Prev</a>][<a href="msg00109.html">Date Next</a>][<a href="msg00105.html">Thread Prev</a>][<a href="msg00118.html">Thread Next</a>][<a href="maillist.html#00108">Date Index</a>][<a href="threads.html#00108">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: more on finalization issue, and reference implementation</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-68@DOMAIN.HIDDEN">srfi-68@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: more on finalization issue, and reference implementation</li>
<li><em>From</em>: Shiro Kawai &lt;<a href="mailto:shiro@DOMAIN.HIDDEN">shiro@xxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Sun, 28 Aug 2005 13:02:23 -1000 (HST)</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-68@DOMAIN.HIDDEN">srfi-68@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:y9lk6i69idb.fsf@DOMAIN.HIDDEN">y9lk6i69idb.fsf@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:y9l3boyc5rh.fsf@DOMAIN.HIDDEN">y9l3boyc5rh.fsf@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:20050827.015352.371671504.shiro@DOMAIN.HIDDEN">20050827.015352.371671504.shiro@xxxxxxxx</a>&gt;	&lt;<a href="mailto:y9lk6i69idb.fsf@DOMAIN.HIDDEN">y9lk6i69idb.fsf@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>From: Michael Sperber &lt;sperber@xxxxxxxxxxxxxxxxxxxxxxxxxxx&gt;
Subject: Re: more on finalization issue, and reference implementation
Date: Sun, 28 Aug 2005 17:44:00 +0200

&gt; Shiro Kawai &lt;shiro@xxxxxxxx&gt; writes:
&gt; 
&gt; &gt; Does the runtime system do it automatically upon program
&gt; &gt; termination?  
&gt; 
&gt; Depends on what you mean by automatic.  It needs to be triggered
&gt; explicitly, but it happens, for example, when you type ,exit in the
&gt; REPL or a SRFI-22-style script finishes running.

That's what I had in my mind.

&gt; &gt; In such a case, I guess you should have a weak table to keep a set
&gt; &gt; of opened ports, right?
&gt; 
&gt; No, it remembers which ports still have buffers that need flushing.

Ah, I see.  You keep a pool of ports with pending output, and
if its buffer is flushed the port is taken out from the pool,
and if it gets the buffered data again the port is added to the
pool.  Then you surely don't need weak pointers, hmmm.

--shiro

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00093" href="msg00093.html">Re: more on finalization issue, and reference implementation</a></strong>
<ul><li><em>From:</em> Michael Sperber</li></ul></li>
<li><strong><a name="00102" href="msg00102.html">Re: more on finalization issue, and reference implementation</a></strong>
<ul><li><em>From:</em> Shiro Kawai</li></ul></li>
<li><strong><a name="00105" href="msg00105.html">Re: more on finalization issue, and reference implementation</a></strong>
<ul><li><em>From:</em> Michael Sperber</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00107.html">Re: a few questions about file-options</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00109.html">Re: Specification vs. Implementation</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00105.html">Re: more on finalization issue, and reference implementation</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00118.html">Final rites before split</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00108"><strong>Date</strong></a></li>
<li><a href="threads.html#00108"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
