<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Mixing characters and bytes -->
<!--X-From-R13: [vpunry Ecreore <fcreoreNvasbezngvx.hav&#45;ghrovatra.qr> -->
<!--X-Date: Thu, 15 Sep 2005 20:07:17 +0200 (MST) -->
<!--X-Message-Id: y9lvf128asw.fsf@sams.informatik.uni&#45;tuebingen.de -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 430CBF89.1070500@bothner.com -->
<!--X-Reference: y9lfysyc624.fsf@sams.informatik.uni&#45;tuebingen.de -->
<!--X-Reference: y9loe6xcg8o.fsf@sams.informatik.uni&#45;tuebingen.de -->
<!--X-Reference: 20050914.175131.855645388.shiro@lava.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Mixing characters and bytes</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00115.html">Date Prev</a>][<a href="msg00117.html">Date Next</a>][<a href="msg00115.html">Thread Prev</a>][<a href="msg00085.html">Thread Next</a>][<a href="maillist.html#00116">Date Index</a>][<a href="threads.html#00116">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Mixing characters and bytes</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-68">SRFI 68</a> from before July 7th, 2015.  The <a href="http://srfi-email.schemers.org/srfi-68">new archives</a> for SRFI 68 contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Shiro Kawai &lt;<a href="mailto:shiro@DOMAIN.HIDDEN">shiro@xxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: Mixing characters and bytes</li>
<li><em>From</em>: Michael Sperber &lt;<a href="mailto:sperber@DOMAIN.HIDDEN">sperber@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Thu, 15 Sep 2005 20:07:11 +0200</li>
<li><em>Cc</em>: <a href="mailto:srfi-68@DOMAIN.HIDDEN">srfi-68@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-68@DOMAIN.HIDDEN">srfi-68@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:20050914.175131.855645388.shiro@DOMAIN.HIDDEN">20050914.175131.855645388.shiro@xxxxxxxx</a>&gt; (Shiro Kawai's message	of &quot;Wed, 14 Sep 2005 17:51:31 -1000 (HST)&quot;)</li>
<li><em>References</em>: &lt;<a href="mailto:430CBF89.1070500@DOMAIN.HIDDEN">430CBF89.1070500@xxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:y9lfysyc624.fsf@DOMAIN.HIDDEN">y9lfysyc624.fsf@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:y9loe6xcg8o.fsf@DOMAIN.HIDDEN">y9loe6xcg8o.fsf@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:20050914.175131.855645388.shiro@DOMAIN.HIDDEN">20050914.175131.855645388.shiro@xxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Gnus/5.110003 (No Gnus v0.3) XEmacs/21.5-b21 (berkeley-unix)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Shiro Kawai &lt;shiro@xxxxxxxx&gt; writes:

&gt; One practical example is reading MIME-encoded message.
&gt; You may switch encodings, for example:
&gt; ASCII -&gt; euc-jp -&gt; ASCII -&gt; binary -&gt; ASCII -&gt; utf-8.
&gt; What I'm doing currently (in Gauche) is to layer ports; that is,
&gt; I create a port that reads from the original port, but stops reading
&gt; and returns EOF when it encounters a MIME boundary.  From that
&gt; port I read the MIME header as ASCII, then layer the
&gt; encoding-conversion port if I need one.  This is conceptually
&gt; simple, but the drawback is that I need to buffer the data
&gt; multiple times.

&gt; I suppose, in srfi-68, I can do similar thing by layering streams.

You could do the exact same thing with streams, by simply using
TRANSCODE-STREAM.  You get an extra layer of buffering through the
transcoding, but that's essentially a performance advantage, I'd say.

&gt; I don't think each stream should switch encoding in it.

Probably not, but, in theory, you could also build the functionality
into the transcoder itself.  Whether this is prettier depends heavily
on the application.

-- 
Cheers =8-} Mike
Friede, V&#xF6;lkerverst&#xE4;ndigung und &#xFC;berhaupt blabla

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00079" href="msg00079.html">Re: Mixing characters and bytes</a></strong>
<ul><li><em>From:</em> Per Bothner</li></ul></li>
<li><strong><a name="00091" href="msg00091.html">Re: Mixing characters and bytes</a></strong>
<ul><li><em>From:</em> Michael Sperber</li></ul></li>
<li><strong><a name="00113" href="msg00113.html">Re: Mixing characters and bytes</a></strong>
<ul><li><em>From:</em> Michael Sperber</li></ul></li>
<li><strong><a name="00115" href="msg00115.html">Re: Mixing characters and bytes</a></strong>
<ul><li><em>From:</em> Shiro Kawai</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00115.html">Re: Mixing characters and bytes</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00117.html">Revision of SRFI 68 available</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00115.html">Re: Mixing characters and bytes</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00085.html">Re: Mixing characters and bytes</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00116"><strong>Date</strong></a></li>
<li><a href="threads.html#00116"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
