<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: problems with rationale &#38; design -->
<!--X-From-R13: pnzcoryyNnhgbqevc.oybbqnaqpbssrr.arg -->
<!--X-Date: Fri, 18 Jun 2004 05:27:18 +0200 (DFT) -->
<!--X-Message-Id: Pine.LNX.4.44.0406171240210.4815&#45;100000@autodrip.bloodandcoffee.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 40D12B33.5070406@call&#45;with&#45;current&#45;continuation.org -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: problems with rationale &amp; design</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00009.html">Date Prev</a>][<a href="msg00011.html">Date Next</a>][<a href="msg00009.html">Thread Prev</a>][<a href="msg00011.html">Thread Next</a>][<a href="maillist.html#00010">Date Index</a>][<a href="threads.html#00010">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: problems with rationale &amp; design</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-55">SRFI 55</a> from before July 7th, 2015.  The <a href="http://srfi-email.schemers.org/srfi-55">new archives</a> for SRFI 55 contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: felix &lt;<a href="mailto:felix@DOMAIN.HIDDEN">felix@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: problems with rationale &amp; design</li>
<li><em>From</em>: <a href="mailto:campbell@DOMAIN.HIDDEN">campbell@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
<li><em>Date</em>: Thu, 17 Jun 2004 20:39:14 -0700 (PDT)</li>
<li><em>Cc</em>: <a href="mailto:srfi-55@DOMAIN.HIDDEN">srfi-55@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-55@DOMAIN.HIDDEN">srfi-55@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:40D12B33.5070406@DOMAIN.HIDDEN">40D12B33.5070406@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Thu, 17 Jun 2004, felix wrote:

&gt; campbell@xxxxxxxxxxxxxxxxxxxxxxxxxxx wrote:
&gt; 
&gt; &gt; I have several problems with this.  To the first part, I really don't
&gt; &gt; see any need for standardizing interactive features.  If you're using a
&gt; &gt; specific implementation's interactor, well, you're going to be doing
&gt; &gt; stuff that's really implementation-specific anyways, and to make an
&gt; &gt; attempt to standardize all interactive Scheme features would be simply
&gt; &gt; silly.  And anyways, SRFI 7's clauses could easily be adapted to some
&gt; &gt; form of interactive declarations.
&gt; 
&gt; SRFI-55 is not mainly about interaction. It's one possible application,
&gt; where `require-extension' would simplify loading/importing of external
&gt; libraries (SRFIs in this case), but could be used in any other context
&gt; as well.

OK.  I'd rather, then, that this not be in the 'Rationale' section.

&gt; &gt; The second part of the rationale is more significant.  First of all,
&gt; &gt; SRFI 7 defines a language for specifying the dependencies of a Scheme
&gt; &gt; program.  SRFI 7's intent is _not_ to specify a program loader -- for
&gt; &gt; example, a SRFI 7 processor for which it would make no sense to perform
&gt; &gt; loading of necessary features might be a dependency analyzer --; but
&gt; &gt; SRFI 7 _does_ suggest that a program loader exist somewhere in a Scheme
&gt; &gt; system that purports to support SRFI 7, and a useful program loader
&gt; &gt; _would_ indeed load the necessary features.  
&gt; 
&gt; I don't think one should make too much effort interpreting certain features
&gt; into overly vague specifications. If the author of SRFI-7 did indeed have
&gt; something like &quot;loading&quot; (in any possible sense) extension libraries into
&gt; the system, then he could have specified it as such. SRFI-55 specifies
&gt; what SRFI-7 only (and incompletely) hints at.

Why, then, is SRFI 55 not _just_ a specification detailing that a SRFI
7 program loader (whatever that is) should load the necessary code for
features?  Why is it a completely new mechanism with the _exact_same_
problems that the _first_ SRFI already had and that were already dealt
with by SRFI 7?

&gt; &gt; If someone wrote a SRFI 7
&gt; &gt; program loader that didn't actually load the features, why would they
&gt; &gt; write a SRFI 55 program loader that _did_?
&gt; 
&gt; Sorry, I don't get the point here.

OK.  Let me clarify a little.  Here comes along J. Random Implementor,
making a new Scheme that he wants to be able to run lots of SRFIs.  He
scans down the list of SRFIs, sees the points against SRFI 0, and
decides not to implement it.  He implements the next few, and gets to
SRFI 7.  Skipping ahead, he also sees SRFI 55. 

If he decides not to write a useful SRFI 7 program loader that loads the
code for features when someone loads a SRFI 7 program that requires
them, why would he implement SRFI 55 such that it _did_ load the
necessary code for features?  If your answer is 'because SRFI 7 was
too vague &amp; didn't specify that a useful program loader should load the
necessary code for features,' my next question is: why is this SRFI not
just an amendment to SRFI 7 to specify that?

If he decides to write a useful SRFI 7 program loader that does indeed
load necessary code for features, he might think that SRFI 55 is just
superfluous, or he might implement SRFI 55, and then his implementation
would have needless clutter duplicating functionality, and, if this
functionality is standardized, that's really not a good thing,
especially if the duplicate has strong arguments against it, as SRFI 55
&amp; SRFI 0-style mechanisms, where module system data is encoded directly
in Scheme, do.

&gt; &gt; Furthermore, SRFI 7 even suggests that implementations that purport to
&gt; &gt; 'support SRFI 7' provide a front end to their compilers or program
&gt; &gt; loaders for SRFI 7, whereas SRFI 55 doesn't even suggest that!
&gt; 
&gt; No, why should it? `require-extension' *is* the front end.
&gt; What are you talking about?

I have a file foo.scm.  It contains a use of REQUIRE-EXTENSION, and
does a little other stuff.  How do I load it?  The LOAD procedure in
R5RS is vaguely underspecified and optional, just as you argue that
SRFI 7's LOAD-PROGRAM suggestion is.

&gt; &gt; Now, I am also troubled by the design of SRFI 55.  It has the _exact_
&gt; &gt; same problems that Kelsey argued against in the SRFI 0 discussion list
&gt; &gt; and for which reason Kelsey 'responded' to SRFI 0 with SRFI 7!
&gt; &gt; Specifically, it is embedded in Scheme, which is utterly incompatible
&gt; &gt; with certain module system designs that cleanly separate the metadata
&gt; &gt; that the module system provides about the source and the source data
&gt; &gt; itself; in an example such module system, Scheme48's, it would require
&gt; &gt; absolute contortion to the system to make this operate correctly, and
&gt; &gt; so I can envision the Scheme48 developers to, indeed, _not_ provide a
&gt; &gt; useful program loader for SRFI 55, while it already has a useful one
&gt; &gt; for SRFI 7!
&gt; 
&gt; Fine. Then I suggest that the authors of Scheme48 do not
&gt; support SRFI-55. I don't have a problem with that. In fact,
&gt; I think that's one of the great properties of the SRFI system.

Whoa, whoa, whoa.  Are you seriously suggesting that we _fracture_
portability of Scheme code by having some implementations support one
way to declare feature requirements and other implementations support
another way, just because the first way was slightly aesthetically
unpleasing to one or two Schemers?

&gt; &gt; Now, if all you want is for SRFI 7 to specify that, if a program
&gt; &gt; loader is supported, it should try to load the necessary features, if
&gt; &gt; possible, (way too many conditional clauses there...sorry...), why
&gt; &gt; isn't this SRFI just a brief amendment to the wording of SRFI 7?
&gt; 
&gt; Because I find SRFI-7 incredible inconvenient and total overkill
&gt; (IMHO, AFAICT, etc. etc.).

Incredibly inconvenient?  Oh, please.  Wrap your code in

(program (requires srfi-x)
...
)

or have a new file containing

(program (requires srfi-x) (files &quot;code.scm&quot;))

That's _hardly_ more typing than a use of REQUIRE-EXTENSION.

It's _not_ overkill, and indeed it is _necessary_ for some SRFIs, such
as SRFI 10; an implementation that reads in all the source code at once
and then processing it _cannot_ provide SRFI 10 via REQUIRE-EXTENSION
without terrible inconveniences (such as requiring that you write it at
an interactive prompt before loading the program -- which, um, doesn't
exactly scale to large programs with lots of feature requirements --,
or put the REQUIRE-EXTENSION in a separate file, at which point there
would be no reason to use SRFI 55 instead of SRFI 7!), because SRFI 10
may modify the reader, but the reader was already invoked and reading
is all over by the time the Scheme compiler saw it was necessary to
load SRFI 10.

I direct you to the SRFI 0 discussion list to see further arguments
for a separate configuration language and against embedding the
feature conditional/requirement system into Scheme code, which, at the
end of the discussion, Feeley _still_ didn't counter; I don't know of
any rebuttals against the last emails Kelsey &amp; Sperber sent arguing
for a separate configuration language.

&gt; Why do I have to learn a new language just to use `iota'?

Oh, no!  You have to learn an _extremely_simple_dependency_declaration_
language!

Or:

Why do I have to learn the new REQUIRE-EXTENSION special form just to
use IOTA?


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00011" href="msg00011.html">Re: problems with rationale &amp; design</a></strong>
<ul><li><em>From:</em> Felix Winkelmann</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00009" href="msg00009.html">Re: problems with rationale &amp; design</a></strong>
<ul><li><em>From:</em> felix</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00009.html">Re: problems with rationale &amp; design</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00011.html">Re: problems with rationale &amp; design</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00009.html">Re: problems with rationale &amp; design</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00011.html">Re: problems with rationale &amp; design</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00010"><strong>Date</strong></a></li>
<li><a href="threads.html#00010"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
