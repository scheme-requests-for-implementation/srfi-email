<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: propositions, oppositions, and some minor details -->
<!--X-From-R13: orne <orneNfbavp.arg> -->
<!--X-Date: Tue, 14 Sep 2004 19:28:10 +0200 (DFT) -->
<!--X-Message-Id: Pine.LNX.4.58.0409141013330.16239@bolt.sonic.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: Pine.LNX.4.44.0409121531380.25352&#45;100000@autodrip.bloodandcoffee.net -->
<!--X-Reference: E1C6mI8&#45;0003zi&#45;Hy@mailer.emlix.com -->
<!--X-Reference: 86zn3txro2.wl@lain.inunome.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: propositions, oppositions, and some minor details</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00023.html">Date Prev</a>][<a href="msg00025.html">Date Next</a>][<a href="msg00022.html">Thread Prev</a>][<a href="msg00013.html">Thread Next</a>][<a href="maillist.html#00024">Date Index</a>][<a href="threads.html#00024">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: propositions, oppositions, and some minor details</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Alex Shinn &lt;<a href="mailto:foof@DOMAIN.HIDDEN">foof@xxxxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: propositions, oppositions, and some minor details</li>
<li><em>From</em>: bear &lt;<a href="mailto:bear@DOMAIN.HIDDEN">bear@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Tue, 14 Sep 2004 10:28:01 -0700 (PDT)</li>
<li><em>Cc</em>: Felix Winkelmann &lt;<a href="mailto:fw@DOMAIN.HIDDEN">fw@xxxxxxxxx</a>&gt;, <a href="mailto:srfi-57@DOMAIN.HIDDEN">srfi-57@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-57@DOMAIN.HIDDEN">srfi-57@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:86zn3txro2.wl@DOMAIN.HIDDEN">86zn3txro2.wl@xxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:Pine.LNX.4.44.0409121531380.25352-100000@DOMAIN.HIDDEN">Pine.LNX.4.44.0409121531380.25352-100000@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:E1C6mI8-0003zi-Hy@DOMAIN.HIDDEN">E1C6mI8-0003zi-Hy@xxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:86zn3txro2.wl@DOMAIN.HIDDEN">86zn3txro2.wl@xxxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>

On Tue, 14 Sep 2004, Alex Shinn wrote:

&gt;At Mon, 13 Sep 2004 10:33:15 +0200, Felix Winkelmann wrote:

&gt;&gt; That leads me to another issue: What about separate compilation?
&gt;&gt; The problem is here that I might have two source-files, using the
&gt;&gt; same record type, compiled separately in two different instances of
&gt;&gt; the compiler. How can I make sure that
&gt;&gt;
&gt;&gt; ; a.scm
&gt;&gt;
&gt;&gt; (define-record foo ...)
&gt;&gt;
&gt;&gt; ; b.scm
&gt;&gt;
&gt;&gt; (define-record foo ...)
&gt;&gt;
&gt;&gt; Refer to the same type?

&gt; My assumption would be that they in fact refer to different types, and
&gt; if you wanted both to refer to the same foo definition then you would
&gt; refactor that into c.scm.  This is based on treated records as (at
&gt; least potentially) first class objects, as opposed to C where they are
&gt; simple header declarations and it doesn't matter how often you
&gt; redefine them.

My assumption is that, if these two definitions occur in the same lexical
scope (or both at top level), they are an error.  Implementations may
signal an error or assign it some random semantics (probably by treating
the second form as mutation rather than definition).  If they occur in
disjoint lexical scopes, they refer to different types, both named
&quot;foo&quot;.  And if one occurs inside the other, it creates a local
definition for &quot;foo&quot; that shadows the one in the larger scope.

We don't really have a firm model yet for the top-level namespace in
separate compilation, and issues like this make it show.  There are
many configuration sublanguages for managing top-level namespace in
different implementations: usually &quot;export&quot; or &quot;provide&quot; or something
designates things to go into the top level namespace, and other
definitions in a file are handled as though in a &quot;let&quot; statement
having the file beginning and ending be the open and close parens.

				Bear

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00008" href="msg00008.html">propositions, oppositions, and some minor details</a></strong>
<ul><li><em>From:</em> campbell</li></ul></li>
<li><strong><a name="00011" href="msg00011.html">Re: propositions, oppositions, and some minor details</a></strong>
<ul><li><em>From:</em> Felix Winkelmann</li></ul></li>
<li><strong><a name="00021" href="msg00021.html">Re: propositions, oppositions, and some minor details</a></strong>
<ul><li><em>From:</em> Alex Shinn</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00023.html">Re: propositions, oppositions, and some minor details</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00025.html">Re: propositions, oppositions, and some minor details</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00022.html">Re: propositions, oppositions, and some minor details</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00013.html">Re: propositions, oppositions, and some minor details</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00024"><strong>Date</strong></a></li>
<li><a href="threads.html#00024"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
