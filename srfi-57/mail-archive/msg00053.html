<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: the number of fields -->
<!--X-From-R13: Oaqer ina Fbaqre <naqerNabj.urg.oebja.rqh> -->
<!--X-Date: Sun,  7 Nov 2004 18:33:18 +0100 (NFT) -->
<!--X-Message-Id: Pine.GSO.4.60.0411071148140.10596@now.het.brown.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: Pine.LNX.4.44.0411070839090.1213&#45;100000@autodrip.bloodandcoffee.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: the number of fields</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00052.html">Date Prev</a>][<a href="msg00054.html">Date Next</a>][<a href="msg00052.html">Thread Prev</a>][<a href="msg00054.html">Thread Next</a>][<a href="maillist.html#00053">Date Index</a>][<a href="threads.html#00053">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: the number of fields</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-57">SRFI 57</a> from before July 7th, 2015.  The new archives for SRFI 57 are <a href="http://srfi-email.schemers.org/srfi-57/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:campbell@DOMAIN.HIDDEN">campbell@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: the number of fields</li>
<li><em>From</em>: Andre van Tonder &lt;<a href="mailto:andre@DOMAIN.HIDDEN">andre@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Sun, 7 Nov 2004 12:33:10 -0500 (EST)</li>
<li><em>Cc</em>: soo &lt;<a href="mailto:tilde@DOMAIN.HIDDEN">tilde@xxxxxxxxxxx</a>&gt;, <a href="mailto:srfi-57@DOMAIN.HIDDEN">srfi-57@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-57@DOMAIN.HIDDEN">srfi-57@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:Pine.LNX.4.44.0411070839090.1213-100000@DOMAIN.HIDDEN">Pine.LNX.4.44.0411070839090.1213-100000@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:Pine.LNX.4.44.0411070839090.1213-100000@DOMAIN.HIDDEN">Pine.LNX.4.44.0411070839090.1213-100000@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
On Sun, 7 Nov 2004 campbell@xxxxxxxxxxxxxxxxxxxxxxxxxxx wrote:

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
It is because the implementation performs such heavy syntax-rules-based
computation that Scheme48's heap overflows.  You can 'fix' the problem
by increasing the heap, but that will solve it only temporarily.  The
real problem is that this SRFI's reference implementation just does too
much with syntax-rules;
</pre></blockquote><pre style="margin: 0em;">

</pre><tt>I agree that it is a little silly to try to do so much with syntax-rules. 
</tt><tt>Actually, early versions without inheritance were much simpler and very 
</tt><tt>suitable for syntax-rules, and when it grew it took less energy each time 
</tt><tt>to add a feature than to convert to a low-level macro system for which I 
</tt><tt>would have to maintain a separate version for each Scheme I want to test 
</tt><tt>it on (although I do have a partially converted but horrid-looking and 
</tt><tt>verbose syntax-case version).
</tt><pre style="margin: 0em;">

</pre><tt>Also, if one version was to be posted as proof of concept, choosing 
</tt><tt>syntax-rules was probably not entirely a bad decision.  If I had done it 
</tt><tt>in a low-level system, I would have probably chosen define-macro 
</tt><tt>or syntax-case, in which case it would not have run on Scheme48 at all 
</tt><tt>without some porting.
</tt><pre style="margin: 0em;">

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
even if it doesn't overflow the heap or so
something equally horrid in other Scheme systems, it is _miserably_
sluggish.  I haven't used it much, but I've heard from some people that
it takes up to an hour to expand a single DEFINE-RECORD-TYPE form.
</pre></blockquote><pre style="margin: 0em;">

</pre><tt>One could argue that those systems are not /usefully/ R5RS compliant. 
</tt><tt>There is really no excuse for that kind of performance.  On Petite Chez, 
</tt><tt>which is interpreted, expansion is instantaneous.  Even on MzScheme, 
</tt><tt>which I regard as relatively slow, it takes of the order of only a second 
</tt><tt>per record type definition on my modest machine.
</tt><pre style="margin: 0em;">

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
It
would be a *gargantuan* improvement to provide at least two or three
reference implementations: the original one in plain syntax-rules, one
in syntactic closures (as the most simply expressive, I argue, hygienic
macro system -- the best basis for a _reference_ implementation), and
perhaps one or two in any number of the incompatible variants of
syntax-case.
</pre></blockquote><pre style="margin: 0em;">

</pre><tt>I completely agree.  Any volunteers?  The soon-to-appear updated version 
</tt><tt>is a little simpler and may be easier to convert.  In the meantime I 
</tt><tt>can send it privately to anyone upon request.  It should also not be hard 
</tt><tt>to write a low-level implementation from scratch.
</tt><pre style="margin: 0em;">

Regards
Andre

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00054" href="msg00054.html">Re: the number of fields</a></strong>
<ul><li><em>From:</em> campbell</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00052" href="msg00052.html">Re: the number of fields</a></strong>
<ul><li><em>From:</em> campbell</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00052.html">Re: the number of fields</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00054.html">Re: the number of fields</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00052.html">Re: the number of fields</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00054.html">Re: the number of fields</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00053"><strong>Date</strong></a></li>
<li><a href="threads.html#00053"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
