<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: propositions, oppositions, and some minor details -->
<!--X-From-R13: =?WEA&#45;8859&#45;1?C?Xraf_Okry_E=T8tnneq?= <wrafnkryNfbrtnneq.arg> -->
<!--X-Date: Tue, 14 Sep 2004 14:54:25 +0200 (DFT) -->
<!--X-Message-Id: 4146EA1A.1060809@soegaard.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: Pine.LNX.4.44.0409121531380.25352&#45;100000@autodrip.bloodandcoffee.net -->
<!--X-Reference: E1C6mI8&#45;0003zi&#45;Hy@mailer.emlix.com -->
<!--X-Reference: 86zn3txro2.wl@lain.inunome.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: propositions, oppositions, and some minor details</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00021.html">Date Prev</a>][<a href="msg00023.html">Date Next</a>][<a href="msg00021.html">Thread Prev</a>][<a href="msg00024.html">Thread Next</a>][<a href="maillist.html#00022">Date Index</a>][<a href="threads.html#00022">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: propositions, oppositions, and some minor details</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-57">SRFI 57</a> from before July 7th, 2015.  The new archives for SRFI 57 are <a href="http://srfi-email.schemers.org/srfi-57/">here</a>.  The new archives contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Alex Shinn &lt;<a href="mailto:foof@DOMAIN.HIDDEN">foof@xxxxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: propositions, oppositions, and some minor details</li>
<li><em>From</em>: Jens Axel S&#xF8;gaard &lt;<a href="mailto:jensaxel@DOMAIN.HIDDEN">jensaxel@xxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Tue, 14 Sep 2004 14:54:50 +0200</li>
<li><em>Cc</em>: Felix Winkelmann &lt;<a href="mailto:fw@DOMAIN.HIDDEN">fw@xxxxxxxxx</a>&gt;, <a href="mailto:srfi-57@DOMAIN.HIDDEN">srfi-57@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-57@DOMAIN.HIDDEN">srfi-57@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:86zn3txro2.wl@DOMAIN.HIDDEN">86zn3txro2.wl@xxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:Pine.LNX.4.44.0409121531380.25352-100000@DOMAIN.HIDDEN">Pine.LNX.4.44.0409121531380.25352-100000@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:E1C6mI8-0003zi-Hy@DOMAIN.HIDDEN">E1C6mI8-0003zi-Hy@xxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:86zn3txro2.wl@DOMAIN.HIDDEN">86zn3txro2.wl@xxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Mozilla Thunderbird 0.7.3 (Windows/20040803)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Alex Shinn wrote:

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
At Mon, 13 Sep 2004 10:33:15 +0200, Felix Winkelmann wrote:

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
That leads me to another issue: What about separate compilation?
The problem is here that I might have two source-files, using the
same record type, compiled separately in two different instances of
the compiler. How can I make sure that

; a.scm

(define-record foo ...)

; b.scm

(define-record foo ...)

Refer to the same type?

</pre></blockquote><pre style="margin: 0em;">
My assumption would be that they in fact refer to different types, and
if you wanted both to refer to the same foo definition then you would
refactor that into c.scm.  This is based on treated records as (at
least potentially) first class objects, as opposed to C where they are
simple header declarations and it doesn't matter how often you
redefine them.

</pre></blockquote><pre style="margin: 0em;">
Since it is common to use (define-record foo) to make a disjointly typed
object, it is seems most natural to me, to let two separate evaluations
of (define-record foo) generate two disjoint types. If two programmers
use this idiom in two different libraries and accidently use the same name,
a program using both libraries at the same time will still work.

Winkelmann is right though, that this does provide a challenge for
implementations supporting separate compilation. I am not entirely
convinced that a refactoring is always possible. From my point of view,
the responsibility og getting this right belongs to the module system.
If both a.scm and b.scm needs to use a record type defined in d.scm,
then the module system should provide a way to instantiate d.scm
before the actual compilation a.scm starts. I thus see the problem (and
the solution) to be parallel to our (between Felix and I) discussion
about &lt;<a  rel="nofollow" href="http://www.scheme.dk/macros-and-modules2.txt">http://www.scheme.dk/macros-and-modules2.txt</a>&gt;.

In short, I agree with Shinn that define-record should be generative,
but I acknowledge that there is an actual choice here.

--
Jens Axel S&#xF8;gaard


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00008" href="msg00008.html">propositions, oppositions, and some minor details</a></strong>
<ul><li><em>From:</em> campbell</li></ul></li>
<li><strong><a name="00011" href="msg00011.html">Re: propositions, oppositions, and some minor details</a></strong>
<ul><li><em>From:</em> Felix Winkelmann</li></ul></li>
<li><strong><a name="00021" href="msg00021.html">Re: propositions, oppositions, and some minor details</a></strong>
<ul><li><em>From:</em> Alex Shinn</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00021.html">Re: propositions, oppositions, and some minor details</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00023.html">Re: propositions, oppositions, and some minor details</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00021.html">Re: propositions, oppositions, and some minor details</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00024.html">Re: propositions, oppositions, and some minor details</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00022"><strong>Date</strong></a></li>
<li><a href="threads.html#00022"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
