<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: hygiene when using multiple instances of a macro..? -->
<!--X-From-R13: Bnah <ngrujnNfnatr.sv> -->
<!--X-Date: Mon,  8 Aug 2005 16:22:35 +0200 (DFT) -->
<!--X-Message-Id: 20050808142226.GD5351@maim.it.helsinki.fi -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: hygiene when using multiple instances of a macro..?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00016.html">Date Prev</a>][<a href="msg00018.html">Date Next</a>][<a href="msg00016.html">Thread Prev</a>][<a href="msg00018.html">Thread Next</a>][<a href="maillist.html#00017">Date Index</a>][<a href="threads.html#00017">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: hygiene when using multiple instances of a macro..?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-72@DOMAIN.HIDDEN">srfi-72@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: hygiene when using multiple instances of a macro..?</li>
<li><em>From</em>: Panu &lt;<a href="mailto:atehwa@DOMAIN.HIDDEN">atehwa@xxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Mon, 8 Aug 2005 17:22:26 +0300</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-72@DOMAIN.HIDDEN">srfi-72@xxxxxxxxxxxxxxxxx</a></li>
<li><em>User-agent</em>: Mutt/1.5.9i</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>I'll try to write a macro definition to show the situation I was talking
about:

(define-syntax (can-we-stand-duplicates a-macro)
  (quasisyntax
    (if ,a-macro
      (let ((x 3)) (,a-macro #f))
      x)))

(define-syntax (test)
  (quasisyntax (can-we-stand-duplicates can-we-stand-duplicates)))

(test)

... if it works wrong, it expands to (something that evaluates to) 3.
If it works right, it expands to something that has an unbound
identifier.

The reason I suspected the wrong behavior is that in some rewrite-based
systems, the fact the both x's are created in the same context (here, in
the same quasisyntax) suffices to make them identical, even though they
should not be identical across different invocations of the macro.

Panu

-- 
personal contact: atehwa@xxxxxx, +35841 5323835, +3589 85619369
work contact: panu.kalliokoski@xxxxxxxxxxx, +35850 3678003
kotisivu (henkkoht):	<a  rel="nofollow" href="http://www.iki.fi/atehwa/">http://www.iki.fi/atehwa/</a>
homepage (technical):	<a  rel="nofollow" href="http://sange.fi/~atehwa/">http://sange.fi/~atehwa/</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00018" href="msg00018.html">Re: hygiene when using multiple instances of a macro..?</a></strong>
<ul><li><em>From:</em> Andre van Tonder</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00016.html">Re: hygiene when using multiple instances of a macro..?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00018.html">Re: hygiene when using multiple instances of a macro..?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00016.html">Re: hygiene when using multiple instances of a macro..?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00018.html">Re: hygiene when using multiple instances of a macro..?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00017"><strong>Date</strong></a></li>
<li><a href="threads.html#00017"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
