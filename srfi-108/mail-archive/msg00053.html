<!-- MHonArc v2.6.16 -->
<!--X-Subject: optional end delimiters -->
<!--X-From-R13: Bre Pbguare <cre.obguareNbenpyr.pbz> -->
<!--X-Date: Wed, 27 Mar 2013 21:06:03 +0100 (MET) -->
<!--X-Message-Id: 51532066.3050807@oracle.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>optional end delimiters</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00052.html">Date Prev</a>][<a href="msg00054.html">Date Next</a>][<a href="msg00052.html">Thread Prev</a>][<a href="msg00054.html">Thread Next</a>][<a href="maillist.html#00053">Date Index</a>][<a href="threads.html#00053">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>optional end delimiters</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-108">SRFI 108</a> from before July 7th, 2015.  The new archives for SRFI 108 are <a href="http://srfi-email.schemers.org/srfi-108/">here</a>.  The new archives contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-108@DOMAIN.HIDDEN">srfi-108@xxxxxxxxxxxxxxxxx</a>, <a href="mailto:srfi-109@DOMAIN.HIDDEN">srfi-109@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: optional end delimiters</li>
<li><em>From</em>: Per Bothner &lt;<a href="mailto:per.bothner@DOMAIN.HIDDEN">per.bothner@xxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Wed, 27 Mar 2013 09:37:58 -0700</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-108@DOMAIN.HIDDEN">srfi-108@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Followup-to</em>: <a href="mailto:srfi-108@DOMAIN.HIDDEN">srfi-108@xxxxxxxxxxxxxxxxx</a></li>
<li><em>User-agent</em>: Mozilla/5.0 (X11; Linux x86_64; rv:17.0) Gecko/20130311 Thunderbird/17.0.4</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
[Sent to both srfi-108 and srfi-109 lists, with follow-ups
to the srfi-108 list.]

We have been discussion whether to add optional end delimters
to SRFI-109 strings, for example:

&amp;!END-TEXT{
  one two three
  uno dos tres
}END-TEXT!

On reflection, such end delimiters may be equally valuable
for named literals, including document processing.  In that
case it makes sense to allow the tagname as an end delimiter.
This is done in XML: &lt;tag&gt;...&lt;/tag&gt;.
It is also common on document processing (markup) languages,
including Scribe, LaTeX and texinfo:

\begin{example}
\end{example}

@begin example
@end example

This makes it easier to &quot;match up delimiters&quot; and it can
help catch errors, especially for long bodies.

I suggest allowing an optional '&amp;tagname' before the ending '}'.

&amp;para{
Sentence1.
Sentence 2.
&amp;para}

It is an error if the ending tagname doesn't match the start tagname.

This makes for easy parsing, without ambiguities.

Alternatively, having the end tag follow the '}'
is possible, but the parsing is more complex, and it
seems difficult to avoid ambiguities.  For example:

&amp;para{
Sentence1.
Sentence 2.
}para

or:

...
}para!

or:
...
}!para

Having the end delimiter start with '}' makes it easier to
find it (especially on the start of the line), but the syntax
and parsing becomes less obvious.

The SRFI-109 (string) syntax should be designed in conjuction
with this.  For example, if we go with the:

&amp;para{
...
&amp;para}

syntax, then a &quot;matching&quot; SRFI-109 syntax might be:

&amp;!END{
...
!END}
--
	--Per Bothner
per.bothner@xxxxxxxxxx   per@xxxxxxxxxxx   <a  rel="nofollow" href="http://per.bothner.com/">http://per.bothner.com/</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00052.html">Re: srfi-108 (named quasi-literal constructors) candidate</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00054.html">optional user-specified end-delimiters</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00052.html">Re: srfi-108 (named quasi-literal constructors) candidate</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00054.html">optional user-specified end-delimiters</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00053"><strong>Date</strong></a></li>
<li><a href="threads.html#00053"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
