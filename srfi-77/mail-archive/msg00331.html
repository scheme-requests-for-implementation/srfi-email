<!-- MHonArc v2.6.15 -->
<!--X-Subject: Generic Exact Arithmetic -->
<!--X-From-R13: [vpunry Ecreore <fcreoreNvasbezngvx.hav&#45;ghrovatra.qr> -->
<!--X-Date: Thu, 17 Nov 2005 16:27:46 +0100 (CET) -->
<!--X-Message-Id: y9l4q6bi9bj.fsf@informatik.uni&#45;tuebingen.de -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: A1C23F2C&#45;9999&#45;489E&#45;94E2&#45;6F4F3190E4AB@math.purdue.edu -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Generic Exact Arithmetic</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00330.html">Date Prev</a>][<a href="msg00332.html">Date Next</a>][<a href="msg00043.html">Thread Prev</a>][<a href="msg00051.html">Thread Next</a>][<a href="maillist.html#00331">Date Index</a>][<a href="threads.html#00331">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Generic Exact Arithmetic</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-77">SRFI 77</a> from before July 7th, 2015.  The new archives for SRFI 77 are <a href="http://srfi-email.schemers.org/srfi-77/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Bradley Lucier &lt;<a href="mailto:lucier@DOMAIN.HIDDEN">lucier@xxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Generic Exact Arithmetic</li>
<li><em>From</em>: Michael Sperber &lt;<a href="mailto:sperber@DOMAIN.HIDDEN">sperber@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Thu, 17 Nov 2005 16:27:12 +0100</li>
<li><em>Cc</em>: <a href="mailto:srfi-77@DOMAIN.HIDDEN">srfi-77@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-77@DOMAIN.HIDDEN">srfi-77@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:A1C23F2C-9999-489E-94E2-6F4F3190E4AB@DOMAIN.HIDDEN">A1C23F2C-9999-489E-94E2-6F4F3190E4AB@xxxxxxxxxxxxxxx</a>&gt; (Bradley	Lucier's message of &quot;Tue, 18 Oct 2005 15:01:24 -0500&quot;)</li>
<li><em>References</em>: &lt;<a href="mailto:A1C23F2C-9999-489E-94E2-6F4F3190E4AB@DOMAIN.HIDDEN">A1C23F2C-9999-489E-94E2-6F4F3190E4AB@xxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Gnus/5.110003 (No Gnus v0.3) XEmacs/21.5-b21 (darwin)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Bradley Lucier &lt;lucier@xxxxxxxxxxxxxxx&gt; writes:

&gt;&gt;    Should the R5RS procedures for generic arithmetic (e.g. +)
&gt; remain in R6RS? Here are five possible answers, phrased in terms of  
&gt; the + procedure:
&gt;&gt;
&gt;&gt;       1. + is not defined in R6RS.
&gt;&gt;       2. + is defined to be a synonym for the ex+, so its domain
&gt; is restricted to exact arguments, and always returns an exact result.
&gt;&gt;       3. + is defined as the union of the ex+ and in+ procedures,
&gt; so all of its arguments are required to have the same exactness, and  
&gt; the exactness of its result is the same as the exactness of its  
&gt; arguments.
&gt;&gt;       4. + is defined as in R5RS, but with the increased
&gt; portability provided by requiring the full numeric tower. This  
&gt; alternative is described in the section R5RS-style Generic Arithmetic.
&gt;&gt;       5. + is defined to return an exact result in all cases, even
&gt; if one or more of its arguments is inexact. This alternative is  
&gt; described in the section Generic Exact Arithmetic.
&gt;&gt;
&gt;&gt;    Will Clinger prefers the 4th possibility, Mike Sperber the 5th.
&gt;
&gt; I have real difficulties with 5, which I hope to expand on at a later  
&gt; time.  Part of the problem is that 5 assumes that inexact-&gt;exact  
&gt; gives reasonable results on inexact arguments, and I can't see how  
&gt; this can be true if, for example, inexacts are implemented as the  
&gt; computable reals.

This is not correct, but I see how the way SRFI 77 is written would
make you think so.  The problem in presenting the material was that
going with Generic Exact Arithmetic induces more far-reaching changes
in R5RS's arithmetic model than is completely specified in the SRFI,
mostly in the construction of the tower and the numerical predicates.
This was the best I could do given the time I had for now, and I
apologize for the shortcomings of the presentation.  I ask people
interested to refer to the paper for more rationale.

Specifically, this arithmetic model assumes that its procedures accept
only inexact reals that have a single, reasonable exact counterpart.
We were mostly thinking in the IEEE universe, where each inexact real
that isn't an infinity or NaN corresponds to a single rational number,
which we know how to represent.

It is probably possible to imagine an arithmetic model with a more
fancy representation of reals (both inexact and exact) which makes the
relationship between the exact numbers and inexact numbers more
complicated, but that would probably not be very practical.  It's also
not very common among existing Scheme systems.

&gt; [...]

&gt; The paper
&gt;
&gt; [Egner et al. 2004]  Sebastian Egner, Richard Kelsey, Michael  
&gt; Sperber. Cleaning up the tower: Numbers in Scheme. In Proceedings of  
&gt; the Fifth ACM SIGPLAN Workshop on Scheme and Functional Programming,   
&gt; pages 109--120, September 22, 2004, Snowbird, Utah. Technical report  
&gt; TR600, Computer Science Department, Indiana University
&gt;
&gt; is cited as justification for several parts of this proposal.   
&gt; Unfortunately, I believe this paper to be seriously flawed.
&gt;
&gt; I'm bringing this up for the following reason:  I don't believe that  
&gt; this paper can be used, by itself, as justification for any aspect of  
&gt; this proposal.  It may be used as an *argument* for certain aspects  
&gt; of the proposal, but as there has been no general discussion of the  
&gt; merits of the paper, either in this forum or in others, I don't  
&gt; believe that it can be used as &quot;settled decisions&quot;.  Thus, if the  
&gt; authors of this SRFI wish to use arguments from that paper as  
&gt; justification for certain aspects of *this* proposal, they should  
&gt; repeat those arguments here for them to be discussed and debated as  
&gt; usual.

It wasn't our intention to present the paper as &quot;settled decisions.&quot;
(You can see that from the simple fact that Will Clinger doesn't
agree.)  Instead, our intention was exactly as you suggest, to provide
an argument of why Generic Exa&#xE7;t Arithmetic is in the proposal.

It's not clear to me how repeating the arguments set forth in the
paper would achieve anything---the paper is archived for the
foreseeable future, as are other pieces of related work somebody might
disagree with.  So it would help greatly if you elaborated on what you
think the flawas of the paper are.  (I can see that the paper is
flawed in aspects of its presentation, as the misunderstanding
described above shows, but haven't seen much argument that its
substance is equally flawed.)

-- 
Cheers =8-} Mike
Friede, V&#xF6;lkerverst&#xE4;ndigung und &#xFC;berhaupt blabla

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00043" href="msg00043.html">Some preliminary comments</a></strong>
<ul><li><em>From:</em> Bradley Lucier</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00330.html">Re: Contagious Inexactness, revision 2</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00332.html">Re: arithmetic issues</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00043.html">Some preliminary comments</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00051.html">FIXNUM (aka Re: Arithmetic issues)</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00331"><strong>Date</strong></a></li>
<li><a href="threads.html#00331"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
