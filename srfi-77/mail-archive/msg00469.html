<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: SRFI&#45;77 with more than one flonum representation -->
<!--X-From-R13: Ivyyvnz R Qyvatre <jvyyNppf.arh.rqh> -->
<!--X-Date: Thu, 29 Jun 2006 05:36:43 +0200 (MST) -->
<!--X-Message-Id: E1FvnKB&#45;0005pG&#45;7b@ukrainian.ccs.neu.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: SRFI-77 with more than one flonum representation</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00468.html">Date Prev</a>][<a href="msg00470.html">Date Next</a>][<a href="msg00479.html">Thread Prev</a>][<a href="msg00481.html">Thread Next</a>][<a href="maillist.html#00469">Date Index</a>][<a href="threads.html#00469">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: SRFI-77 with more than one flonum representation</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-77">SRFI 77</a> from before July 7th, 2015.  The <a href="http://srfi-email.schemers.org/srfi-77">new archives</a> for SRFI 77 contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:a.watson@DOMAIN.HIDDEN">a.watson@xxxxxxxxxxxxxxxx</a>, <a href="mailto:will@DOMAIN.HIDDEN">will@xxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: SRFI-77 with more than one flonum representation</li>
<li><em>From</em>: William D Clinger &lt;<a href="mailto:will@DOMAIN.HIDDEN">will@xxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Wed, 28 Jun 2006 23:36:15 -0400</li>
<li><em>Cc</em>: <a href="mailto:sperber@DOMAIN.HIDDEN">sperber@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>, <a href="mailto:srfi-77@DOMAIN.HIDDEN">srfi-77@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-77@DOMAIN.HIDDEN">srfi-77@xxxxxxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Alan Watson wrote:
&gt; If an implementation uses more than one floating point representation,
&gt; when implementing SRFI 77, the implementor must choose between defining
&gt; flonum to refer to only one representation (and thus prejudicing the
&gt; others) or to all representations (and thus being less efficient). Thus,
&gt; if you have more than one representation, it is difficult to obtain
&gt; efficiency without prejudicing certain representations.

As you have pointed out, the implementors would also have the
option of providing multiple versions of the flonum-specific
library, one for each precision.

&gt; The only motivation for the flonum-specific part of SRFI 77 seems to be
&gt; efficiency.

I see a lot of value in portability, even where you may see
nothing but efficiency.  Portable efficiency is better than
implementation-dependent efficiency.

&gt; Forgive me if I put words into your mouth, but you seem to be saying
&gt; that existing implementations use only one floating-point
&gt; representation, therefore it is okay to standardize interfaces that are
&gt; well-adapted to such implementations but ill-adapted to implementations
&gt; that might use more than one floating-point representation.
&gt; 
&gt; This seems to be an argument for eliminating s, f, d, l, and forcing all
&gt; future Schemes to use only one floating-point representation.
&gt; Furthermore, it also seems to be an argument for forcing all future
&gt; Schemes to use only floating-point representations for inexacts.

Yes, it is an argument for both of those things.  I still see
value in the multiple exponent markers, mainly because they
are less verbose than the precision marker of SRFI 77 and
follow a convention that is common in other languages, but
I could still sleep at night if they were to disappear.  As
for the other, it wouldn't bother me much if the R7RS were
to mandate floating point.

&gt; &gt; There is little to be gained by requiring implementations to provide
&gt; &gt; modules for every precision when most systems provide only one
&gt; &gt; precision.
&gt; 
&gt; Perhaps, but there also seems to be little cost: simply make the short,
&gt; single, double, and long floating-point modules aliases for the default
&gt; module.

That's true.  On the other hand, a set of libraries that can
be implemented as aliases to an R6RS library sounds like a
simple SRFI.  Those libraries needn't be mandated by the R6RS.

&gt; &gt; Before we mandate some procedure on grounds of efficiency, we should
&gt; &gt; measure the efficiency to be gained in some real implementation.
&gt; 
&gt; If you are going to promote interfaces on the basis of efficiency (and
&gt; there seems to be no other justification for the flonum-specific part of
&gt; SRFI 77), you should expect people to use the same arguments against you.

Are you suggesting that the efficiency to be gained from
using flonum-specific operations has not been measured in
real implementations?

Will

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00468.html">Re: Fresh syntax</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00470.html">Handling of invalid arguments</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00479.html">Re: SRFI-77 with more than one flonum representation</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00481.html">Re: SRFI-77 with more than one flonum representation</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00469"><strong>Date</strong></a></li>
<li><a href="threads.html#00469"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
