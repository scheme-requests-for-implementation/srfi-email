<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Unifying the two generic arithmetic alternatives -->
<!--X-From-R13: Oaqerj Ivypbk <njvypbkNnaqerjjvypbk.anzr> -->
<!--X-Date: Tue, 15 Nov 2005 14:29:23 +0100 (CET) -->
<!--X-Message-Id: 20051115132909.F06BD600037@iris.wilcoxsoftware.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Unifying the two generic arithmetic alternatives</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00324.html">Date Prev</a>][<a href="msg00326.html">Date Next</a>][<a href="msg00321.html">Thread Prev</a>][<a href="msg00326.html">Thread Next</a>][<a href="maillist.html#00325">Date Index</a>][<a href="threads.html#00325">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Unifying the two generic arithmetic alternatives</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-77@DOMAIN.HIDDEN">srfi-77@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: Unifying the two generic arithmetic alternatives</li>
<li><em>From</em>: Andrew Wilcox &lt;<a href="mailto:awilcox@DOMAIN.HIDDEN">awilcox@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Tue, 15 Nov 2005 05:29:09 -0800 (PST)</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-77@DOMAIN.HIDDEN">srfi-77@xxxxxxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>I wrote:
&gt; &gt; Note that a floating point number (aside from INF and NaN) represents
&gt; &gt; one and precisely one rational number.  Thus to perform an accurate
&gt; &gt; calculation with a flonum, we simply use its actual value.

John Cowan writes:
&gt; the result of flonum addition interpreted as a rational number is *not*
&gt; accurate.

You are correct.  However, my wording must be unclear.  I am not
suggesting that accurate calculations can be performed with flonum
operations.  Can anyone help me out here?  I read what I wrote, and it
seems to me to say what I meant.  I do not know how to reword it so
that other people will not find it confusing.


John Cowan writes:
&gt; Indeed, even without control flow as such the idea is bizarre.  If x
&gt; and y are inexact numbers, is the value of (if (&lt; x y) &quot;foo&quot; &quot;bar&quot;)
&gt; an inexact string?

Yes.  Each rational number represents one and only one number, each
string represents one and only one string.  Your result is flagged as
having been calculated using approximate operations.


I wrote:
&gt; &gt; FAST+ always performs a fast (if perhaps inaccurate) operation --
&gt; &gt; returning a flonum, or a complex number made up of flonums.

John Cowan writes:
&gt; Why a flonum?  Addition of two fixnums with no overflow should be
&gt; able to return a fixnum, no?

I agree.


Bear writes:
&gt; I think most implementors are going to dislike it because it
&gt; means they have to treat exactness as a bit independent from
&gt; the representation format. 

No doubt.

A lot of implementors don't like CALL-WITH-CURRENT-CONTINUATION
either.

So?


Bear writes:
&gt; But honestly, I think that we're not really going to have an
&gt; adequate solution for this problem until the precision to
&gt; which each number is known is part of the semantics of the
&gt; language.  Not just a bit to say whether that precision is
&gt; &quot;infinite&quot; or not.

What is the problem that you'd like to solve?


Bear writes:
&gt; There seem to be no pressing engineering problem that [inexact
&gt; strings and symbols] solve in a way that people find satisfactory.

I'm not going to advocate that contagious inexactness be a part of
R6RS.  However I will point out:

* Some people want contagious inexactness.

* Some people want it badly enough that they support R5RS style
  generic arithmetic, despite its well known problems.

I do argue that if contagious inexactness is going to be in R6RS, it
should:

* be done correctly

* avoid pedagogic confusion in the classrom

* not lead to pernicious bugs in production software


Bear writes:
&gt; This has disturbing implications that I think most people aren't
&gt; ready to embrace; namely, inexact strings and symbols.

This is a terminology issue.  There's nothing distrurbing about being
given the result of a calculation and also being told that it is not
guaranteed to be accurate or reproducible, having been derived from
approximate operations.

The problem is that people are used to thinking of *numbers* as being
inexact, and then in that mindset saying that's it's nonsensical for
strings and symbols to be inexact.  However, with flonums it's not the
*number* that's inexact, it's the flonum *operations* that are
inexact.

Would using a different terminology would help people understand the
concepts more easily?  I'm not tied to &quot;EXACT?&quot; and &quot;ACCURATE+&quot; as
wording.

From the responses so far,

    (exact? &quot;a string&quot;)

appears to be immediately confusing to most people.


Thanks,

Andrew

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00326" href="msg00326.html">Re: Unifying the two generic arithmetic alternatives</a></strong>
<ul><li><em>From:</em> Dave Mason</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00324.html">Re: Unifying the two generic arithmetic alternatives</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00326.html">Re: Unifying the two generic arithmetic alternatives</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00321.html">Re: Unifying the two generic arithmetic alternatives</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00326.html">Re: Unifying the two generic arithmetic alternatives</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00325"><strong>Date</strong></a></li>
<li><a href="threads.html#00325"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
