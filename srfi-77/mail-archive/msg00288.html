<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: NaN's -->
<!--X-From-R13: [nepva 'Cepmnx' Ybjnypmlx <depmnxNxaz.bet.cy> -->
<!--X-Date: Sat, 29 Oct 2005 18:39:18 +0200 (MST) -->
<!--X-Message-Id: 87r7a4p9au.fsf@qrnik.zagroda -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: BF891281.BF15%schlie@comcast.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: NaN's</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00287.html">Date Prev</a>][<a href="msg00289.html">Date Next</a>][<a href="msg00287.html">Thread Prev</a>][<a href="msg00289.html">Thread Next</a>][<a href="maillist.html#00288">Date Index</a>][<a href="threads.html#00288">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: NaN's</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-77">SRFI 77</a> from before July 7th, 2015.  The <a href="http://srfi-email.schemers.org/srfi-77">new archives</a> for SRFI 77 contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-77@DOMAIN.HIDDEN">srfi-77@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: NaN's</li>
<li><em>From</em>: Marcin 'Qrczak' Kowalczyk &lt;<a href="mailto:qrczak@DOMAIN.HIDDEN">qrczak@xxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Sat, 29 Oct 2005 18:39:05 +0200</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-77@DOMAIN.HIDDEN">srfi-77@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:BF891281.BF15%25schlie@DOMAIN.HIDDEN">BF891281.BF15%schlie@xxxxxxxxxxx</a>&gt; (Paul Schlie's message of &quot;Sat, 29 Oct 2005 11:50:25 -0400&quot;)</li>
<li><em>Mail-followup-to</em>: <a href="mailto:srfi-77@DOMAIN.HIDDEN">srfi-77@xxxxxxxxxxxxxxxxx</a></li>
<li><em>References</em>: &lt;<a href="mailto:BF891281.BF15%25schlie@DOMAIN.HIDDEN">BF891281.BF15%schlie@xxxxxxxxxxx</a>&gt;</li>
<li><em>Sender</em>: Marcin 'Qrczak' Kowalczyk &lt;<a href="mailto:qrczak@DOMAIN.HIDDEN">qrczak@xxxxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Gnus/5.1006 (Gnus v5.10.6) Emacs/21.3 (gnu/linux)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Paul Schlie &lt;schlie@xxxxxxxxxxx&gt; writes:

&gt; Upon further thought, it's not clear that specifying a NaN
&gt; error-object is necessary or desirable; as in all cases it would
&gt; appear preferable to signal a recoverable exception,

IEEE-754 already specifies that (the &quot;invalid&quot; exception). But it's
important to be able to proceed without establishing an explicit
handler too, in which case NaN is returned.

Since the presence of invalid operations in inexact arithmetic depends
on rounding errors for unfortunate input, and not merely on bugs in
the program, it should not be fatal by default. It's hard to predict
at which stage it will happen before it happens, thus it's important
to be able to set it up such that it produces a value which behaves
like a number (doesn't cause further errors in numeric processing),
so it can be checked at convenient places instead of after each
operation.

&gt; Where then default most-likely-useful numeral results may be
&gt; specified if desired, or left implementation specific (whereby
&gt; then an implementation may choose to explicitly represent a NaN
&gt; error-object it so chooses, however not mandated to do so by the
&gt; standard).

If it's not mandated, then I can't rely on that. It increases the
amount of unportable code relying on a useful feature which is present
everywhere in practice but not formally standard, and decreases the
usefulness of the standard.

&gt; Where then, an error-object may be independently specified as a
&gt; proposed srfi independently, where by then such an object (such as
&gt; &lt;void&gt; for the sake of argument), may be returned in lieu of an
&gt; otherwise valid object as a result of any calculation, numeral or
&gt; otherwise, as may be desired in lieu of a recoverable exception
&gt; handler returning an otherwise more useful value.

The point in NaN is that it passes through arithmetic without errors,
so checking for it can be postponed. It makes no sense to replace it
with something which is not a valid argument of arithmetic.

For operations which don't uniformly work on inexact numbers such
object is much less useful. For non-numbers the behavior is generally
predictable and bad arguments imply a bug in the program rather than
unfortunate data.

Why so many people want to &quot;fix&quot; aspects of IEEE which are not broken?

-- 
   __(&quot;&lt;         Marcin Kowalczyk
   \__/       qrczak@xxxxxxxxxx
    ^^     <a  rel="nofollow" href="http://qrnik.knm.org.pl/~qrczak/">http://qrnik.knm.org.pl/~qrczak/</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00289" href="msg00289.html">Re: NaN's</a></strong>
<ul><li><em>From:</em> Paul Schlie</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00287" href="msg00287.html">NaN's</a></strong>
<ul><li><em>From:</em> Paul Schlie</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00287.html">NaN's</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00289.html">Re: NaN's</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00287.html">NaN's</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00289.html">Re: NaN's</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00288"><strong>Date</strong></a></li>
<li><a href="threads.html#00288"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
