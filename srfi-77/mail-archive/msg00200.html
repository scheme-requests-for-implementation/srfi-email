<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Common Lisp solved this problem 20 years ago -->
<!--X-From-R13: orne <orneNfbavp.arg> -->
<!--X-Date: Tue, 25 Oct 2005 17:53:02 +0200 (MST) -->
<!--X-Message-Id: Pine.LNX.4.58.0510250843200.18907@bolt.sonic.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 435E10AE.8010807@astrosmo.unam.mx -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Common Lisp solved this problem 20 years ago</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00199.html">Date Prev</a>][<a href="msg00201.html">Date Next</a>][<a href="msg00199.html">Thread Prev</a>][<a href="msg00205.html">Thread Next</a>][<a href="maillist.html#00200">Date Index</a>][<a href="threads.html#00200">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Common Lisp solved this problem 20 years ago</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-77">SRFI 77</a> from before July 7th, 2015.  The new archives for SRFI 77 are <a href="http://srfi-email.schemers.org/srfi-77/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Alan Watson &lt;<a href="mailto:a.watson@DOMAIN.HIDDEN">a.watson@xxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: Common Lisp solved this problem 20 years ago</li>
<li><em>From</em>: bear &lt;<a href="mailto:bear@DOMAIN.HIDDEN">bear@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Tue, 25 Oct 2005 08:52:49 -0700 (PDT)</li>
<li><em>Cc</em>: <a href="mailto:srfi-77@DOMAIN.HIDDEN">srfi-77@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-77@DOMAIN.HIDDEN">srfi-77@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:435E10AE.8010807@DOMAIN.HIDDEN">435E10AE.8010807@xxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:435E10AE.8010807@DOMAIN.HIDDEN">435E10AE.8010807@xxxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>

On Tue, 25 Oct 2005, Alan Watson wrote:

&gt;I aplaud this goal. However, rather than create this horrid mess of
&gt;type-specific operators, I would much prefer an approach that used type
&gt;declarations...
&gt;
&gt;Essentially, if you want to do this, follow Common Lisp.
&gt;
&gt;Yes, I know that if you provide Lisp-like macros and these type-specific
&gt;operators, then I can implement these myself. However, my gut tells me
&gt;that this sort of thing should be provided by the compiler writer.

I think I agree.  The way common lisp does it is good; a type
declaration can be added or removed at any time and never ever changes
the semantics of correct code (That is, code that would be correct
without the type declaration).  So an implementation that doesn't
distinguish this stuff simply ignores type declarations, and an
implementation that takes advantage of type information uses them.

And your &quot;safe mode&quot; falls out of it very simply; you can just replace
the declaration syntax with null syntax and recompile and the whole
thing will use generic operations.

The only place this *doesn't* work is when we're relying on semantics
that the generic operators don't have; if you want something that
wraps or saturates or signals rather than returning a bignum, and
you're relying on that as correct and required semantics rather than
an error case, then you need different operators.  But in that case I
don't think you wanted to hide your intent to use overflow behavior
behind a generic '+' or whatever, either.

				Bear



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00199" href="msg00199.html">Common Lisp solved this problem 20 years ago</a></strong>
<ul><li><em>From:</em> Alan Watson</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00199.html">Common Lisp solved this problem 20 years ago</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00201.html">Re: arithmetic issues</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00199.html">Common Lisp solved this problem 20 years ago</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00205.html">Re: Common Lisp solved this problem 20 years ago</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00200"><strong>Date</strong></a></li>
<li><a href="threads.html#00200"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
