<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: arithmetic issues -->
<!--X-From-R13: Bnhy Epuyvr <fpuyvrNpbzpnfg.arg> -->
<!--X-Date: Thu, 19 Jan 2006 04:26:06 +0100 (MET) -->
<!--X-Message-Id: BFF470EB.CB5D%schlie@comcast.net -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: arithmetic issues</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00362.html">Date Prev</a>][<a href="msg00364.html">Date Next</a>][<a href="msg00362.html">Thread Prev</a>][<a href="msg00364.html">Thread Next</a>][<a href="maillist.html#00363">Date Index</a>][<a href="threads.html#00363">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: arithmetic issues</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: &lt;<a href="mailto:srfi-77@DOMAIN.HIDDEN">srfi-77@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: arithmetic issues</li>
<li><em>From</em>: Paul Schlie &lt;<a href="mailto:schlie@DOMAIN.HIDDEN">schlie@xxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Wed, 18 Jan 2006 22:25:47 -0500</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-77@DOMAIN.HIDDEN">srfi-77@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Thread-index</em>: AcYcqAm7SFGmuoibEdqC6wADk1ictA==</li>
<li><em>Thread-topic</em>: arithmetic issues</li>
<li><em>User-agent</em>: Microsoft-Entourage/11.2.1.051004</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>As a potential hybrid alternative (being a believer that all numeric
types beyond some &quot;reasonable&quot; minimally useful fixnum precision should
be enabled though optionally, although possibly typically, supported
libraries); might it be acceptable to consider modeling fixnums after
flonums whose operations are arguably closed over their domain bounded
by infinites; thereby some minimally required fixnum precision domain
may be similarly bounded by infinites and thereby closed over arithmetic
operations?

Thereby hypothetically to keep things real simple, it may even be
considered reasonable to bound fixnums by a sign-less Inf (i.e. NaN);
effectively enabling basic balanced fixnums to be defined as:

 NaN -(2^(P-1)-1) 0 +(2^(P-1)-1) NaN

[where NaN is effectively = -2^(P-1), i.e. the pattern 10...]

Thereby any overflow may be relatively easily detected, and trapped
to return NaN, which in turn closes all subsequent operations to
corresponding return NaN.

Where then precision required beyond (for the sake of argument P=16)
and more efficient modulo and/or greater precision fixnum data types
may be enabled through either virtual or literal libraries, as would
be the support for extended exact and inexact data types and their
correspondingly overloaded operators?

Where further for the sake of argument, as I personally dislike the
proposed use of typed functions (i.e. fl+ etc.); I'd much prefer that
simple default semantics be defined for mixed data type operations.
For example something along the line of &quot;operations will be performed
in the declared order at the precision of the most precise operand&quot;;
and enable the precision of the operation to be generically explicitly
controlled by enabling either the operator and/or operands to be cast
to an alternate explicit type, i.e.:

 (+ 1/4 2.5) :: (+ 1/4 (&lt;exact&gt; 2.5)) :: (+ 1/4 5/2)

  =&gt; 11/4 &lt;exact&gt; ; as &lt;exact&gt; is most precise.

 ((&lt;float&gt; +) 1/4 2.5) :: (+ (&lt;float&gt; 1/4) (&lt;float&gt; 2.5)) :: (+ 0.25 2.5)

  =&gt; 2.75 &lt;float&gt; ; as both operands were effectively cast to &lt;float&gt;.

 (+ (&lt;fixed&gt; 1/4) 2.5) :: (+ 0 2.5)

  =&gt; 2.5 &lt;float&gt; ; as &lt;float&gt; is most precise.

 ((&lt;fixed&gt; +) 1/4 2.5) :: (+ (&lt;fixed&gt; 1/4) (&lt;fixed&gt; 2.5)) :: (+ 0 2)

  =&gt; 2 &lt;fixed&gt; ; as both operands were effectively cast to &lt;fixed&gt;.



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00362.html">Re: arithmetic issues</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00364.html">Re: arithmetic issues</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00362.html">Re: arithmetic issues</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00364.html">Re: arithmetic issues</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00363"><strong>Date</strong></a></li>
<li><a href="threads.html#00363"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
