<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: arithmetic issues -->
<!--X-From-R13: orne <orneNfbavp.arg> -->
<!--X-Date: Wed, 18 Jan 2006 19:21:36 +0100 (MET) -->
<!--X-Message-Id: Pine.LNX.4.58.0601180950490.16394@bolt.sonic.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1Ez6Ga&#45;0002aS&#45;7Q@welsh.ccs.neu.edu -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: arithmetic issues</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00351.html">Date Prev</a>][<a href="msg00353.html">Date Next</a>][<a href="msg00359.html">Thread Prev</a>][<a href="msg00375.html">Thread Next</a>][<a href="maillist.html#00352">Date Index</a>][<a href="threads.html#00352">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: arithmetic issues</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-77">SRFI 77</a> from before July 7th, 2015.  The new archives for SRFI 77 are <a href="http://srfi-email.schemers.org/srfi-77/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: William D Clinger &lt;<a href="mailto:will@DOMAIN.HIDDEN">will@xxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: arithmetic issues</li>
<li><em>From</em>: bear &lt;<a href="mailto:bear@DOMAIN.HIDDEN">bear@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Wed, 18 Jan 2006 10:21:07 -0800 (PST)</li>
<li><em>Cc</em>: <a href="mailto:srfi-77@DOMAIN.HIDDEN">srfi-77@xxxxxxxxxxxxxxxxx</a>, <a href="mailto:agj@DOMAIN.HIDDEN">agj@xxxxxxxxxxxx</a>,	<a href="mailto:sperber@DOMAIN.HIDDEN">sperber@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-77@DOMAIN.HIDDEN">srfi-77@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:E1Ez6Ga-0002aS-7Q@DOMAIN.HIDDEN">E1Ez6Ga-0002aS-7Q@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:E1Ez6Ga-0002aS-7Q@DOMAIN.HIDDEN">E1Ez6Ga-0002aS-7Q@xxxxxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>

On Wed, 18 Jan 2006, William D Clinger wrote:

&gt; As for assumption 3, type declarations cannot address the
&gt; portability and predictability issues unless implementations
&gt; are required to interpret those declarations in a consistent
&gt; way.  Given the expectations created by Common Lisp, many
&gt; Scheme programmers would make the mistake of thinking that
&gt; type declarations are for performance, and that interpreters
&gt; are free to ignore them.  Some implementors might make the
&gt; same mistakes, especially when you consider that requiring
&gt; implementations to pay attention to type declarations is
&gt; likely to make interpreters slower, not faster.

I'd like to point out a few things in favor of type declarations:

1) Generality: they are more general than any solution which is
   specifically and solely numeric.  Optional declarations can
   apply to more than just numbers.

2) Sufficiency: Given type declarations, it is very easy to create
   type specific operations.  The converse is not true.

3) Minimizing Namespace Pollution: I do not want a language where
   there are fifteen different type-specific versions of most
   functions, each of which has a unique name to remember.

4) Switchability:  It is easy to provide &quot;null syntax&quot; mirroring
   declarations, allowing easy comparison and profiling of the code
   with and without declarations without requiring any modification
   of the code itself.  This makes it easy to expose compiler bugs
   or declarations with unexpected effects.

5) Expressivity:  Declarations can also be read as internal
   documentation asserting that certain things are true about the
   code in the declaration forms.  And they are a small, consistent
   language with consistent meaning, not requiring me to memorize
   the type characteristics of hundreds or thousands of different
   functions.  IOW, they make the type information more accessible
   by using fewer and more general forms to express it.

6) Optionality:  Scheme systems are *NOT* required to use the information
   available in type declarations for optimization or checking purposes.
   Those that care a lot about performance will use them for optimization.
   Those that care a lot about correctness and a useful dev environment
   will generate code to check the type assertions and make sure that they
   are correct.  Those that care a lot about both will provide modes
   that do both.  And this is as it should be.  Optional information
   provides implementors with a means to legally make optimizations
   without requiring them to make assumptions that may result in broken
   or risky code in the general case.

7) Abstraction Barriers:  I think that implementors who care about
   different aspects of numeric computation ought to be free to use
   a different representation for numbers.  What the proposed &quot;type-
   specific numeric operations&quot; intend to do is to mandate hardware
   ints/floats as the representation for numbers, and if you want to
   deal with hardware numbers, I suggest you ought to be talking about
   an interface to machine code rather than scheme numeric operations.

For these specific reasons, and several others that mostly boil down
to &quot;aesthetics,&quot; I strongly believe that expressing type information
as optional declarations is generally superior to the approach of
providing type specific versions of everything -- and if type specific
versions of everything are what you want after all, optional declarations
provide a simple means of creating them.

					Bear

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00350" href="msg00350.html">Re: arithmetic issues</a></strong>
<ul><li><em>From:</em> William D Clinger</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00351.html">Re: arithmetic issues</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00353.html">Re: arithmetic issues</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00359.html">Re: arithmetic issues</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00375.html">Re: straw-man [was Re: arithmetic issues]</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00352"><strong>Date</strong></a></li>
<li><a href="threads.html#00352"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
