<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: Should SRFI&#45;115 character sets match extended grapheme clusters? -->
<!--X-From-R13: Xbua Qbjna <pbjnaNzrephel.ppvy.bet> -->
<!--X-Date: Sun, 11 May 2014 18:08:35 +0000 (UTC) -->
<!--X-Message-Id: 20140511180833.GD17946@mercury.ccil.org -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 87bnv4ifwu.fsf@yeeloong.lan -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Should SRFI-115 character sets match extended grapheme clusters?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00166.html">Date Prev</a>][<a href="msg00168.html">Date Next</a>][<a href="msg00166.html">Thread Prev</a>][<a href="msg00168.html">Thread Next</a>][<a href="maillist.html#00167">Date Index</a>][<a href="threads.html#00167">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Should SRFI-115 character sets match extended grapheme clusters?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Mark H Weaver &lt;<a href="mailto:mhw@DOMAIN.HIDDEN">mhw@xxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: Should SRFI-115 character sets match extended grapheme clusters?</li>
<li><em>From</em>: John Cowan &lt;<a href="mailto:cowan@DOMAIN.HIDDEN">cowan@xxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Sun, 11 May 2014 14:08:33 -0400</li>
<li><em>Cc</em>: SRFI-115 discussion list &lt;<a href="mailto:srfi-115@DOMAIN.HIDDEN">srfi-115@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-115@DOMAIN.HIDDEN">srfi-115@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="msg00166.html">87bnv4ifwu.fsf@yeeloong.lan</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg00166.html">87bnv4ifwu.fsf@yeeloong.lan</a>&gt;</li>
<li><em>Sender</em>: John Cowan &lt;<a href="mailto:cowan@DOMAIN.HIDDEN">cowan@xxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Mutt/1.5.20 (2009-06-14)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Mark H Weaver scripsit:

&gt; It occurs to me that users of languages that make heavy use of combining
&gt; marks will likely find the behavior of &quot;character sets&quot; to be quite
&gt; unintuitive if they operate on code points.  

The way around that is normalization of the input, I think.  I will be
proposing a normalization SRFI in future, presumably including the R6RS
normalization procedures and some version of the normalized-comparison
procedures that were rejected from R7RS-small.

&gt; I realize that most languages (including Scheme) treat code points as
&gt; characters, that SRFI-14 character sets are really sets of code points,
&gt; and that most regexp libraries probably do the same thing.  However, it
&gt; also seems to me that these are most likely mistakes, with bad
&gt; consequences for the usability of regexps in many languages.

Trying to hide normalization and grapheme clusters under the table runs
into the problem that the definition of grapheme clusters keeps growing.
First there were default GCs (now known as legacy GCs), then there were
extended GCs, and there is still the possibility of tailored GCs for
specific language or locales.  In addition, once we are normalized,
there is typically only one representation of a grapheme cluster, so
it doesn't affect RE processing.

Better, I think, to keep REs working on codepoints, the lowest common
denominator, and outsource everything else.

-- 
John Cowan          <a  rel="nofollow" href="http://www.ccil.org/~cowan">http://www.ccil.org/~cowan</a>        cowan@xxxxxxxx
You annoy me, Rattray!  You disgust me! You irritate me unspeakably!
Thank Heaven, I am a man of equable temper, or I should scarcely be able
to contain myself before your mocking visage.  --Stalky imitating Macrea

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00168" href="msg00168.html">Re: Should SRFI-115 character sets match extended grapheme clusters?</a></strong>
<ul><li><em>From:</em> Mark H Weaver</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00166" href="msg00166.html">Should SRFI-115 character sets match extended grapheme clusters?</a></strong>
<ul><li><em>From:</em> Mark H Weaver</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00166.html">Should SRFI-115 character sets match extended grapheme clusters?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00168.html">Re: Should SRFI-115 character sets match extended grapheme clusters?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00166.html">Should SRFI-115 character sets match extended grapheme clusters?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00168.html">Re: Should SRFI-115 character sets match extended grapheme clusters?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00167"><strong>Date</strong></a></li>
<li><a href="threads.html#00167"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
