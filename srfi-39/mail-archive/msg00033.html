<!-- MHonArc v2.6.15 -->
<!--X-Subject: Re: Moving ahead -->
<!--X-From-R13: [nep Trryrl <srryrlNWDA.G[bagerny.QO> -->
<!--X-Date: Sat,  8 Mar 2003 15:38:01 +0100 (NFT) -->
<!--X-Message-Id: 200303081437.h28EbZds008351@dino00.iro.umontreal.ca -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 200303072209.h27M9Uad005975@dino00.iro.umontreal.ca -->
<!--X-Reference: 3E69EE42.3000101@freenet.de -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Moving ahead</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00032.html">Date Prev</a>][<a href="msg00034.html">Date Next</a>][<a href="msg00032.html">Thread Prev</a>][<a href="msg00034.html">Thread Next</a>][<a href="maillist.html#00033">Date Index</a>][<a href="threads.html#00033">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Moving ahead</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:felixundduni@DOMAIN.HIDDEN">felixundduni@xxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: Moving ahead</li>
<li><em>From</em>: Marc Feeley &lt;<a href="mailto:feeley@DOMAIN.HIDDEN">feeley@xxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Sat, 8 Mar 2003 09:37:35 -0500</li>
<li><em>Cc</em>: <a href="mailto:srfi-39@DOMAIN.HIDDEN">srfi-39@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-39@DOMAIN.HIDDEN">srfi-39@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:3E69EE42.3000101@DOMAIN.HIDDEN">3E69EE42.3000101@xxxxxxxxxx</a>&gt; (message from felix on Sat, 08 Mar	2003 14:21:06 +0100)</li>
<li><em>References</em>: &lt;<a href="mailto:200303072209.h27M9Uad005975@DOMAIN.HIDDEN">200303072209.h27M9Uad005975@xxxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:3E69EE42.3000101@DOMAIN.HIDDEN">3E69EE42.3000101@xxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>&gt; Is it really necessary for SRFI-39 to specify this? As per R5RS `delay'
&gt; and `force' are defined clearly without capturing the dynamic context.
&gt; So in the obvious implementation of `with-output-to-file' (via `dynamic-wind')
&gt; promises would not retain the dynamic environment and your example
&gt; would not behave as you intended.
&gt; 
&gt; Moreover, it might be useful to change the context in which the force
&gt; happens (say, I'd want to redirect output to a log file, or a custom
&gt; `tee' port).

I think this SRFI has to specify what happens with DELAY, because
DELAY is required by R5RS.  Doing nothing special as you propose would
not be modular.  Let's call the piece of code that creates a promise
the &quot;creator&quot; and the piece of code that forces it the &quot;forcer&quot;.  Then
in your approach the creator needs to be aware of the forcer(s) and
the forcer(s) need to be aware of the creator (because the dynamic
environment of the creator and forcer is not the same in general).
This is not modular.  Note that the lambda form does not close over
the dynamic environment so why should it be different from delay?
Well if you did this the &quot;dynamic environment&quot; would in fact be the
lexical environment so you would lose all the benefits of dynamic
binding.  When one writes a function with lambda there is an
expectation that the dynamic environment is abstracted over.  However
when using a DELAY the expectation is that only the evaluation time
is changed, not the computation being performed (unless side-effects
are performed that expose the evaluation order).

Marc

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00034" href="msg00034.html">Re: Moving ahead</a></strong>
<ul><li><em>From:</em> Alhambra Petrofsky</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00031" href="msg00031.html">Moving ahead</a></strong>
<ul><li><em>From:</em> Marc Feeley</li></ul></li>
<li><strong><a name="00032" href="msg00032.html">Re: Moving ahead</a></strong>
<ul><li><em>From:</em> felix</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00032.html">Re: Moving ahead</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00034.html">Re: Moving ahead</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00032.html">Re: Moving ahead</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00034.html">Re: Moving ahead</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00033"><strong>Date</strong></a></li>
<li><a href="threads.html#00033"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
