<!-- MHonArc v2.6.16 -->
<!--X-Subject: Marker #!srfi&#45;105 -->
<!--X-From-R13: "Rnivq O. Iurryre" <qjurryreNqjurryre.pbz> -->
<!--X-Date: Tue,  4 Sep 2012 20:24:37 +0000 (UTC) -->
<!--X-Message-Id: E1T8zfn&#45;0007Wz&#45;Ri@fenris.runbox.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1T8he6&#45;0006wC&#45;0P@fenris.runbox.com -->
<!--X-Reference: E1T8hqN&#45;0007Yk&#45;Ns@fenris.runbox.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Marker #!srfi-105</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00059.html">Date Prev</a>][<a href="msg00061.html">Date Next</a>][<a href="msg00055.html">Thread Prev</a>][<a href="msg00061.html">Thread Next</a>][<a href="maillist.html#00060">Date Index</a>][<a href="threads.html#00060">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Marker #!srfi-105</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-105">SRFI 105</a> from before July 7th, 2015.  The <a href="http://srfi-email.schemers.org/srfi-105">new archives</a> for SRFI 105 contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-105@DOMAIN.HIDDEN">srfi-105@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Marker #!srfi-105</li>
<li><em>From</em>: &quot;David A. Wheeler&quot; &lt;<a href="mailto:dwheeler@DOMAIN.HIDDEN">dwheeler@xxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Tue, 04 Sep 2012 16:24:35 -0400 (EDT)</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-105@DOMAIN.HIDDEN">srfi-105@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:E1T8hqN-0007Yk-Ns@DOMAIN.HIDDEN">E1T8hqN-0007Yk-Ns@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:E1T8he6-0006wC-0P@DOMAIN.HIDDEN">E1T8he6-0006wC-0P@xxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:E1T8hqN-0007Yk-Ns@DOMAIN.HIDDEN">E1T8hqN-0007Yk-Ns@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Reply-to</em>: <a href="mailto:dwheeler@DOMAIN.HIDDEN">dwheeler@xxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>A key issue in the previous discussions was having some sort of reader marker to enable this SRFI, in case it isn't already enabled.  I've used #!srfi-105 as the marker, even though #!...!# has a different use in guile.

SRFI-105 doesn't require support for anything other than its own marker, but I think SRFI-105 would be more acceptable if there *COULD* be a rationalized general interpretation for &quot;#!&quot;.

So, below is a copy of the rationale for this marker, from the draft SRFI 105.  I think it shows that &quot;#!&quot; COULD have a general semantic that would unify SRFI-22, guile, and R7RS' markers.  There's no requirement that this convention be implemented, but I think showing you COULD have a convention would encourage acceptance.

If anyone has any comments, please post.  Thanks.

--- David A. Wheeler

===================

&lt;p&gt;
We would like implementations to always have curly-infix enabled.
However, some implementations may have other extensions
that use &lt;code&gt;{&lt;/code&gt;...&lt;code&gt;}&lt;/code&gt;.
We want a simple, standard way to identify code that uses curly-infix
so that readers will switch to curly-infix if they need to switch.
&lt;a href=&quot;<a  rel="nofollow" href="http://srfi.schemers.org/srfi-105/mail-archive/msg00027.html&quot">http://srfi.schemers.org/srfi-105/mail-archive/msg00027.html&quot</a>;&gt;
This marker was recommended during discussion of SRFI-105&lt;/a&gt;.
After all, R6RS and R7RS (draft 6) already use
&lt;var&gt;#!fold-case&lt;/var&gt; and &lt;var&gt;#!no-fold-case&lt;/var&gt;
as special markers to control the reader.
Using &lt;var&gt;#!srfi-105&lt;/var&gt; is a simple, similar-looking marker
for a similar situation.
What&amp;#8217;s more, it implies a reasonable convention for reader extensions:
markers that begin with &lt;code&gt;#!&lt;/code&gt;, followed by an ASCII letter, should
have the rest read as an identifier (up to a whitespace)
and use that to control the reader, and &lt;code&gt;srfi-&lt;/code&gt; should be
the namespace for SRFIs.
&lt;/p&gt;

&lt;p&gt;
This marker need not interfere with other uses of &lt;var&gt;#!&lt;/var&gt;.
&lt;a href=&quot;<a  rel="nofollow" href="http://srfi.schemers.org/srfi-22/srfi-22.html&quot">http://srfi.schemers.org/srfi-22/srfi-22.html&quot</a>;&gt;SRFI-22&lt;/a&gt; supports
&lt;var&gt;#!&lt;/var&gt;
followed by space as a comment to the end of the line; this is supported
by several implementations, but this is easily distinguished from this
marker by the space.
Guile, clisp, and several other Lisps support
&lt;code&gt;#!&lt;/code&gt;...&lt;code&gt;!#&lt;/code&gt;
as a multi-line comment, enabling scripts with mixed languages and
multi-line arguments.
But in practice the &lt;var&gt;#!&lt;/var&gt; is almost always
followed immediately by &lt;code&gt;/&lt;/code&gt; or &lt;code&gt;.&lt;/code&gt;, and other scripts
could be trivially fixed to make that so.
R6RS had a non-normative recommendation to ignore a line that began
with &lt;var&gt;#!/usr/bin/env&lt;/var&gt;, as well
as a &lt;var&gt;#!&amp;nbsp;/usr/bin/env&lt;/var&gt;, but this is non-normative;
an implementation could easily implement &lt;var&gt;#!&lt;/var&gt; followed by space
as an ignored line, and treat &lt;var&gt;#!&lt;/var&gt; followed by
&lt;code&gt;/&lt;/code&gt; or &lt;code&gt;.&lt;/code&gt; differently.
Thus, implementations could trivially support simultaneously markers such as
&lt;var&gt;#!srfi-105&lt;/var&gt;
to identify curly-infix, the SRFI-22 &lt;var&gt;#!&lt;/var&gt;+space marker as
an ignored line, and support
&lt;var&gt;#!/&amp;nbsp;...!#&lt;/var&gt; and &lt;var&gt;#!.&amp;nbsp;...!#&lt;/var&gt; as a
multi-line comment.
Note that this SRFI does &lt;em&gt;not&lt;/em&gt; mandate support or any particular
semantics for &lt;var&gt;#!fold-case&lt;/var&gt;, &lt;var&gt;#!no-fold-case&lt;/var&gt;,
the SRFI-22 &lt;var&gt;#!&lt;/var&gt;+space convention, or
&lt;var&gt;#!&lt;/var&gt; followed by a slash or period;
it is merely designed so that implementations &lt;em&gt;could&lt;/em&gt;
implement them all simultaneously.
We recommend that &lt;var&gt;#!srfi-105&lt;/var&gt; not be the first two characters
in a file (e.g., put a newline in front of it).
If the file began with &lt;var&gt;#!srfi-105&lt;/var&gt;, is made executable,
and then execution is attempted,
this might confuse some systems into trying to run the
program &lt;var&gt;srfi-105&lt;/var&gt;.
&lt;/p&gt;

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00061" href="msg00061.html">srfi-105 and srfi-38</a></strong>
<ul><li><em>From:</em> Shiro Kawai</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00054" href="msg00054.html">Updated SRFI-105</a></strong>
<ul><li><em>From:</em> David A. Wheeler</li></ul></li>
<li><strong><a name="00055" href="msg00055.html">Updated SRFI-105 highlights</a></strong>
<ul><li><em>From:</em> David A. Wheeler</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00059.html">Re: Predefined nfx considered harmful</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00061.html">srfi-105 and srfi-38</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00055.html">Updated SRFI-105 highlights</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00061.html">srfi-105 and srfi-38</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00060"><strong>Date</strong></a></li>
<li><a href="threads.html#00060"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
