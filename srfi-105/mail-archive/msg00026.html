<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: SRFI 105: Curly&#45;infix&#45;expressions -->
<!--X-From-R13: "Rnivq O. Iurryre" <qjurryreNqjurryre.pbz> -->
<!--X-Date: Mon, 27 Aug 2012 19:39:09 +0000 (UTC) -->
<!--X-Message-Id: E1T659P&#45;0004sq&#45;O5@fenris.runbox.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1T5nSK&#45;00084G&#45;6i@fenris.runbox.com -->
<!--X-Reference: 20120826.182304.931495076416921545.shiro@lava.net -->
<!--X-Reference: E1T5yCj&#45;0002HP&#45;1q@fenris.runbox.com -->
<!--X-Reference: 20120827.084849.350550980193030524.shiro@lava.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: SRFI 105: Curly-infix-expressions</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00025.html">Date Prev</a>][<a href="msg00027.html">Date Next</a>][<a href="msg00025.html">Thread Prev</a>][<a href="msg00035.html">Thread Next</a>][<a href="maillist.html#00026">Date Index</a>][<a href="threads.html#00026">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: SRFI 105: Curly-infix-expressions</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-105">SRFI 105</a> from before July 7th, 2015.  The new archives for SRFI 105 are <a href="http://srfi-email.schemers.org/srfi-105/">here</a>.  The new archives contain all messages, not just those from before July 7th, 2015.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-105@DOMAIN.HIDDEN">srfi-105@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: Re: SRFI 105: Curly-infix-expressions</li>
<li><em>From</em>: &quot;David A. Wheeler&quot; &lt;<a href="mailto:dwheeler@DOMAIN.HIDDEN">dwheeler@xxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Mon, 27 Aug 2012 15:39:07 -0400 (EDT)</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-105@DOMAIN.HIDDEN">srfi-105@xxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:20120827.084849.350550980193030524.shiro@DOMAIN.HIDDEN">20120827.084849.350550980193030524.shiro@xxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:E1T5nSK-00084G-6i@DOMAIN.HIDDEN">E1T5nSK-00084G-6i@xxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:20120826.182304.931495076416921545.shiro@DOMAIN.HIDDEN">20120826.182304.931495076416921545.shiro@xxxxxxxx</a>&gt; &lt;<a href="mailto:E1T5yCj-0002HP-1q@DOMAIN.HIDDEN">E1T5yCj-0002HP-1q@xxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:20120827.084849.350550980193030524.shiro@DOMAIN.HIDDEN">20120827.084849.350550980193030524.shiro@xxxxxxxx</a>&gt;</li>
<li><em>Reply-to</em>: <a href="mailto:dwheeler@DOMAIN.HIDDEN">dwheeler@xxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Shiro Kawai:
&gt; My point is &quot;readability of infix notation owes the ability to make
&gt; each leaf node 'dense' visually.&quot;  Grouping higher-precedence
&gt; operators (including unary operators) without whitespaces is one way
&gt; people do so.

I think that operators need to be delimited in a Lisp (e.g., by whitespace).  There are just too many operator symbols with embedded -, =, and so on.  Any other rule would be too  complex and brittle.  In contrast, the whitespace-delimited rule is simple, clear, and consistent with Lisp history.

And in practice, expressions like:
  {{a * b}  +  {c * d}}
Seem extremely readable to me.  That's subjective, but I think many people would have little trouble guessing what that expression &quot;probably&quot; means. That's not the most important test, but it does hint that it's a reasonable approach.

&gt; (More broader point is that people take advantage of ability to
&gt; control density, in traditional notations, to improve readability.
&gt; This density control not only means whitespaces, but also the liberal
&gt; use of grouping parentheses (predefined operator precedence allows
&gt; one to omit parens; otoh, one can use redundant parens to emphasize
&gt; the tree structure visually.)

Exactly so.  Lisps focus on lists, so emphasizing the tree structure seems to me to be the better approach.  Thus, the curly-infix lists are intentionally NOT redundant; the parens and curly braces have semantic meaning, in that they both create lists.  This isn't hard to use, because EVERY time you want an operator, you have to create a new list. It's extremely regular, so it takes almost no time to get used to them (in our experience).  The only question is, &quot;do I want to use operators in infix or prefix position?&quot; and then use {..} or (..) based on the answer.

&gt; I'm not opposing to infix notations.  I'm trying to bring up why infix
&gt; notation is traditionally preferred (other than &quot;because people are
&gt; used to it&quot;, which is obvious), and to see if those factors
&gt; can be carried into the srfi to make it better.

I appreciate all efforts to improve the SRFI.  Thanks!

I will say, though, that I think the &quot;people are used to it&quot; is the absolutely dominant reason.  There may be reasons that certain social customs were chosen over others, but once they become common, those original reasons often become less important than familiarity itself.

&gt; About operator precedence:
&gt; 
&gt; &gt; The best approach to answer that question is to write actual programs using the notation.  Alan Manuel Gloria and I have both written actual programs using this notation (and some others).  They aren't millions of lines of code, but they are at least actual experience.  What we found is that you really don't miss precedence much in practice. In fact, explicit grouping has advantages in terms of clarity - it is abundantly clear to later readers what will happen.
&gt; 
&gt; This is the sort of things I'd like to listen to.  Thanks for sharing.

Thanks.  I didn't think it would be appropriate to list specific programs in a SRFI, but in the interest of maximizing disclosure, I should mention them here.

As part of our experiments with our notations, both Alan Manuel Gloria and I agreed to write at least one program using Scheme and our notation:
* I wrote &quot;sweeten&quot;, a program that translates traditional s-expressions into the sweet-expression notation (this notation includes curly-infix as a subset).  The key point is that this program is heavy on list processing and text output.  To see a copy, get the file &quot;src/sweeten.sscm&quot; in <a  rel="nofollow" href="http://sourceforge.net/projects/readable/files/">http://sourceforge.net/projects/readable/files/</a>
* Alan Manuel Gloria wrote letterfall, a GUI typing practice game.  Code is here: <a  rel="nofollow" href="https://github.com/AmkG/letterfall">https://github.com/AmkG/letterfall</a>

Notice that these are really different domains, written by two different people.  In both cases, we think the result works nicely.  To be fair, we are using a *set* of notations, not just curly-infix, but curly-infix is critical part of it.

No such exercise can prove that a notation is the &quot;best possible&quot;, but it at least shows that the notation works.  We both think it's a terrific improvement from traditional notation.

&gt; Yes, actually I knew the &quot;readable&quot; project before seeing this srfi.
&gt; I merely suggest emphasizing that combining those notations empowers
&gt; each, even though individual features may be useful with its own.

Oh, I completely agree with you there.  In the readable project we've designed all three tiers to work well with each other.  But curly-infix doesn't change the meaning of any existing portable Scheme code, so I thought it would be a reasonable piece to submit and discuss separately.

--- David A. Wheeler

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00035" href="msg00035.html">Re: SRFI 105: Curly-infix-expressions</a></strong>
<ul><li><em>From:</em> Shiro Kawai</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00011" href="msg00011.html">Re: SRFI 105: Curly-infix-expressions</a></strong>
<ul><li><em>From:</em> David A. Wheeler</li></ul></li>
<li><strong><a name="00016" href="msg00016.html">Re: SRFI 105: Curly-infix-expressions</a></strong>
<ul><li><em>From:</em> Shiro Kawai</li></ul></li>
<li><strong><a name="00020" href="msg00020.html">Re: SRFI 105: Curly-infix-expressions</a></strong>
<ul><li><em>From:</em> David A. Wheeler</li></ul></li>
<li><strong><a name="00025" href="msg00025.html">Re: SRFI 105: Curly-infix-expressions</a></strong>
<ul><li><em>From:</em> Shiro Kawai</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00025.html">Re: SRFI 105: Curly-infix-expressions</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00027.html">Re: SRFI 105: Curly-infix-expressions</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00025.html">Re: SRFI 105: Curly-infix-expressions</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00035.html">Re: SRFI 105: Curly-infix-expressions</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00026"><strong>Date</strong></a></li>
<li><a href="threads.html#00026"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
