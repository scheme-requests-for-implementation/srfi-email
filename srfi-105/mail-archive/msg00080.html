<!-- MHonArc v2.6.16 -->
<!--X-Subject: curly&#45;infix examples -->
<!--X-From-R13: "Rnivq O. Iurryre" <qjurryreNqjurryre.pbz> -->
<!--X-Date: Fri, 14 Sep 2012 20:22:15 +0000 (UTC) -->
<!--X-Message-Id: E1TCcP0&#45;00075N&#45;B1@fenris.runbox.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>curly-infix examples</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00079.html">Date Prev</a>][<a href="msg00081.html">Date Next</a>][<a href="msg00079.html">Thread Prev</a>][<a href="msg00081.html">Thread Next</a>][<a href="maillist.html#00080">Date Index</a>][<a href="threads.html#00080">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>curly-infix examples</h1>
<p style="max-width: 30em;">This page is part of the web mail archives of <a href="http://srfi.schemers.org/srfi-105">SRFI 105</a> from before July 7th, 2015.  The new archives for SRFI 105 are <a href="http://srfi-email.schemers.org/srfi-105/">here</a>.  Eventually, the entire history will be moved there, including any new messages.</p>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:srfi-105@DOMAIN.HIDDEN">srfi-105@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Subject</em>: curly-infix examples</li>
<li><em>From</em>: &quot;David A. Wheeler&quot; &lt;<a href="mailto:dwheeler@DOMAIN.HIDDEN">dwheeler@xxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Fri, 14 Sep 2012 16:22:14 -0400 (EDT)</li>
<li><em>Delivered-to</em>: <a href="mailto:srfi-105@DOMAIN.HIDDEN">srfi-105@xxxxxxxxxxxxxxxxx</a></li>
<li><em>Reply-to</em>: <a href="mailto:dwheeler@DOMAIN.HIDDEN">dwheeler@xxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>FYI, here is every curly-infix-expression (c-expression) in &quot;sweeten&quot; (a list-processing program I wrote) and &quot;letterfall&quot; (a GUI real-time game written by Alan Manuel Gloria).  I thought might be useful to see &quot;actual examples&quot; to see if it all makes sense.  I think it *does* make sense.

Duplicates were not removed; if the same expression appears multiple times, that's useful information.  I did include one neoteric-expression not{...}.  One of these expressions crossed multiple lines, but for analysis purposes I merged it into one line (so that counting, etc., was easier).

Basic stats: These two programs, combined, have 78 examples of c-expressions (not counting c-expressions embedded in c-expressions).  Of these examples, 55/78 (71%) do NOT embed a curly-brace in a curly-brace. Thus, more than 2/3s of the curly-infix expressions in these programs are relatively simple things like {count-so-far + 1} and {length(x) &gt;= 3}.  Notice that allowing infix operators like &quot;char=?&quot;, &quot;eq?&quot;, and &quot;remainder&quot; really can be useful.

--- David A. Wheeler

=== sweeten ===
{length(indent-increment) * 3}
{length(indent) - length(marked-indent-increment)}
{{length(indent) &gt; min-indent-marking} and last-indent-unmarked(indent)}
{length(x) &lt; boring-length}
{count-so-far + 1}
{count-so-far + 1}
{length(x) &gt;= 3}
{length(x) &lt;= 6}
{pair?(x) and null?(cdr(x))}
{pos + length(item)}
{{pos + length(item-sameline)} &lt; maxwidth}
{pos + length(item-sameline)}
{{posdent(indent-already indent) + newlen} &lt; maxwidth}
{memq(car(m) cuddle-first-parameter) and {length(m) &gt;= 3}}
{ {length-asline &lt; max-unit-character-length} and fits-width?(indent-already indent length-asline) and {general-length(m) &lt; max-unit-list-length} }
{char?(car(x)) and null?(cdr(x)) and {car(x) eq? #\newline}}
{not{c eq? next} and memq(next end-of-line-chars)}
{c char=? #\;}
{{c char=? #\space} or {c char=? tab}}


=== letterfall ===
{{ 64 &lt; n } and { n &lt;= { 64 + 26 }}}
{ n - 64 - 1 }
{{ 96 &lt; n } and { n &lt;= { 96 + 26 }}}
{ n - 96 - 1 }
{{ 48 &lt;= n } and { n &lt;= { 48 + 9 }}}
{ n - 48 }
{ c char=? #\- }
{ c char=? #\' }
{ kv &lt;= 126 }
{ kv = gdk:Escape }
{ char-toupper(k) char=? c }
{ col + 1 }
{ 20 - inexact-&gt;exact(floor{ len / 2 })}
{ 7 + n }
{ 64 + n + 1 }
{ char-toupper(k) char=? char }
{ score + 1 }
{{ nscore remainder 10 } = 0 }
{ level + 1 }
{ k char=? esc-key }
{ line + 1 }
{ line = 22 }
{ line + 1 }
{ k char=? esc-key }
{{ 0.75 expt level } * 400 }
{{ 96 &lt; n } and { n &lt;= { 96 + 26 }}}
{ n - 32 }
{ 40 * 25 }
{ 40 * 25 }
{ n = { 40 * 25 }}
{ n + 1 }
{ x + { y * 40 }}
{ cursor + 1 }
{ cursor &gt;= { 40 * 25 }}
{ i = end }
{ i + 1 }
{ screen-width / 320 }
{ screen-height / 200 }
{ 40 * 25 }
{ x + 1 }
{ y + 1 }
{ rescaled&lt;x+1&gt; - rescaled&lt;x&gt; }
{ rescaled&lt;y+1&gt; - rescaled&lt;y&gt; }
{{ screen-width / 2 } + {{ x - 160 } * scaling-factor }}
{{ screen-height / 2 } + {{ y - 100 } * scaling-factor }}
{ n = { 40 * 25 }}
{ n / 40 }
{ n - { l * 40 }}
not{ vector-ref(display-screen n) char=? vector-ref(latest-screen n) }
{ n + 1 }
{ c * 8 }
{ l * 8 }
{ i = 8 }
{ i + 1 }
{ x = 8 }
{{ line logand { 2 expt { 7 - x }}} = 0}
{ basex + x }
{ basey + y }
{ x + 1 }



=== {} embedded in {} ===
The following is the output of:   cat braces-* | grep '{[^}]*{'

{{ 64 &lt; n } and { n &lt;= { 64 + 26 }}}
{{ 96 &lt; n } and { n &lt;= { 96 + 26 }}}
{{ 48 &lt;= n } and { n &lt;= { 48 + 9 }}}
{ 20 - inexact-&gt;exact(floor{ len / 2 })}
{{ nscore remainder 10 } = 0 }
{{ 0.75 expt level } * 400 }
{{ 96 &lt; n } and { n &lt;= { 96 + 26 }}}
{ n = { 40 * 25 }}
{ x + { y * 40 }}
{ cursor &gt;= { 40 * 25 }}
{{ screen-width / 2 } + {{ x - 160 } * scaling-factor }}
{{ screen-height / 2 } + {{ y - 100 } * scaling-factor }}
{ n = { 40 * 25 }}
{ n - { l * 40 }}
{{ line logand { 2 expt { 7 - x }}} = 0}
{{length(indent) &gt; min-indent-marking} and last-indent-unmarked(indent)}
{{pos + length(item-sameline)} &lt; maxwidth}
{{posdent(indent-already indent) + newlen} &lt; maxwidth}
{memq(car(m) cuddle-first-parameter) and {length(m) &gt;= 3}}
{ {length-asline &lt; max-unit-character-length} and fits-width?(indent-already indent length-asline) and {general-length(m) &lt; max-unit-list-length} }
{char?(car(x)) and null?(cdr(x)) and {car(x) eq? #\newline}}
{not{c eq? next} and memq(next end-of-line-chars)}
{{c char=? #\space} or {c char=? tab}}



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00079.html">Re: #!curly-infix vs. #!srfi-105</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00081.html">Please update SRFI-105</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00079.html">Re: #!curly-infix vs. #!srfi-105</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00081.html">Please update SRFI-105</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00080"><strong>Date</strong></a></li>
<li><a href="threads.html#00080"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
